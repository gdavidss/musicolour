(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const c of h.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=s(u);fetch(u.href,h)}})();var _h={exports:{}},Yr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function Z_(){if($m)return Yr;$m=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,u,h){var c=null;if(h!==void 0&&(c=""+h),u.key!==void 0&&(c=""+u.key),"key"in u){h={};for(var d in u)d!=="key"&&(h[d]=u[d])}else h=u;return u=h.ref,{$$typeof:l,type:r,key:c,ref:u!==void 0?u:null,props:h}}return Yr.Fragment=n,Yr.jsx=s,Yr.jsxs=s,Yr}var tg;function Q_(){return tg||(tg=1,_h.exports=Z_()),_h.exports}var F=Q_(),yh={exports:{}},Ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg;function P_(){if(eg)return Ut;eg=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=_&&x[_]||x["@@iterator"],typeof x=="function"?x:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,A={};function E(x,I,Z){this.props=x,this.context=I,this.refs=A,this.updater=Z||T}E.prototype.isReactComponent={},E.prototype.setState=function(x,I){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,I,"setState")},E.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function R(){}R.prototype=E.prototype;function k(x,I,Z){this.props=x,this.context=I,this.refs=A,this.updater=Z||T}var q=k.prototype=new R;q.constructor=k,b(q,E.prototype),q.isPureReactComponent=!0;var P=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function Y(x,I,Z,nt,at,gt){return Z=gt.ref,{$$typeof:l,type:x,key:I,ref:Z!==void 0?Z:null,props:gt}}function U(x,I){return Y(x.type,I,void 0,void 0,void 0,x.props)}function st(x){return typeof x=="object"&&x!==null&&x.$$typeof===l}function it(x){var I={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(Z){return I[Z]})}var tt=/\/+/g;function Q(x,I){return typeof x=="object"&&x!==null&&x.key!=null?it(""+x.key):I.toString(36)}function ft(){}function ht(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ft,ft):(x.status="pending",x.then(function(I){x.status==="pending"&&(x.status="fulfilled",x.value=I)},function(I){x.status==="pending"&&(x.status="rejected",x.reason=I)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function _t(x,I,Z,nt,at){var gt=typeof x;(gt==="undefined"||gt==="boolean")&&(x=null);var vt=!1;if(x===null)vt=!0;else switch(gt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(x.$$typeof){case l:case n:vt=!0;break;case v:return vt=x._init,_t(vt(x._payload),I,Z,nt,at)}}if(vt)return at=at(x),vt=nt===""?"."+Q(x,0):nt,P(at)?(Z="",vt!=null&&(Z=vt.replace(tt,"$&/")+"/"),_t(at,I,Z,"",function(ae){return ae})):at!=null&&(st(at)&&(at=U(at,Z+(at.key==null||x&&x.key===at.key?"":(""+at.key).replace(tt,"$&/")+"/")+vt)),I.push(at)),1;vt=0;var kt=nt===""?".":nt+":";if(P(x))for(var ut=0;ut<x.length;ut++)nt=x[ut],gt=kt+Q(nt,ut),vt+=_t(nt,I,Z,gt,at);else if(ut=S(x),typeof ut=="function")for(x=ut.call(x),ut=0;!(nt=x.next()).done;)nt=nt.value,gt=kt+Q(nt,ut++),vt+=_t(nt,I,Z,gt,at);else if(gt==="object"){if(typeof x.then=="function")return _t(ht(x),I,Z,nt,at);throw I=String(x),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return vt}function D(x,I,Z){if(x==null)return x;var nt=[],at=0;return _t(x,nt,"","",function(gt){return I.call(Z,gt,at++)}),nt}function X(x){if(x._status===-1){var I=x._result;I=I(),I.then(function(Z){(x._status===0||x._status===-1)&&(x._status=1,x._result=Z)},function(Z){(x._status===0||x._status===-1)&&(x._status=2,x._result=Z)}),x._status===-1&&(x._status=0,x._result=I)}if(x._status===1)return x._result.default;throw x._result}var lt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function ct(){}return Ut.Children={map:D,forEach:function(x,I,Z){D(x,function(){I.apply(this,arguments)},Z)},count:function(x){var I=0;return D(x,function(){I++}),I},toArray:function(x){return D(x,function(I){return I})||[]},only:function(x){if(!st(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ut.Component=E,Ut.Fragment=s,Ut.Profiler=u,Ut.PureComponent=k,Ut.StrictMode=r,Ut.Suspense=m,Ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ut.__COMPILER_RUNTIME={__proto__:null,c:function(x){return O.H.useMemoCache(x)}},Ut.cache=function(x){return function(){return x.apply(null,arguments)}},Ut.cloneElement=function(x,I,Z){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var nt=b({},x.props),at=x.key,gt=void 0;if(I!=null)for(vt in I.ref!==void 0&&(gt=void 0),I.key!==void 0&&(at=""+I.key),I)!j.call(I,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&I.ref===void 0||(nt[vt]=I[vt]);var vt=arguments.length-2;if(vt===1)nt.children=Z;else if(1<vt){for(var kt=Array(vt),ut=0;ut<vt;ut++)kt[ut]=arguments[ut+2];nt.children=kt}return Y(x.type,at,void 0,void 0,gt,nt)},Ut.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:h,_context:x},x},Ut.createElement=function(x,I,Z){var nt,at={},gt=null;if(I!=null)for(nt in I.key!==void 0&&(gt=""+I.key),I)j.call(I,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(at[nt]=I[nt]);var vt=arguments.length-2;if(vt===1)at.children=Z;else if(1<vt){for(var kt=Array(vt),ut=0;ut<vt;ut++)kt[ut]=arguments[ut+2];at.children=kt}if(x&&x.defaultProps)for(nt in vt=x.defaultProps,vt)at[nt]===void 0&&(at[nt]=vt[nt]);return Y(x,gt,void 0,void 0,null,at)},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(x){return{$$typeof:d,render:x}},Ut.isValidElement=st,Ut.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:X}},Ut.memo=function(x,I){return{$$typeof:p,type:x,compare:I===void 0?null:I}},Ut.startTransition=function(x){var I=O.T,Z={};O.T=Z;try{var nt=x(),at=O.S;at!==null&&at(Z,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(ct,lt)}catch(gt){lt(gt)}finally{O.T=I}},Ut.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ut.use=function(x){return O.H.use(x)},Ut.useActionState=function(x,I,Z){return O.H.useActionState(x,I,Z)},Ut.useCallback=function(x,I){return O.H.useCallback(x,I)},Ut.useContext=function(x){return O.H.useContext(x)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(x,I){return O.H.useDeferredValue(x,I)},Ut.useEffect=function(x,I,Z){var nt=O.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(x,I)},Ut.useId=function(){return O.H.useId()},Ut.useImperativeHandle=function(x,I,Z){return O.H.useImperativeHandle(x,I,Z)},Ut.useInsertionEffect=function(x,I){return O.H.useInsertionEffect(x,I)},Ut.useLayoutEffect=function(x,I){return O.H.useLayoutEffect(x,I)},Ut.useMemo=function(x,I){return O.H.useMemo(x,I)},Ut.useOptimistic=function(x,I){return O.H.useOptimistic(x,I)},Ut.useReducer=function(x,I,Z){return O.H.useReducer(x,I,Z)},Ut.useRef=function(x){return O.H.useRef(x)},Ut.useState=function(x){return O.H.useState(x)},Ut.useSyncExternalStore=function(x,I,Z){return O.H.useSyncExternalStore(x,I,Z)},Ut.useTransition=function(){return O.H.useTransition()},Ut.version="19.1.0",Ut}var ng;function Bh(){return ng||(ng=1,yh.exports=P_()),yh.exports}var mt=Bh(),Th={exports:{}},Fr={},Sh={exports:{}},bh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function W_(){return ig||(ig=1,function(l){function n(D,X){var lt=D.length;D.push(X);t:for(;0<lt;){var ct=lt-1>>>1,x=D[ct];if(0<u(x,X))D[ct]=X,D[lt]=x,lt=ct;else break t}}function s(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var X=D[0],lt=D.pop();if(lt!==X){D[0]=lt;t:for(var ct=0,x=D.length,I=x>>>1;ct<I;){var Z=2*(ct+1)-1,nt=D[Z],at=Z+1,gt=D[at];if(0>u(nt,lt))at<x&&0>u(gt,nt)?(D[ct]=gt,D[at]=lt,ct=at):(D[ct]=nt,D[Z]=lt,ct=Z);else if(at<x&&0>u(gt,lt))D[ct]=gt,D[at]=lt,ct=at;else break t}}return X}function u(D,X){var lt=D.sortIndex-X.sortIndex;return lt!==0?lt:D.id-X.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;l.unstable_now=function(){return h.now()}}else{var c=Date,d=c.now();l.unstable_now=function(){return c.now()-d}}var m=[],p=[],v=1,_=null,S=3,T=!1,b=!1,A=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function P(D){for(var X=s(p);X!==null;){if(X.callback===null)r(p);else if(X.startTime<=D)r(p),X.sortIndex=X.expirationTime,n(m,X);else break;X=s(p)}}function O(D){if(A=!1,P(D),!b)if(s(m)!==null)b=!0,j||(j=!0,Q());else{var X=s(p);X!==null&&_t(O,X.startTime-D)}}var j=!1,Y=-1,U=5,st=-1;function it(){return E?!0:!(l.unstable_now()-st<U)}function tt(){if(E=!1,j){var D=l.unstable_now();st=D;var X=!0;try{t:{b=!1,A&&(A=!1,k(Y),Y=-1),T=!0;var lt=S;try{e:{for(P(D),_=s(m);_!==null&&!(_.expirationTime>D&&it());){var ct=_.callback;if(typeof ct=="function"){_.callback=null,S=_.priorityLevel;var x=ct(_.expirationTime<=D);if(D=l.unstable_now(),typeof x=="function"){_.callback=x,P(D),X=!0;break e}_===s(m)&&r(m),P(D)}else r(m);_=s(m)}if(_!==null)X=!0;else{var I=s(p);I!==null&&_t(O,I.startTime-D),X=!1}}break t}finally{_=null,S=lt,T=!1}X=void 0}}finally{X?Q():j=!1}}}var Q;if(typeof q=="function")Q=function(){q(tt)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,ht=ft.port2;ft.port1.onmessage=tt,Q=function(){ht.postMessage(null)}}else Q=function(){R(tt,0)};function _t(D,X){Y=R(function(){D(l.unstable_now())},X)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(D){D.callback=null},l.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<D?Math.floor(1e3/D):5},l.unstable_getCurrentPriorityLevel=function(){return S},l.unstable_next=function(D){switch(S){case 1:case 2:case 3:var X=3;break;default:X=S}var lt=S;S=X;try{return D()}finally{S=lt}},l.unstable_requestPaint=function(){E=!0},l.unstable_runWithPriority=function(D,X){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var lt=S;S=D;try{return X()}finally{S=lt}},l.unstable_scheduleCallback=function(D,X,lt){var ct=l.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?ct+lt:ct):lt=ct,D){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=lt+x,D={id:v++,callback:X,priorityLevel:D,startTime:lt,expirationTime:x,sortIndex:-1},lt>ct?(D.sortIndex=lt,n(p,D),s(m)===null&&D===s(p)&&(A?(k(Y),Y=-1):A=!0,_t(O,lt-ct))):(D.sortIndex=x,n(m,D),b||T||(b=!0,j||(j=!0,Q()))),D},l.unstable_shouldYield=it,l.unstable_wrapCallback=function(D){var X=S;return function(){var lt=S;S=X;try{return D.apply(this,arguments)}finally{S=lt}}}}(bh)),bh}var sg;function K_(){return sg||(sg=1,Sh.exports=W_()),Sh.exports}var xh={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag;function J_(){if(ag)return Ke;ag=1;var l=Bh();function n(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(m,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:_==null?null:""+_,children:m,containerInfo:p,implementation:v}}var c=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return h(m,p,null,v)},Ke.flushSync=function(m){var p=c.T,v=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=v,r.d.f()}},Ke.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},Ke.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Ke.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,_=d(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:T}):v==="script"&&r.d.X(m,{crossOrigin:_,integrity:S,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ke.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},Ke.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=d(v,p.crossOrigin);r.d.L(m,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ke.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},Ke.requestFormReset=function(m){r.d.r(m)},Ke.unstable_batchedUpdates=function(m,p){return m(p)},Ke.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},Ke.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ke.version="19.1.0",Ke}var rg;function $_(){if(rg)return xh.exports;rg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),xh.exports=J_(),xh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function ty(){if(lg)return Fr;lg=1;var l=K_(),n=Bh(),s=$_();function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function c(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function d(t){if(h(t)!==t)throw Error(r(188))}function m(t){var e=t.alternate;if(!e){if(e=h(t),e===null)throw Error(r(188));return e!==t?null:t}for(var i=t,a=e;;){var o=i.return;if(o===null)break;var f=o.alternate;if(f===null){if(a=o.return,a!==null){i=a;continue}break}if(o.child===f.child){for(f=o.child;f;){if(f===i)return d(o),t;if(f===a)return d(o),e;f=f.sibling}throw Error(r(188))}if(i.return!==a.return)i=o,a=f;else{for(var g=!1,y=o.child;y;){if(y===i){g=!0,i=o,a=f;break}if(y===a){g=!0,a=o,i=f;break}y=y.sibling}if(!g){for(y=f.child;y;){if(y===i){g=!0,i=f,a=o;break}if(y===a){g=!0,a=f,i=o;break}y=y.sibling}if(!g)throw Error(r(189))}}if(i.alternate!==a)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?t:e}function p(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=p(t),e!==null)return e;t=t.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),q=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),st=Symbol.for("react.activity"),it=Symbol.for("react.memo_cache_sentinel"),tt=Symbol.iterator;function Q(t){return t===null||typeof t!="object"?null:(t=tt&&t[tt]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Symbol.for("react.client.reference");function ht(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ft?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case b:return"Fragment";case E:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case j:return"SuspenseList";case st:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case T:return"Portal";case q:return(t.displayName||"Context")+".Provider";case k:return(t._context.displayName||"Context")+".Consumer";case P:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return e=t.displayName||null,e!==null?e:ht(t.type)||"Memo";case U:e=t._payload,t=t._init;try{return ht(t(e))}catch{}}return null}var _t=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},ct=[],x=-1;function I(t){return{current:t}}function Z(t){0>x||(t.current=ct[x],ct[x]=null,x--)}function nt(t,e){x++,ct[x]=t.current,t.current=e}var at=I(null),gt=I(null),vt=I(null),kt=I(null);function ut(t,e){switch(nt(vt,e),nt(gt,t),nt(at,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Nm(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Nm(e),t=Om(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(at),nt(at,t)}function ae(){Z(at),Z(gt),Z(vt)}function ge(t){t.memoizedState!==null&&nt(kt,t);var e=at.current,i=Om(e,t.type);e!==i&&(nt(gt,t),nt(at,i))}function Ce(t){gt.current===t&&(Z(at),Z(gt)),kt.current===t&&(Z(kt),qr._currentValue=lt)}var Ae=Object.prototype.hasOwnProperty,Ee=l.unstable_scheduleCallback,Wn=l.unstable_cancelCallback,dt=l.unstable_shouldYield,bt=l.unstable_requestPaint,zt=l.unstable_now,Xt=l.unstable_getCurrentPriorityLevel,Rt=l.unstable_ImmediatePriority,rt=l.unstable_UserBlockingPriority,ot=l.unstable_NormalPriority,J=l.unstable_LowPriority,At=l.unstable_IdlePriority,pt=l.log,Ht=l.unstable_setDisableYieldValue,Lt=null,Yt=null;function ve(t){if(typeof pt=="function"&&Ht(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Lt,t)}catch{}}var Zt=Math.clz32?Math.clz32:dn,Tt=Math.log,re=Math.LN2;function dn(t){return t>>>=0,t===0?32:31-(Tt(t)/re|0)|0}var hi=256,Le=4194304;function tn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Kn(t,e,i){var a=t.pendingLanes;if(a===0)return 0;var o=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var y=a&134217727;return y!==0?(a=y&~f,a!==0?o=tn(a):(g&=y,g!==0?o=tn(g):i||(i=y&~t,i!==0&&(o=tn(i))))):(y=a&~f,y!==0?o=tn(y):g!==0?o=tn(g):i||(i=a&~t,i!==0&&(o=tn(i)))),o===0?0:e!==0&&e!==o&&(e&f)===0&&(f=o&-o,i=e&-e,f>=i||f===32&&(i&4194048)!==0)?e:o}function _e(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function vs(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jn(){var t=hi;return hi<<=1,(hi&4194048)===0&&(hi=256),t}function _s(){var t=Le;return Le<<=1,(Le&62914560)===0&&(Le=4194304),t}function zi(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Vi(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function cu(t,e,i,a,o,f){var g=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var y=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(i=g&~i;0<i;){var W=31-Zt(i),$=1<<W;y[W]=0,N[W]=-1;var H=B[W];if(H!==null)for(B[W]=null,W=0;W<H.length;W++){var G=H[W];G!==null&&(G.lane&=-536870913)}i&=~$}a!==0&&Qa(t,a,0),f!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~e))}function Qa(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-Zt(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|i&4194090}function cl(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var a=31-Zt(i),o=1<<a;o&e|t[a]&e&&(t[a]|=e),i&=~o}}function Pa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Wa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function hl(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:Zm(t.type))}function hu(t,e){var i=X.p;try{return X.p=t,e()}finally{X.p=i}}var $n=Math.random().toString(36).slice(2),qe="__reactFiber$"+$n,Pe="__reactProps$"+$n,Bi="__reactContainer$"+$n,Ka="__reactEvents$"+$n,fu="__reactListeners$"+$n,du="__reactHandles$"+$n,ys="__reactResources$"+$n,Ts="__reactMarker$"+$n;function Qs(t){delete t[qe],delete t[Pe],delete t[Ka],delete t[fu],delete t[du]}function fi(t){var e=t[qe];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Bi]||i[qe]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Mm(t);t!==null;){if(i=t[qe])return i;t=Mm(t)}return e}t=i,i=t.parentNode}return null}function di(t){if(t=t[qe]||t[Bi]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Ss(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(r(33))}function Li(t){var e=t[ys];return e||(e=t[ys]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ye(t){t[Ts]=!0}var fl=new Set,dl={};function pi(t,e){Ln(t,e),Ln(t+"Capture",e)}function Ln(t,e){for(dl[t]=e,t=0;t<e.length;t++)fl.add(e[t])}var pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pn={},pl={};function w(t){return Ae.call(pl,t)?!0:Ae.call(pn,t)?!1:pu.test(t)?pl[t]=!0:(pn[t]=!0,!1)}function L(t,e,i){if(w(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function z(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function et(t,e,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+a)}}var yt,Dt;function Nt(t){if(yt===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);yt=e&&e[1]||"",Dt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yt+t+Dt}var Qt=!1;function Wt(t,e){if(!t||Qt)return"";Qt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var H=G}Reflect.construct(t,[],$)}else{try{$.call()}catch(G){H=G}t.call($.prototype)}}else{try{throw Error()}catch(G){H=G}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=a.DetermineComponentFrameRoot(),g=f[0],y=f[1];if(g&&y){var N=g.split(`
`),B=y.split(`
`);for(o=a=0;a<N.length&&!N[a].includes("DetermineComponentFrameRoot");)a++;for(;o<B.length&&!B[o].includes("DetermineComponentFrameRoot");)o++;if(a===N.length||o===B.length)for(a=N.length-1,o=B.length-1;1<=a&&0<=o&&N[a]!==B[o];)o--;for(;1<=a&&0<=o;a--,o--)if(N[a]!==B[o]){if(a!==1||o!==1)do if(a--,o--,0>o||N[a]!==B[o]){var W=`
`+N[a].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=a&&0<=o);break}}}finally{Qt=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Nt(i):""}function wn(t){switch(t.tag){case 26:case 27:case 5:return Nt(t.type);case 16:return Nt("Lazy");case 13:return Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return Wt(t.type,!1);case 11:return Wt(t.type.render,!1);case 1:return Wt(t.type,!0);case 31:return Nt("Activity");default:return""}}function ti(t){try{var e="";do e+=wn(t),t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function H0(t){var e=bf(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),a=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,f=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ml(t){t._valueTracker||(t._valueTracker=H0(t))}function xf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),a="";return t&&(a=bf(t)?t.checked?"true":"false":t.value),t=a,t!==i?(e.setValue(t),!0):!1}function gl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var G0=/[\n"\\]/g;function On(t){return t.replace(G0,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function mu(t,e,i,a,o,f,g,y){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),e!=null?g==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Nn(e)):t.value!==""+Nn(e)&&(t.value=""+Nn(e)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),e!=null?gu(t,g,Nn(e)):i!=null?gu(t,g,Nn(i)):a!=null&&t.removeAttribute("value"),o==null&&f!=null&&(t.defaultChecked=!!f),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.name=""+Nn(y):t.removeAttribute("name")}function Af(t,e,i,a,o,f,g,y){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),e!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||e!=null))return;i=i!=null?""+Nn(i):"",e=e!=null?""+Nn(e):i,y||e===t.value||(t.value=e),t.defaultValue=e}a=a??o,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=y?t.checked:!!a,t.defaultChecked=!!a,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function gu(t,e,i){e==="number"&&gl(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Ps(t,e,i,a){if(t=t.options,e){e={};for(var o=0;o<i.length;o++)e["$"+i[o]]=!0;for(i=0;i<t.length;i++)o=e.hasOwnProperty("$"+t[i].value),t[i].selected!==o&&(t[i].selected=o),o&&a&&(t[i].defaultSelected=!0)}else{for(i=""+Nn(i),e=null,o=0;o<t.length;o++){if(t[o].value===i){t[o].selected=!0,a&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Ef(t,e,i){if(e!=null&&(e=""+Nn(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Nn(i):""}function wf(t,e,i,a){if(e==null){if(a!=null){if(i!=null)throw Error(r(92));if(_t(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),e=i}i=Nn(e),t.defaultValue=i,a=t.textContent,a===i&&a!==""&&a!==null&&(t.value=a)}function Ws(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Y0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nf(t,e,i){var a=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,i):typeof i!="number"||i===0||Y0.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Of(t,e,i){if(e!=null&&typeof e!="object")throw Error(r(62));if(t=t.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var o in e)a=e[o],e.hasOwnProperty(o)&&i[o]!==a&&Nf(t,o,a)}else for(var f in e)e.hasOwnProperty(f)&&Nf(t,f,e[f])}function vu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),X0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vl(t){return X0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _u=null;function yu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ks=null,Js=null;function Cf(t){var e=di(t);if(e&&(t=e.stateNode)){var i=t[Pe]||null;t:switch(t=e.stateNode,e.type){case"input":if(mu(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+On(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var a=i[e];if(a!==t&&a.form===t.form){var o=a[Pe]||null;if(!o)throw Error(r(90));mu(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(e=0;e<i.length;e++)a=i[e],a.form===t.form&&xf(a)}break t;case"textarea":Ef(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&Ps(t,!!i.multiple,e,!1)}}}var Tu=!1;function Rf(t,e,i){if(Tu)return t(e,i);Tu=!0;try{var a=t(e);return a}finally{if(Tu=!1,(Ks!==null||Js!==null)&&(no(),Ks&&(e=Ks,t=Js,Js=Ks=null,Cf(e),t)))for(e=0;e<t.length;e++)Cf(t[e])}}function Ja(t,e){var i=t.stateNode;if(i===null)return null;var a=i[Pe]||null;if(a===null)return null;i=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(r(231,e,typeof i));return i}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Su=!1;if(mi)try{var $a={};Object.defineProperty($a,"passive",{get:function(){Su=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{Su=!1}var qi=null,bu=null,_l=null;function Df(){if(_l)return _l;var t,e=bu,i=e.length,a,o="value"in qi?qi.value:qi.textContent,f=o.length;for(t=0;t<i&&e[t]===o[t];t++);var g=i-t;for(a=1;a<=g&&e[i-a]===o[f-a];a++);return _l=o.slice(t,1<a?1-a:void 0)}function yl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tl(){return!0}function Mf(){return!1}function rn(t){function e(i,a,o,f,g){this._reactName=i,this._targetInst=o,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(i=t[y],this[y]=i?i(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Tl:Mf,this.isPropagationStopped=Mf,this}return v(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),e}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=rn(bs),tr=v({},bs,{view:0,detail:0}),Z0=rn(tr),xu,Au,er,bl=v({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==er&&(er&&t.type==="mousemove"?(xu=t.screenX-er.screenX,Au=t.screenY-er.screenY):Au=xu=0,er=t),xu)},movementY:function(t){return"movementY"in t?t.movementY:Au}}),kf=rn(bl),Q0=v({},bl,{dataTransfer:0}),P0=rn(Q0),W0=v({},tr,{relatedTarget:0}),Eu=rn(W0),K0=v({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),J0=rn(K0),$0=v({},bs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tv=rn($0),ev=v({},bs,{data:0}),Uf=rn(ev),nv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function av(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sv[t])?!!e[t]:!1}function wu(){return av}var rv=v({},tr,{key:function(t){if(t.key){var e=nv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wu,charCode:function(t){return t.type==="keypress"?yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lv=rn(rv),ov=v({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zf=rn(ov),uv=v({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wu}),cv=rn(uv),hv=v({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),fv=rn(hv),dv=v({},bl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pv=rn(dv),mv=v({},bs,{newState:0,oldState:0}),gv=rn(mv),vv=[9,13,27,32],Nu=mi&&"CompositionEvent"in window,nr=null;mi&&"documentMode"in document&&(nr=document.documentMode);var _v=mi&&"TextEvent"in window&&!nr,Vf=mi&&(!Nu||nr&&8<nr&&11>=nr),Bf=" ",Lf=!1;function qf(t,e){switch(t){case"keyup":return vv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $s=!1;function yv(t,e){switch(t){case"compositionend":return jf(e);case"keypress":return e.which!==32?null:(Lf=!0,Bf);case"textInput":return t=e.data,t===Bf&&Lf?null:t;default:return null}}function Tv(t,e){if($s)return t==="compositionend"||!Nu&&qf(t,e)?(t=Df(),_l=bu=qi=null,$s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vf&&e.locale!=="ko"?null:e.data;default:return null}}var Sv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Sv[t.type]:e==="textarea"}function Hf(t,e,i,a){Ks?Js?Js.push(a):Js=[a]:Ks=a,e=oo(e,"onChange"),0<e.length&&(i=new Sl("onChange","change",null,i,a),t.push({event:i,listeners:e}))}var ir=null,sr=null;function bv(t){bm(t,0)}function xl(t){var e=Ss(t);if(xf(e))return t}function Gf(t,e){if(t==="change")return e}var Yf=!1;if(mi){var Ou;if(mi){var Cu="oninput"in document;if(!Cu){var Ff=document.createElement("div");Ff.setAttribute("oninput","return;"),Cu=typeof Ff.oninput=="function"}Ou=Cu}else Ou=!1;Yf=Ou&&(!document.documentMode||9<document.documentMode)}function Xf(){ir&&(ir.detachEvent("onpropertychange",Zf),sr=ir=null)}function Zf(t){if(t.propertyName==="value"&&xl(sr)){var e=[];Hf(e,sr,t,yu(t)),Rf(bv,e)}}function xv(t,e,i){t==="focusin"?(Xf(),ir=e,sr=i,ir.attachEvent("onpropertychange",Zf)):t==="focusout"&&Xf()}function Av(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xl(sr)}function Ev(t,e){if(t==="click")return xl(e)}function wv(t,e){if(t==="input"||t==="change")return xl(e)}function Nv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mn=typeof Object.is=="function"?Object.is:Nv;function ar(t,e){if(mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var o=i[a];if(!Ae.call(e,o)||!mn(t[o],e[o]))return!1}return!0}function Qf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pf(t,e){var i=Qf(t);t=0;for(var a;i;){if(i.nodeType===3){if(a=t+i.textContent.length,t<=e&&a>=e)return{node:i,offset:e-t};t=a}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Qf(i)}}function Wf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Kf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=gl(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=gl(t.document)}return e}function Ru(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Ov=mi&&"documentMode"in document&&11>=document.documentMode,ta=null,Du=null,rr=null,Mu=!1;function Jf(t,e,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Mu||ta==null||ta!==gl(a)||(a=ta,"selectionStart"in a&&Ru(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),rr&&ar(rr,a)||(rr=a,a=oo(Du,"onSelect"),0<a.length&&(e=new Sl("onSelect","select",null,e,i),t.push({event:e,listeners:a}),e.target=ta)))}function xs(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var ea={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},ku={},$f={};mi&&($f=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function As(t){if(ku[t])return ku[t];if(!ea[t])return t;var e=ea[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in $f)return ku[t]=e[i];return t}var td=As("animationend"),ed=As("animationiteration"),nd=As("animationstart"),Cv=As("transitionrun"),Rv=As("transitionstart"),Dv=As("transitioncancel"),id=As("transitionend"),sd=new Map,Uu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uu.push("scrollEnd");function qn(t,e){sd.set(t,e),pi(e,[t])}var ad=new WeakMap;function Cn(t,e){if(typeof t=="object"&&t!==null){var i=ad.get(t);return i!==void 0?i:(e={value:t,source:e,stack:ti(e)},ad.set(t,e),e)}return{value:t,source:e,stack:ti(e)}}var Rn=[],na=0,zu=0;function Al(){for(var t=na,e=zu=na=0;e<t;){var i=Rn[e];Rn[e++]=null;var a=Rn[e];Rn[e++]=null;var o=Rn[e];Rn[e++]=null;var f=Rn[e];if(Rn[e++]=null,a!==null&&o!==null){var g=a.pending;g===null?o.next=o:(o.next=g.next,g.next=o),a.pending=o}f!==0&&rd(i,o,f)}}function El(t,e,i,a){Rn[na++]=t,Rn[na++]=e,Rn[na++]=i,Rn[na++]=a,zu|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function Vu(t,e,i,a){return El(t,e,i,a),wl(t)}function ia(t,e){return El(t,null,null,e),wl(t)}function rd(t,e,i){t.lanes|=i;var a=t.alternate;a!==null&&(a.lanes|=i);for(var o=!1,f=t.return;f!==null;)f.childLanes|=i,a=f.alternate,a!==null&&(a.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(o=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,o&&e!==null&&(o=31-Zt(i),t=f.hiddenUpdates,a=t[o],a===null?t[o]=[e]:a.push(e),e.lane=i|536870912),f):null}function wl(t){if(50<Dr)throw Dr=0,Hc=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var sa={};function Mv(t,e,i,a){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,i,a){return new Mv(t,e,i,a)}function Bu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gi(t,e){var i=t.alternate;return i===null?(i=gn(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function ld(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Nl(t,e,i,a,o,f){var g=0;if(a=t,typeof t=="function")Bu(t)&&(g=1);else if(typeof t=="string")g=U_(t,i,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case st:return t=gn(31,i,e,o),t.elementType=st,t.lanes=f,t;case b:return Es(i.children,o,f,e);case A:g=8,o|=24;break;case E:return t=gn(12,i,e,o|2),t.elementType=E,t.lanes=f,t;case O:return t=gn(13,i,e,o),t.elementType=O,t.lanes=f,t;case j:return t=gn(19,i,e,o),t.elementType=j,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:case q:g=10;break t;case k:g=9;break t;case P:g=11;break t;case Y:g=14;break t;case U:g=16,a=null;break t}g=29,i=Error(r(130,t===null?"null":typeof t,"")),a=null}return e=gn(g,i,e,o),e.elementType=t,e.type=a,e.lanes=f,e}function Es(t,e,i,a){return t=gn(7,t,a,e),t.lanes=i,t}function Lu(t,e,i){return t=gn(6,t,null,e),t.lanes=i,t}function qu(t,e,i){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var aa=[],ra=0,Ol=null,Cl=0,Dn=[],Mn=0,ws=null,vi=1,_i="";function Ns(t,e){aa[ra++]=Cl,aa[ra++]=Ol,Ol=t,Cl=e}function od(t,e,i){Dn[Mn++]=vi,Dn[Mn++]=_i,Dn[Mn++]=ws,ws=t;var a=vi;t=_i;var o=32-Zt(a)-1;a&=~(1<<o),i+=1;var f=32-Zt(e)+o;if(30<f){var g=o-o%5;f=(a&(1<<g)-1).toString(32),a>>=g,o-=g,vi=1<<32-Zt(e)+o|i<<o|a,_i=f+t}else vi=1<<f|i<<o|a,_i=t}function ju(t){t.return!==null&&(Ns(t,1),od(t,1,0))}function Iu(t){for(;t===Ol;)Ol=aa[--ra],aa[ra]=null,Cl=aa[--ra],aa[ra]=null;for(;t===ws;)ws=Dn[--Mn],Dn[Mn]=null,_i=Dn[--Mn],Dn[Mn]=null,vi=Dn[--Mn],Dn[Mn]=null}var en=null,Te=null,Kt=!1,Os=null,ei=!1,Hu=Error(r(519));function Cs(t){var e=Error(r(418,""));throw ur(Cn(e,t)),Hu}function ud(t){var e=t.stateNode,i=t.type,a=t.memoizedProps;switch(e[qe]=t,e[Pe]=a,i){case"dialog":jt("cancel",e),jt("close",e);break;case"iframe":case"object":case"embed":jt("load",e);break;case"video":case"audio":for(i=0;i<kr.length;i++)jt(kr[i],e);break;case"source":jt("error",e);break;case"img":case"image":case"link":jt("error",e),jt("load",e);break;case"details":jt("toggle",e);break;case"input":jt("invalid",e),Af(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),ml(e);break;case"select":jt("invalid",e);break;case"textarea":jt("invalid",e),wf(e,a.value,a.defaultValue,a.children),ml(e)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||a.suppressHydrationWarning===!0||wm(e.textContent,i)?(a.popover!=null&&(jt("beforetoggle",e),jt("toggle",e)),a.onScroll!=null&&jt("scroll",e),a.onScrollEnd!=null&&jt("scrollend",e),a.onClick!=null&&(e.onclick=uo),e=!0):e=!1,e||Cs(t)}function cd(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:en=en.return}}function lr(t){if(t!==en)return!1;if(!Kt)return cd(t),Kt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||sh(t.type,t.memoizedProps)),i=!i),i&&Te&&Cs(t),cd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(e===0){Te=In(t.nextSibling);break t}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++;t=t.nextSibling}Te=null}}else e===27?(e=Te,es(t.type)?(t=oh,oh=null,Te=t):Te=e):Te=en?In(t.stateNode.nextSibling):null;return!0}function or(){Te=en=null,Kt=!1}function hd(){var t=Os;return t!==null&&(un===null?un=t:un.push.apply(un,t),Os=null),t}function ur(t){Os===null?Os=[t]:Os.push(t)}var Gu=I(null),Rs=null,yi=null;function ji(t,e,i){nt(Gu,e._currentValue),e._currentValue=i}function Ti(t){t._currentValue=Gu.current,Z(Gu)}function Yu(t,e,i){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===i)break;t=t.return}}function Fu(t,e,i,a){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var f=o.dependencies;if(f!==null){var g=o.child;f=f.firstContext;t:for(;f!==null;){var y=f;f=o;for(var N=0;N<e.length;N++)if(y.context===e[N]){f.lanes|=i,y=f.alternate,y!==null&&(y.lanes|=i),Yu(f.return,i,t),a||(g=null);break t}f=y.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(r(341));g.lanes|=i,f=g.alternate,f!==null&&(f.lanes|=i),Yu(g,i,t),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===t){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function cr(t,e,i,a){t=null;for(var o=e,f=!1;o!==null;){if(!f){if((o.flags&524288)!==0)f=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var y=o.type;mn(o.pendingProps.value,g.value)||(t!==null?t.push(y):t=[y])}}else if(o===kt.current){if(g=o.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(qr):t=[qr])}o=o.return}t!==null&&Fu(e,t,i,a),e.flags|=262144}function Rl(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ds(t){Rs=t,yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function We(t){return fd(Rs,t)}function Dl(t,e){return Rs===null&&Ds(t),fd(t,e)}function fd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},yi===null){if(t===null)throw Error(r(308));yi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else yi=yi.next=e;return i}var kv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},Uv=l.unstable_scheduleCallback,zv=l.unstable_NormalPriority,ze={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xu(){return{controller:new kv,data:new Map,refCount:0}}function hr(t){t.refCount--,t.refCount===0&&Uv(zv,function(){t.controller.abort()})}var fr=null,Zu=0,la=0,oa=null;function Vv(t,e){if(fr===null){var i=fr=[];Zu=0,la=Pc(),oa={status:"pending",value:void 0,then:function(a){i.push(a)}}}return Zu++,e.then(dd,dd),e}function dd(){if(--Zu===0&&fr!==null){oa!==null&&(oa.status="fulfilled");var t=fr;fr=null,la=0,oa=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Bv(t,e){var i=[],a={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var o=0;o<i.length;o++)(0,i[o])(e)},function(o){for(a.status="rejected",a.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),a}var pd=D.S;D.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Vv(t,e),pd!==null&&pd(t,e)};var Ms=I(null);function Qu(){var t=Ms.current;return t!==null?t:oe.pooledCache}function Ml(t,e){e===null?nt(Ms,Ms.current):nt(Ms,e.pool)}function md(){var t=Qu();return t===null?null:{parent:ze._currentValue,pool:t}}var dr=Error(r(460)),gd=Error(r(474)),kl=Error(r(542)),Pu={then:function(){}};function vd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ul(){}function _d(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(Ul,Ul),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Td(t),t;default:if(typeof e.status=="string")e.then(Ul,Ul);else{if(t=oe,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var o=e;o.status="fulfilled",o.value=a}},function(a){if(e.status==="pending"){var o=e;o.status="rejected",o.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Td(t),t}throw pr=e,dr}}var pr=null;function yd(){if(pr===null)throw Error(r(459));var t=pr;return pr=null,t}function Td(t){if(t===dr||t===kl)throw Error(r(483))}var Ii=!1;function Wu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ku(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gi(t,e,i){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Jt&2)!==0){var o=a.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),a.pending=e,e=wl(t),rd(t,null,i),e}return El(t,a,e,i),wl(t)}function mr(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,i|=a,e.lanes=i,cl(t,i)}}function Ju(t,e){var i=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var o=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?o=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?o=f=e:f=f.next=e}else o=f=e;i={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:f,shared:a.shared,callbacks:a.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var $u=!1;function gr(){if($u){var t=oa;if(t!==null)throw t}}function vr(t,e,i,a){$u=!1;var o=t.updateQueue;Ii=!1;var f=o.firstBaseUpdate,g=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var N=y,B=N.next;N.next=null,g===null?f=B:g.next=B,g=N;var W=t.alternate;W!==null&&(W=W.updateQueue,y=W.lastBaseUpdate,y!==g&&(y===null?W.firstBaseUpdate=B:y.next=B,W.lastBaseUpdate=N))}if(f!==null){var $=o.baseState;g=0,W=B=N=null,y=f;do{var H=y.lane&-536870913,G=H!==y.lane;if(G?(Ft&H)===H:(a&H)===H){H!==0&&H===la&&($u=!0),W!==null&&(W=W.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});t:{var Ot=t,Et=y;H=e;var ne=i;switch(Et.tag){case 1:if(Ot=Et.payload,typeof Ot=="function"){$=Ot.call(ne,$,H);break t}$=Ot;break t;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=Et.payload,H=typeof Ot=="function"?Ot.call(ne,$,H):Ot,H==null)break t;$=v({},$,H);break t;case 2:Ii=!0}}H=y.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=o.callbacks,G===null?o.callbacks=[H]:G.push(H))}else G={lane:H,tag:y.tag,payload:y.payload,callback:y.callback,next:null},W===null?(B=W=G,N=$):W=W.next=G,g|=H;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;G=y,y=G.next,G.next=null,o.lastBaseUpdate=G,o.shared.pending=null}}while(!0);W===null&&(N=$),o.baseState=N,o.firstBaseUpdate=B,o.lastBaseUpdate=W,f===null&&(o.shared.lanes=0),Ki|=g,t.lanes=g,t.memoizedState=$}}function Sd(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function bd(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Sd(i[t],e)}var ua=I(null),zl=I(0);function xd(t,e){t=Ni,nt(zl,t),nt(ua,e),Ni=t|e.baseLanes}function tc(){nt(zl,Ni),nt(ua,ua.current)}function ec(){Ni=zl.current,Z(ua),Z(zl)}var Yi=0,Vt=null,te=null,Re=null,Vl=!1,ca=!1,ks=!1,Bl=0,_r=0,ha=null,Lv=0;function we(){throw Error(r(321))}function nc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!mn(t[i],e[i]))return!1;return!0}function ic(t,e,i,a,o,f){return Yi=f,Vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,D.H=t===null||t.memoizedState===null?rp:lp,ks=!1,f=i(a,o),ks=!1,ca&&(f=Ed(e,i,a,o)),Ad(t),f}function Ad(t){D.H=Gl;var e=te!==null&&te.next!==null;if(Yi=0,Re=te=Vt=null,Vl=!1,_r=0,ha=null,e)throw Error(r(300));t===null||je||(t=t.dependencies,t!==null&&Rl(t)&&(je=!0))}function Ed(t,e,i,a){Vt=t;var o=0;do{if(ca&&(ha=null),_r=0,ca=!1,25<=o)throw Error(r(301));if(o+=1,Re=te=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}D.H=Fv,f=e(i,a)}while(ca);return f}function qv(){var t=D.H,e=t.useState()[0];return e=typeof e.then=="function"?yr(e):e,t=t.useState()[0],(te!==null?te.memoizedState:null)!==t&&(Vt.flags|=1024),e}function sc(){var t=Bl!==0;return Bl=0,t}function ac(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function rc(t){if(Vl){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Vl=!1}Yi=0,Re=te=Vt=null,ca=!1,_r=Bl=0,ha=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Vt.memoizedState=Re=t:Re=Re.next=t,Re}function De(){if(te===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=te.next;var e=Re===null?Vt.memoizedState:Re.next;if(e!==null)Re=e,te=t;else{if(t===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));te=t,t={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Re===null?Vt.memoizedState=Re=t:Re=Re.next=t}return Re}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yr(t){var e=_r;return _r+=1,ha===null&&(ha=[]),t=_d(ha,t,e),e=Vt,(Re===null?e.memoizedState:Re.next)===null&&(e=e.alternate,D.H=e===null||e.memoizedState===null?rp:lp),t}function Ll(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yr(t);if(t.$$typeof===q)return We(t)}throw Error(r(438,String(t)))}function oc(t){var e=null,i=Vt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var a=Vt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(o){return o.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=lc(),Vt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),a=0;a<t;a++)i[a]=it;return e.index++,i}function Si(t,e){return typeof e=="function"?e(t):e}function ql(t){var e=De();return uc(e,te,t)}function uc(t,e,i){var a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var o=t.baseQueue,f=a.pending;if(f!==null){if(o!==null){var g=o.next;o.next=f.next,f.next=g}e.baseQueue=o=f,a.pending=null}if(f=t.baseState,o===null)t.memoizedState=f;else{e=o.next;var y=g=null,N=null,B=e,W=!1;do{var $=B.lane&-536870913;if($!==B.lane?(Ft&$)===$:(Yi&$)===$){var H=B.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===la&&(W=!0);else if((Yi&H)===H){B=B.next,H===la&&(W=!0);continue}else $={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(y=N=$,g=f):N=N.next=$,Vt.lanes|=H,Ki|=H;$=B.action,ks&&i(f,$),f=B.hasEagerState?B.eagerState:i(f,$)}else H={lane:$,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(y=N=H,g=f):N=N.next=H,Vt.lanes|=$,Ki|=$;B=B.next}while(B!==null&&B!==e);if(N===null?g=f:N.next=y,!mn(f,t.memoizedState)&&(je=!0,W&&(i=oa,i!==null)))throw i;t.memoizedState=f,t.baseState=g,t.baseQueue=N,a.lastRenderedState=f}return o===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function cc(t){var e=De(),i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var a=i.dispatch,o=i.pending,f=e.memoizedState;if(o!==null){i.pending=null;var g=o=o.next;do f=t(f,g.action),g=g.next;while(g!==o);mn(f,e.memoizedState)||(je=!0),e.memoizedState=f,e.baseQueue===null&&(e.baseState=f),i.lastRenderedState=f}return[f,a]}function wd(t,e,i){var a=Vt,o=De(),f=Kt;if(f){if(i===void 0)throw Error(r(407));i=i()}else i=e();var g=!mn((te||o).memoizedState,i);g&&(o.memoizedState=i,je=!0),o=o.queue;var y=Cd.bind(null,a,o,t);if(Tr(2048,8,y,[t]),o.getSnapshot!==e||g||Re!==null&&Re.memoizedState.tag&1){if(a.flags|=2048,fa(9,jl(),Od.bind(null,a,o,i,e),null),oe===null)throw Error(r(349));f||(Yi&124)!==0||Nd(a,e,i)}return i}function Nd(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Vt.updateQueue,e===null?(e=lc(),Vt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function Od(t,e,i,a){e.value=i,e.getSnapshot=a,Rd(e)&&Dd(t)}function Cd(t,e,i){return i(function(){Rd(e)&&Dd(t)})}function Rd(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!mn(t,i)}catch{return!0}}function Dd(t){var e=ia(t,2);e!==null&&Sn(e,t,2)}function hc(t){var e=ln();if(typeof t=="function"){var i=t;if(t=i(),ks){ve(!0);try{i()}finally{ve(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},e}function Md(t,e,i,a){return t.baseState=i,uc(t,te,typeof a=="function"?a:Si)}function jv(t,e,i,a,o){if(Hl(t))throw Error(r(485));if(t=e.action,t!==null){var f={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};D.T!==null?i(!0):f.isTransition=!1,a(f),i=e.pending,i===null?(f.next=e.pending=f,kd(e,f)):(f.next=i.next,e.pending=i.next=f)}}function kd(t,e){var i=e.action,a=e.payload,o=t.state;if(e.isTransition){var f=D.T,g={};D.T=g;try{var y=i(o,a),N=D.S;N!==null&&N(g,y),Ud(t,e,y)}catch(B){fc(t,e,B)}finally{D.T=f}}else try{f=i(o,a),Ud(t,e,f)}catch(B){fc(t,e,B)}}function Ud(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){zd(t,e,a)},function(a){return fc(t,e,a)}):zd(t,e,i)}function zd(t,e,i){e.status="fulfilled",e.value=i,Vd(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,kd(t,i)))}function fc(t,e,i){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=i,Vd(e),e=e.next;while(e!==a)}t.action=null}function Vd(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Bd(t,e){return e}function Ld(t,e){if(Kt){var i=oe.formState;if(i!==null){t:{var a=Vt;if(Kt){if(Te){e:{for(var o=Te,f=ei;o.nodeType!==8;){if(!f){o=null;break e}if(o=In(o.nextSibling),o===null){o=null;break e}}f=o.data,o=f==="F!"||f==="F"?o:null}if(o){Te=In(o.nextSibling),a=o.data==="F!";break t}}Cs(a)}a=!1}a&&(e=i[0])}}return i=ln(),i.memoizedState=i.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bd,lastRenderedState:e},i.queue=a,i=ip.bind(null,Vt,a),a.dispatch=i,a=hc(!1),f=vc.bind(null,Vt,!1,a.queue),a=ln(),o={state:e,dispatch:null,action:t,pending:null},a.queue=o,i=jv.bind(null,Vt,o,f,i),o.dispatch=i,a.memoizedState=t,[e,i,!1]}function qd(t){var e=De();return jd(e,te,t)}function jd(t,e,i){if(e=uc(t,e,Bd)[0],t=ql(Si)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=yr(e)}catch(g){throw g===dr?kl:g}else a=e;e=De();var o=e.queue,f=o.dispatch;return i!==e.memoizedState&&(Vt.flags|=2048,fa(9,jl(),Iv.bind(null,o,i),null)),[a,f,t]}function Iv(t,e){t.action=e}function Id(t){var e=De(),i=te;if(i!==null)return jd(e,i,t);De(),e=e.memoizedState,i=De();var a=i.queue.dispatch;return i.memoizedState=t,[e,a,!1]}function fa(t,e,i,a){return t={tag:t,create:i,deps:a,inst:e,next:null},e=Vt.updateQueue,e===null&&(e=lc(),Vt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(a=i.next,i.next=t,t.next=a,e.lastEffect=t),t}function jl(){return{destroy:void 0,resource:void 0}}function Hd(){return De().memoizedState}function Il(t,e,i,a){var o=ln();a=a===void 0?null:a,Vt.flags|=t,o.memoizedState=fa(1|e,jl(),i,a)}function Tr(t,e,i,a){var o=De();a=a===void 0?null:a;var f=o.memoizedState.inst;te!==null&&a!==null&&nc(a,te.memoizedState.deps)?o.memoizedState=fa(e,f,i,a):(Vt.flags|=t,o.memoizedState=fa(1|e,f,i,a))}function Gd(t,e){Il(8390656,8,t,e)}function Yd(t,e){Tr(2048,8,t,e)}function Fd(t,e){return Tr(4,2,t,e)}function Xd(t,e){return Tr(4,4,t,e)}function Zd(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qd(t,e,i){i=i!=null?i.concat([t]):null,Tr(4,4,Zd.bind(null,e,t),i)}function dc(){}function Pd(t,e){var i=De();e=e===void 0?null:e;var a=i.memoizedState;return e!==null&&nc(e,a[1])?a[0]:(i.memoizedState=[t,e],t)}function Wd(t,e){var i=De();e=e===void 0?null:e;var a=i.memoizedState;if(e!==null&&nc(e,a[1]))return a[0];if(a=t(),ks){ve(!0);try{t()}finally{ve(!1)}}return i.memoizedState=[a,e],a}function pc(t,e,i){return i===void 0||(Yi&1073741824)!==0?t.memoizedState=e:(t.memoizedState=i,t=$p(),Vt.lanes|=t,Ki|=t,i)}function Kd(t,e,i,a){return mn(i,e)?i:ua.current!==null?(t=pc(t,i,a),mn(t,e)||(je=!0),t):(Yi&42)===0?(je=!0,t.memoizedState=i):(t=$p(),Vt.lanes|=t,Ki|=t,e)}function Jd(t,e,i,a,o){var f=X.p;X.p=f!==0&&8>f?f:8;var g=D.T,y={};D.T=y,vc(t,!1,e,i);try{var N=o(),B=D.S;if(B!==null&&B(y,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=Bv(N,a);Sr(t,e,W,Tn(t))}else Sr(t,e,a,Tn(t))}catch($){Sr(t,e,{then:function(){},status:"rejected",reason:$},Tn())}finally{X.p=f,D.T=g}}function Hv(){}function mc(t,e,i,a){if(t.tag!==5)throw Error(r(476));var o=$d(t).queue;Jd(t,o,e,lt,i===null?Hv:function(){return tp(t),i(a)})}function $d(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:lt},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function tp(t){var e=$d(t).next.queue;Sr(t,e,{},Tn())}function gc(){return We(qr)}function ep(){return De().memoizedState}function np(){return De().memoizedState}function Gv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=Tn();t=Hi(i);var a=Gi(e,t,i);a!==null&&(Sn(a,e,i),mr(a,e,i)),e={cache:Xu()},t.payload=e;return}e=e.return}}function Yv(t,e,i){var a=Tn();i={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Hl(t)?sp(e,i):(i=Vu(t,e,i,a),i!==null&&(Sn(i,t,a),ap(i,e,a)))}function ip(t,e,i){var a=Tn();Sr(t,e,i,a)}function Sr(t,e,i,a){var o={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Hl(t))sp(e,o);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=e.lastRenderedReducer,f!==null))try{var g=e.lastRenderedState,y=f(g,i);if(o.hasEagerState=!0,o.eagerState=y,mn(y,g))return El(t,e,o,0),oe===null&&Al(),!1}catch{}finally{}if(i=Vu(t,e,o,a),i!==null)return Sn(i,t,a),ap(i,e,a),!0}return!1}function vc(t,e,i,a){if(a={lane:2,revertLane:Pc(),action:a,hasEagerState:!1,eagerState:null,next:null},Hl(t)){if(e)throw Error(r(479))}else e=Vu(t,i,a,2),e!==null&&Sn(e,t,2)}function Hl(t){var e=t.alternate;return t===Vt||e!==null&&e===Vt}function sp(t,e){ca=Vl=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function ap(t,e,i){if((i&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,i|=a,e.lanes=i,cl(t,i)}}var Gl={readContext:We,use:Ll,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we},rp={readContext:We,use:Ll,useCallback:function(t,e){return ln().memoizedState=[t,e===void 0?null:e],t},useContext:We,useEffect:Gd,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Il(4194308,4,Zd.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Il(4194308,4,t,e)},useInsertionEffect:function(t,e){Il(4,2,t,e)},useMemo:function(t,e){var i=ln();e=e===void 0?null:e;var a=t();if(ks){ve(!0);try{t()}finally{ve(!1)}}return i.memoizedState=[a,e],a},useReducer:function(t,e,i){var a=ln();if(i!==void 0){var o=i(e);if(ks){ve(!0);try{i(e)}finally{ve(!1)}}}else o=e;return a.memoizedState=a.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},a.queue=t,t=t.dispatch=Yv.bind(null,Vt,t),[a.memoizedState,t]},useRef:function(t){var e=ln();return t={current:t},e.memoizedState=t},useState:function(t){t=hc(t);var e=t.queue,i=ip.bind(null,Vt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:dc,useDeferredValue:function(t,e){var i=ln();return pc(i,t,e)},useTransition:function(){var t=hc(!1);return t=Jd.bind(null,Vt,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var a=Vt,o=ln();if(Kt){if(i===void 0)throw Error(r(407));i=i()}else{if(i=e(),oe===null)throw Error(r(349));(Ft&124)!==0||Nd(a,e,i)}o.memoizedState=i;var f={value:i,getSnapshot:e};return o.queue=f,Gd(Cd.bind(null,a,f,t),[t]),a.flags|=2048,fa(9,jl(),Od.bind(null,a,f,i,e),null),i},useId:function(){var t=ln(),e=oe.identifierPrefix;if(Kt){var i=_i,a=vi;i=(a&~(1<<32-Zt(a)-1)).toString(32)+i,e="«"+e+"R"+i,i=Bl++,0<i&&(e+="H"+i.toString(32)),e+="»"}else i=Lv++,e="«"+e+"r"+i.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:gc,useFormState:Ld,useActionState:Ld,useOptimistic:function(t){var e=ln();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=vc.bind(null,Vt,!0,i),i.dispatch=e,[t,e]},useMemoCache:oc,useCacheRefresh:function(){return ln().memoizedState=Gv.bind(null,Vt)}},lp={readContext:We,use:Ll,useCallback:Pd,useContext:We,useEffect:Yd,useImperativeHandle:Qd,useInsertionEffect:Fd,useLayoutEffect:Xd,useMemo:Wd,useReducer:ql,useRef:Hd,useState:function(){return ql(Si)},useDebugValue:dc,useDeferredValue:function(t,e){var i=De();return Kd(i,te.memoizedState,t,e)},useTransition:function(){var t=ql(Si)[0],e=De().memoizedState;return[typeof t=="boolean"?t:yr(t),e]},useSyncExternalStore:wd,useId:ep,useHostTransitionStatus:gc,useFormState:qd,useActionState:qd,useOptimistic:function(t,e){var i=De();return Md(i,te,t,e)},useMemoCache:oc,useCacheRefresh:np},Fv={readContext:We,use:Ll,useCallback:Pd,useContext:We,useEffect:Yd,useImperativeHandle:Qd,useInsertionEffect:Fd,useLayoutEffect:Xd,useMemo:Wd,useReducer:cc,useRef:Hd,useState:function(){return cc(Si)},useDebugValue:dc,useDeferredValue:function(t,e){var i=De();return te===null?pc(i,t,e):Kd(i,te.memoizedState,t,e)},useTransition:function(){var t=cc(Si)[0],e=De().memoizedState;return[typeof t=="boolean"?t:yr(t),e]},useSyncExternalStore:wd,useId:ep,useHostTransitionStatus:gc,useFormState:Id,useActionState:Id,useOptimistic:function(t,e){var i=De();return te!==null?Md(i,te,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:oc,useCacheRefresh:np},da=null,br=0;function Yl(t){var e=br;return br+=1,da===null&&(da=[]),_d(da,t,e)}function xr(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Fl(t,e){throw e.$$typeof===_?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function op(t){var e=t._init;return e(t._payload)}function up(t){function e(M,C){if(t){var V=M.deletions;V===null?(M.deletions=[C],M.flags|=16):V.push(C)}}function i(M,C){if(!t)return null;for(;C!==null;)e(M,C),C=C.sibling;return null}function a(M){for(var C=new Map;M!==null;)M.key!==null?C.set(M.key,M):C.set(M.index,M),M=M.sibling;return C}function o(M,C){return M=gi(M,C),M.index=0,M.sibling=null,M}function f(M,C,V){return M.index=V,t?(V=M.alternate,V!==null?(V=V.index,V<C?(M.flags|=67108866,C):V):(M.flags|=67108866,C)):(M.flags|=1048576,C)}function g(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function y(M,C,V,K){return C===null||C.tag!==6?(C=Lu(V,M.mode,K),C.return=M,C):(C=o(C,V),C.return=M,C)}function N(M,C,V,K){var St=V.type;return St===b?W(M,C,V.props.children,K,V.key):C!==null&&(C.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===U&&op(St)===C.type)?(C=o(C,V.props),xr(C,V),C.return=M,C):(C=Nl(V.type,V.key,V.props,null,M.mode,K),xr(C,V),C.return=M,C)}function B(M,C,V,K){return C===null||C.tag!==4||C.stateNode.containerInfo!==V.containerInfo||C.stateNode.implementation!==V.implementation?(C=qu(V,M.mode,K),C.return=M,C):(C=o(C,V.children||[]),C.return=M,C)}function W(M,C,V,K,St){return C===null||C.tag!==7?(C=Es(V,M.mode,K,St),C.return=M,C):(C=o(C,V),C.return=M,C)}function $(M,C,V){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Lu(""+C,M.mode,V),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case S:return V=Nl(C.type,C.key,C.props,null,M.mode,V),xr(V,C),V.return=M,V;case T:return C=qu(C,M.mode,V),C.return=M,C;case U:var K=C._init;return C=K(C._payload),$(M,C,V)}if(_t(C)||Q(C))return C=Es(C,M.mode,V,null),C.return=M,C;if(typeof C.then=="function")return $(M,Yl(C),V);if(C.$$typeof===q)return $(M,Dl(M,C),V);Fl(M,C)}return null}function H(M,C,V,K){var St=C!==null?C.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return St!==null?null:y(M,C,""+V,K);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return V.key===St?N(M,C,V,K):null;case T:return V.key===St?B(M,C,V,K):null;case U:return St=V._init,V=St(V._payload),H(M,C,V,K)}if(_t(V)||Q(V))return St!==null?null:W(M,C,V,K,null);if(typeof V.then=="function")return H(M,C,Yl(V),K);if(V.$$typeof===q)return H(M,C,Dl(M,V),K);Fl(M,V)}return null}function G(M,C,V,K,St){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return M=M.get(V)||null,y(C,M,""+K,St);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return M=M.get(K.key===null?V:K.key)||null,N(C,M,K,St);case T:return M=M.get(K.key===null?V:K.key)||null,B(C,M,K,St);case U:var Bt=K._init;return K=Bt(K._payload),G(M,C,V,K,St)}if(_t(K)||Q(K))return M=M.get(V)||null,W(C,M,K,St,null);if(typeof K.then=="function")return G(M,C,V,Yl(K),St);if(K.$$typeof===q)return G(M,C,V,Dl(C,K),St);Fl(C,K)}return null}function Ot(M,C,V,K){for(var St=null,Bt=null,xt=C,wt=C=0,He=null;xt!==null&&wt<V.length;wt++){xt.index>wt?(He=xt,xt=null):He=xt.sibling;var Pt=H(M,xt,V[wt],K);if(Pt===null){xt===null&&(xt=He);break}t&&xt&&Pt.alternate===null&&e(M,xt),C=f(Pt,C,wt),Bt===null?St=Pt:Bt.sibling=Pt,Bt=Pt,xt=He}if(wt===V.length)return i(M,xt),Kt&&Ns(M,wt),St;if(xt===null){for(;wt<V.length;wt++)xt=$(M,V[wt],K),xt!==null&&(C=f(xt,C,wt),Bt===null?St=xt:Bt.sibling=xt,Bt=xt);return Kt&&Ns(M,wt),St}for(xt=a(xt);wt<V.length;wt++)He=G(xt,M,wt,V[wt],K),He!==null&&(t&&He.alternate!==null&&xt.delete(He.key===null?wt:He.key),C=f(He,C,wt),Bt===null?St=He:Bt.sibling=He,Bt=He);return t&&xt.forEach(function(rs){return e(M,rs)}),Kt&&Ns(M,wt),St}function Et(M,C,V,K){if(V==null)throw Error(r(151));for(var St=null,Bt=null,xt=C,wt=C=0,He=null,Pt=V.next();xt!==null&&!Pt.done;wt++,Pt=V.next()){xt.index>wt?(He=xt,xt=null):He=xt.sibling;var rs=H(M,xt,Pt.value,K);if(rs===null){xt===null&&(xt=He);break}t&&xt&&rs.alternate===null&&e(M,xt),C=f(rs,C,wt),Bt===null?St=rs:Bt.sibling=rs,Bt=rs,xt=He}if(Pt.done)return i(M,xt),Kt&&Ns(M,wt),St;if(xt===null){for(;!Pt.done;wt++,Pt=V.next())Pt=$(M,Pt.value,K),Pt!==null&&(C=f(Pt,C,wt),Bt===null?St=Pt:Bt.sibling=Pt,Bt=Pt);return Kt&&Ns(M,wt),St}for(xt=a(xt);!Pt.done;wt++,Pt=V.next())Pt=G(xt,M,wt,Pt.value,K),Pt!==null&&(t&&Pt.alternate!==null&&xt.delete(Pt.key===null?wt:Pt.key),C=f(Pt,C,wt),Bt===null?St=Pt:Bt.sibling=Pt,Bt=Pt);return t&&xt.forEach(function(X_){return e(M,X_)}),Kt&&Ns(M,wt),St}function ne(M,C,V,K){if(typeof V=="object"&&V!==null&&V.type===b&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case S:t:{for(var St=V.key;C!==null;){if(C.key===St){if(St=V.type,St===b){if(C.tag===7){i(M,C.sibling),K=o(C,V.props.children),K.return=M,M=K;break t}}else if(C.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===U&&op(St)===C.type){i(M,C.sibling),K=o(C,V.props),xr(K,V),K.return=M,M=K;break t}i(M,C);break}else e(M,C);C=C.sibling}V.type===b?(K=Es(V.props.children,M.mode,K,V.key),K.return=M,M=K):(K=Nl(V.type,V.key,V.props,null,M.mode,K),xr(K,V),K.return=M,M=K)}return g(M);case T:t:{for(St=V.key;C!==null;){if(C.key===St)if(C.tag===4&&C.stateNode.containerInfo===V.containerInfo&&C.stateNode.implementation===V.implementation){i(M,C.sibling),K=o(C,V.children||[]),K.return=M,M=K;break t}else{i(M,C);break}else e(M,C);C=C.sibling}K=qu(V,M.mode,K),K.return=M,M=K}return g(M);case U:return St=V._init,V=St(V._payload),ne(M,C,V,K)}if(_t(V))return Ot(M,C,V,K);if(Q(V)){if(St=Q(V),typeof St!="function")throw Error(r(150));return V=St.call(V),Et(M,C,V,K)}if(typeof V.then=="function")return ne(M,C,Yl(V),K);if(V.$$typeof===q)return ne(M,C,Dl(M,V),K);Fl(M,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,C!==null&&C.tag===6?(i(M,C.sibling),K=o(C,V),K.return=M,M=K):(i(M,C),K=Lu(V,M.mode,K),K.return=M,M=K),g(M)):i(M,C)}return function(M,C,V,K){try{br=0;var St=ne(M,C,V,K);return da=null,St}catch(xt){if(xt===dr||xt===kl)throw xt;var Bt=gn(29,xt,null,M.mode);return Bt.lanes=K,Bt.return=M,Bt}finally{}}}var pa=up(!0),cp=up(!1),kn=I(null),ni=null;function Fi(t){var e=t.alternate;nt(Ve,Ve.current&1),nt(kn,t),ni===null&&(e===null||ua.current!==null||e.memoizedState!==null)&&(ni=t)}function hp(t){if(t.tag===22){if(nt(Ve,Ve.current),nt(kn,t),ni===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(ni=t)}}else Xi()}function Xi(){nt(Ve,Ve.current),nt(kn,kn.current)}function bi(t){Z(kn),ni===t&&(ni=null),Z(Ve)}var Ve=I(0);function Xl(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||lh(i)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function _c(t,e,i,a){e=t.memoizedState,i=i(a,e),i=i==null?e:v({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var yc={enqueueSetState:function(t,e,i){t=t._reactInternals;var a=Tn(),o=Hi(a);o.payload=e,i!=null&&(o.callback=i),e=Gi(t,o,a),e!==null&&(Sn(e,t,a),mr(e,t,a))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var a=Tn(),o=Hi(a);o.tag=1,o.payload=e,i!=null&&(o.callback=i),e=Gi(t,o,a),e!==null&&(Sn(e,t,a),mr(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Tn(),a=Hi(i);a.tag=2,e!=null&&(a.callback=e),e=Gi(t,a,i),e!==null&&(Sn(e,t,i),mr(e,t,i))}};function fp(t,e,i,a,o,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,f,g):e.prototype&&e.prototype.isPureReactComponent?!ar(i,a)||!ar(o,f):!0}function dp(t,e,i,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,a),e.state!==t&&yc.enqueueReplaceState(e,e.state,null)}function Us(t,e){var i=e;if("ref"in e){i={};for(var a in e)a!=="ref"&&(i[a]=e[a])}if(t=t.defaultProps){i===e&&(i=v({},i));for(var o in t)i[o]===void 0&&(i[o]=t[o])}return i}var Zl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function pp(t){Zl(t)}function mp(t){console.error(t)}function gp(t){Zl(t)}function Ql(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function vp(t,e,i){try{var a=t.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Tc(t,e,i){return i=Hi(i),i.tag=3,i.payload={element:null},i.callback=function(){Ql(t,e)},i}function _p(t){return t=Hi(t),t.tag=3,t}function yp(t,e,i,a){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var f=a.value;t.payload=function(){return o(f)},t.callback=function(){vp(e,i,a)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){vp(e,i,a),typeof o!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var y=a.stack;this.componentDidCatch(a.value,{componentStack:y!==null?y:""})})}function Xv(t,e,i,a,o){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=i.alternate,e!==null&&cr(e,i,o,!0),i=kn.current,i!==null){switch(i.tag){case 13:return ni===null?Yc():i.alternate===null&&Se===0&&(Se=3),i.flags&=-257,i.flags|=65536,i.lanes=o,a===Pu?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([a]):e.add(a),Xc(t,a,o)),!1;case 22:return i.flags|=65536,a===Pu?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([a]):i.add(a)),Xc(t,a,o)),!1}throw Error(r(435,i.tag))}return Xc(t,a,o),Yc(),!1}if(Kt)return e=kn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=o,a!==Hu&&(t=Error(r(422),{cause:a}),ur(Cn(t,i)))):(a!==Hu&&(e=Error(r(423),{cause:a}),ur(Cn(e,i))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,a=Cn(a,i),o=Tc(t.stateNode,a,o),Ju(t,o),Se!==4&&(Se=2)),!1;var f=Error(r(520),{cause:a});if(f=Cn(f,i),Rr===null?Rr=[f]:Rr.push(f),Se!==4&&(Se=2),e===null)return!0;a=Cn(a,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=o&-o,i.lanes|=t,t=Tc(i.stateNode,a,t),Ju(i,t),!1;case 1:if(e=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ji===null||!Ji.has(f))))return i.flags|=65536,o&=-o,i.lanes|=o,o=_p(o),yp(o,t,i,a),Ju(i,o),!1}i=i.return}while(i!==null);return!1}var Tp=Error(r(461)),je=!1;function Fe(t,e,i,a){e.child=t===null?cp(e,null,i,a):pa(e,t.child,i,a)}function Sp(t,e,i,a,o){i=i.render;var f=e.ref;if("ref"in a){var g={};for(var y in a)y!=="ref"&&(g[y]=a[y])}else g=a;return Ds(e),a=ic(t,e,i,g,f,o),y=sc(),t!==null&&!je?(ac(t,e,o),xi(t,e,o)):(Kt&&y&&ju(e),e.flags|=1,Fe(t,e,a,o),e.child)}function bp(t,e,i,a,o){if(t===null){var f=i.type;return typeof f=="function"&&!Bu(f)&&f.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=f,xp(t,e,f,a,o)):(t=Nl(i.type,null,a,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(f=t.child,!Oc(t,o)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:ar,i(g,a)&&t.ref===e.ref)return xi(t,e,o)}return e.flags|=1,t=gi(f,a),t.ref=e.ref,t.return=e,e.child=t}function xp(t,e,i,a,o){if(t!==null){var f=t.memoizedProps;if(ar(f,a)&&t.ref===e.ref)if(je=!1,e.pendingProps=a=f,Oc(t,o))(t.flags&131072)!==0&&(je=!0);else return e.lanes=t.lanes,xi(t,e,o)}return Sc(t,e,i,a,o)}function Ap(t,e,i){var a=e.pendingProps,o=a.children,f=t!==null?t.memoizedState:null;if(a.mode==="hidden"){if((e.flags&128)!==0){if(a=f!==null?f.baseLanes|i:i,t!==null){for(o=e.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;e.childLanes=f&~a}else e.childLanes=0,e.child=null;return Ep(t,e,a,i)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ml(e,f!==null?f.cachePool:null),f!==null?xd(e,f):tc(),hp(e);else return e.lanes=e.childLanes=536870912,Ep(t,e,f!==null?f.baseLanes|i:i,i)}else f!==null?(Ml(e,f.cachePool),xd(e,f),Xi(),e.memoizedState=null):(t!==null&&Ml(e,null),tc(),Xi());return Fe(t,e,o,i),e.child}function Ep(t,e,i,a){var o=Qu();return o=o===null?null:{parent:ze._currentValue,pool:o},e.memoizedState={baseLanes:i,cachePool:o},t!==null&&Ml(e,null),tc(),hp(e),t!==null&&cr(t,e,a,!0),null}function Pl(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function Sc(t,e,i,a,o){return Ds(e),i=ic(t,e,i,a,void 0,o),a=sc(),t!==null&&!je?(ac(t,e,o),xi(t,e,o)):(Kt&&a&&ju(e),e.flags|=1,Fe(t,e,i,o),e.child)}function wp(t,e,i,a,o,f){return Ds(e),e.updateQueue=null,i=Ed(e,a,i,o),Ad(t),a=sc(),t!==null&&!je?(ac(t,e,f),xi(t,e,f)):(Kt&&a&&ju(e),e.flags|=1,Fe(t,e,i,f),e.child)}function Np(t,e,i,a,o){if(Ds(e),e.stateNode===null){var f=sa,g=i.contextType;typeof g=="object"&&g!==null&&(f=We(g)),f=new i(a,f),e.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=yc,e.stateNode=f,f._reactInternals=e,f=e.stateNode,f.props=a,f.state=e.memoizedState,f.refs={},Wu(e),g=i.contextType,f.context=typeof g=="object"&&g!==null?We(g):sa,f.state=e.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(_c(e,i,g,a),f.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&yc.enqueueReplaceState(f,f.state,null),vr(e,a,f,o),gr(),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){f=e.stateNode;var y=e.memoizedProps,N=Us(i,y);f.props=N;var B=f.context,W=i.contextType;g=sa,typeof W=="object"&&W!==null&&(g=We(W));var $=i.getDerivedStateFromProps;W=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",y=e.pendingProps!==y,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y||B!==g)&&dp(e,f,a,g),Ii=!1;var H=e.memoizedState;f.state=H,vr(e,a,f,o),gr(),B=e.memoizedState,y||H!==B||Ii?(typeof $=="function"&&(_c(e,i,$,a),B=e.memoizedState),(N=Ii||fp(e,i,N,a,H,B,g))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=B),f.props=a,f.state=B,f.context=g,a=N):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{f=e.stateNode,Ku(t,e),g=e.memoizedProps,W=Us(i,g),f.props=W,$=e.pendingProps,H=f.context,B=i.contextType,N=sa,typeof B=="object"&&B!==null&&(N=We(B)),y=i.getDerivedStateFromProps,(B=typeof y=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||H!==N)&&dp(e,f,a,N),Ii=!1,H=e.memoizedState,f.state=H,vr(e,a,f,o),gr();var G=e.memoizedState;g!==$||H!==G||Ii||t!==null&&t.dependencies!==null&&Rl(t.dependencies)?(typeof y=="function"&&(_c(e,i,y,a),G=e.memoizedState),(W=Ii||fp(e,i,W,a,H,G,N)||t!==null&&t.dependencies!==null&&Rl(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(a,G,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(a,G,N)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&H===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&H===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=G),f.props=a,f.state=G,f.context=N,a=W):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&H===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&H===t.memoizedState||(e.flags|=1024),a=!1)}return f=a,Pl(t,e),a=(e.flags&128)!==0,f||a?(f=e.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:f.render(),e.flags|=1,t!==null&&a?(e.child=pa(e,t.child,null,o),e.child=pa(e,null,i,o)):Fe(t,e,i,o),e.memoizedState=f.state,t=e.child):t=xi(t,e,o),t}function Op(t,e,i,a){return or(),e.flags|=256,Fe(t,e,i,a),e.child}var bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xc(t){return{baseLanes:t,cachePool:md()}}function Ac(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=Un),t}function Cp(t,e,i){var a=e.pendingProps,o=!1,f=(e.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Ve.current&2)!==0),g&&(o=!0,e.flags&=-129),g=(e.flags&32)!==0,e.flags&=-33,t===null){if(Kt){if(o?Fi(e):Xi(),Kt){var y=Te,N;if(N=y){t:{for(N=y,y=ei;N.nodeType!==8;){if(!y){y=null;break t}if(N=In(N.nextSibling),N===null){y=null;break t}}y=N}y!==null?(e.memoizedState={dehydrated:y,treeContext:ws!==null?{id:vi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},N=gn(18,null,null,0),N.stateNode=y,N.return=e,e.child=N,en=e,Te=null,N=!0):N=!1}N||Cs(e)}if(y=e.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return lh(y)?e.lanes=32:e.lanes=536870912,null;bi(e)}return y=a.children,a=a.fallback,o?(Xi(),o=e.mode,y=Wl({mode:"hidden",children:y},o),a=Es(a,o,i,null),y.return=e,a.return=e,y.sibling=a,e.child=y,o=e.child,o.memoizedState=xc(i),o.childLanes=Ac(t,g,i),e.memoizedState=bc,a):(Fi(e),Ec(e,y))}if(N=t.memoizedState,N!==null&&(y=N.dehydrated,y!==null)){if(f)e.flags&256?(Fi(e),e.flags&=-257,e=wc(t,e,i)):e.memoizedState!==null?(Xi(),e.child=t.child,e.flags|=128,e=null):(Xi(),o=a.fallback,y=e.mode,a=Wl({mode:"visible",children:a.children},y),o=Es(o,y,i,null),o.flags|=2,a.return=e,o.return=e,a.sibling=o,e.child=a,pa(e,t.child,null,i),a=e.child,a.memoizedState=xc(i),a.childLanes=Ac(t,g,i),e.memoizedState=bc,e=o);else if(Fi(e),lh(y)){if(g=y.nextSibling&&y.nextSibling.dataset,g)var B=g.dgst;g=B,a=Error(r(419)),a.stack="",a.digest=g,ur({value:a,source:null,stack:null}),e=wc(t,e,i)}else if(je||cr(t,e,i,!1),g=(i&t.childLanes)!==0,je||g){if(g=oe,g!==null&&(a=i&-i,a=(a&42)!==0?1:Pa(a),a=(a&(g.suspendedLanes|i))!==0?0:a,a!==0&&a!==N.retryLane))throw N.retryLane=a,ia(t,a),Sn(g,t,a),Tp;y.data==="$?"||Yc(),e=wc(t,e,i)}else y.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=N.treeContext,Te=In(y.nextSibling),en=e,Kt=!0,Os=null,ei=!1,t!==null&&(Dn[Mn++]=vi,Dn[Mn++]=_i,Dn[Mn++]=ws,vi=t.id,_i=t.overflow,ws=e),e=Ec(e,a.children),e.flags|=4096);return e}return o?(Xi(),o=a.fallback,y=e.mode,N=t.child,B=N.sibling,a=gi(N,{mode:"hidden",children:a.children}),a.subtreeFlags=N.subtreeFlags&65011712,B!==null?o=gi(B,o):(o=Es(o,y,i,null),o.flags|=2),o.return=e,a.return=e,a.sibling=o,e.child=a,a=o,o=e.child,y=t.child.memoizedState,y===null?y=xc(i):(N=y.cachePool,N!==null?(B=ze._currentValue,N=N.parent!==B?{parent:B,pool:B}:N):N=md(),y={baseLanes:y.baseLanes|i,cachePool:N}),o.memoizedState=y,o.childLanes=Ac(t,g,i),e.memoizedState=bc,a):(Fi(e),i=t.child,t=i.sibling,i=gi(i,{mode:"visible",children:a.children}),i.return=e,i.sibling=null,t!==null&&(g=e.deletions,g===null?(e.deletions=[t],e.flags|=16):g.push(t)),e.child=i,e.memoizedState=null,i)}function Ec(t,e){return e=Wl({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Wl(t,e){return t=gn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function wc(t,e,i){return pa(e,t.child,null,i),t=Ec(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rp(t,e,i){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),Yu(t.return,e,i)}function Nc(t,e,i,a,o){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:o}:(f.isBackwards=e,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=i,f.tailMode=o)}function Dp(t,e,i){var a=e.pendingProps,o=a.revealOrder,f=a.tail;if(Fe(t,e,a.children,i),a=Ve.current,(a&2)!==0)a=a&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rp(t,i,e);else if(t.tag===19)Rp(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}switch(nt(Ve,a),o){case"forwards":for(i=e.child,o=null;i!==null;)t=i.alternate,t!==null&&Xl(t)===null&&(o=i),i=i.sibling;i=o,i===null?(o=e.child,e.child=null):(o=i.sibling,i.sibling=null),Nc(e,!1,o,i,f);break;case"backwards":for(i=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Xl(t)===null){e.child=o;break}t=o.sibling,o.sibling=i,i=o,o=t}Nc(e,!0,i,null,f);break;case"together":Nc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xi(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),Ki|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(cr(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,i=gi(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=gi(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Oc(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Rl(t)))}function Zv(t,e,i){switch(e.tag){case 3:ut(e,e.stateNode.containerInfo),ji(e,ze,t.memoizedState.cache),or();break;case 27:case 5:ge(e);break;case 4:ut(e,e.stateNode.containerInfo);break;case 10:ji(e,e.type,e.memoizedProps.value);break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(Fi(e),e.flags|=128,null):(i&e.child.childLanes)!==0?Cp(t,e,i):(Fi(e),t=xi(t,e,i),t!==null?t.sibling:null);Fi(e);break;case 19:var o=(t.flags&128)!==0;if(a=(i&e.childLanes)!==0,a||(cr(t,e,i,!1),a=(i&e.childLanes)!==0),o){if(a)return Dp(t,e,i);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),nt(Ve,Ve.current),a)break;return null;case 22:case 23:return e.lanes=0,Ap(t,e,i);case 24:ji(e,ze,t.memoizedState.cache)}return xi(t,e,i)}function Mp(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)je=!0;else{if(!Oc(t,i)&&(e.flags&128)===0)return je=!1,Zv(t,e,i);je=(t.flags&131072)!==0}else je=!1,Kt&&(e.flags&1048576)!==0&&od(e,Cl,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var a=e.elementType,o=a._init;if(a=o(a._payload),e.type=a,typeof a=="function")Bu(a)?(t=Us(a,t),e.tag=1,e=Np(null,e,a,t,i)):(e.tag=0,e=Sc(null,e,a,t,i));else{if(a!=null){if(o=a.$$typeof,o===P){e.tag=11,e=Sp(null,e,a,t,i);break t}else if(o===Y){e.tag=14,e=bp(null,e,a,t,i);break t}}throw e=ht(a)||a,Error(r(306,e,""))}}return e;case 0:return Sc(t,e,e.type,e.pendingProps,i);case 1:return a=e.type,o=Us(a,e.pendingProps),Np(t,e,a,o,i);case 3:t:{if(ut(e,e.stateNode.containerInfo),t===null)throw Error(r(387));a=e.pendingProps;var f=e.memoizedState;o=f.element,Ku(t,e),vr(e,a,null,i);var g=e.memoizedState;if(a=g.cache,ji(e,ze,a),a!==f.cache&&Fu(e,[ze],i,!0),gr(),a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache},e.updateQueue.baseState=f,e.memoizedState=f,e.flags&256){e=Op(t,e,a,i);break t}else if(a!==o){o=Cn(Error(r(424)),e),ur(o),e=Op(t,e,a,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Te=In(t.firstChild),en=e,Kt=!0,Os=null,ei=!0,i=cp(e,null,a,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(or(),a===o){e=xi(t,e,i);break t}Fe(t,e,a,i)}e=e.child}return e;case 26:return Pl(t,e),t===null?(i=Vm(e.type,null,e.pendingProps,null))?e.memoizedState=i:Kt||(i=e.type,t=e.pendingProps,a=co(vt.current).createElement(i),a[qe]=e,a[Pe]=t,Ze(a,i,t),ye(a),e.stateNode=a):e.memoizedState=Vm(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return ge(e),t===null&&Kt&&(a=e.stateNode=km(e.type,e.pendingProps,vt.current),en=e,ei=!0,o=Te,es(e.type)?(oh=o,Te=In(a.firstChild)):Te=o),Fe(t,e,e.pendingProps.children,i),Pl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Kt&&((o=a=Te)&&(a=S_(a,e.type,e.pendingProps,ei),a!==null?(e.stateNode=a,en=e,Te=In(a.firstChild),ei=!1,o=!0):o=!1),o||Cs(e)),ge(e),o=e.type,f=e.pendingProps,g=t!==null?t.memoizedProps:null,a=f.children,sh(o,f)?a=null:g!==null&&sh(o,g)&&(e.flags|=32),e.memoizedState!==null&&(o=ic(t,e,qv,null,null,i),qr._currentValue=o),Pl(t,e),Fe(t,e,a,i),e.child;case 6:return t===null&&Kt&&((t=i=Te)&&(i=b_(i,e.pendingProps,ei),i!==null?(e.stateNode=i,en=e,Te=null,t=!0):t=!1),t||Cs(e)),null;case 13:return Cp(t,e,i);case 4:return ut(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=pa(e,null,a,i):Fe(t,e,a,i),e.child;case 11:return Sp(t,e,e.type,e.pendingProps,i);case 7:return Fe(t,e,e.pendingProps,i),e.child;case 8:return Fe(t,e,e.pendingProps.children,i),e.child;case 12:return Fe(t,e,e.pendingProps.children,i),e.child;case 10:return a=e.pendingProps,ji(e,e.type,a.value),Fe(t,e,a.children,i),e.child;case 9:return o=e.type._context,a=e.pendingProps.children,Ds(e),o=We(o),a=a(o),e.flags|=1,Fe(t,e,a,i),e.child;case 14:return bp(t,e,e.type,e.pendingProps,i);case 15:return xp(t,e,e.type,e.pendingProps,i);case 19:return Dp(t,e,i);case 31:return a=e.pendingProps,i=e.mode,a={mode:a.mode,children:a.children},t===null?(i=Wl(a,i),i.ref=e.ref,e.child=i,i.return=e,e=i):(i=gi(t.child,a),i.ref=e.ref,e.child=i,i.return=e,e=i),e;case 22:return Ap(t,e,i);case 24:return Ds(e),a=We(ze),t===null?(o=Qu(),o===null&&(o=oe,f=Xu(),o.pooledCache=f,f.refCount++,f!==null&&(o.pooledCacheLanes|=i),o=f),e.memoizedState={parent:a,cache:o},Wu(e),ji(e,ze,o)):((t.lanes&i)!==0&&(Ku(t,e),vr(e,null,null,i),gr()),o=t.memoizedState,f=e.memoizedState,o.parent!==a?(o={parent:a,cache:a},e.memoizedState=o,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=o),ji(e,ze,a)):(a=f.cache,ji(e,ze,a),a!==o.cache&&Fu(e,[ze],i,!0))),Fe(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function Ai(t){t.flags|=4}function kp(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Im(e)){if(e=kn.current,e!==null&&((Ft&4194048)===Ft?ni!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||e!==ni))throw pr=Pu,gd;t.flags|=8192}}function Kl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?_s():536870912,t.lanes|=e,_a|=e)}function Ar(t,e){if(!Kt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,a=0;if(e)for(var o=t.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags&65011712,a|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=a,t.childLanes=i,e}function Qv(t,e,i){var a=e.pendingProps;switch(Iu(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(e),null;case 1:return pe(e),null;case 3:return i=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),Ti(ze),ae(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(lr(e)?Ai(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,hd())),pe(e),null;case 26:return i=e.memoizedState,t===null?(Ai(e),i!==null?(pe(e),kp(e,i)):(pe(e),e.flags&=-16777217)):i?i!==t.memoizedState?(Ai(e),pe(e),kp(e,i)):(pe(e),e.flags&=-16777217):(t.memoizedProps!==a&&Ai(e),pe(e),e.flags&=-16777217),null;case 27:Ce(e),i=vt.current;var o=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Ai(e);else{if(!a){if(e.stateNode===null)throw Error(r(166));return pe(e),null}t=at.current,lr(e)?ud(e):(t=km(o,a,i),e.stateNode=t,Ai(e))}return pe(e),null;case 5:if(Ce(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Ai(e);else{if(!a){if(e.stateNode===null)throw Error(r(166));return pe(e),null}if(t=at.current,lr(e))ud(e);else{switch(o=co(vt.current),t){case 1:t=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof a.is=="string"?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?t.multiple=!0:a.size&&(t.size=a.size);break;default:t=typeof a.is=="string"?o.createElement(i,{is:a.is}):o.createElement(i)}}t[qe]=e,t[Pe]=a;t:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break t;for(;o.sibling===null;){if(o.return===null||o.return===e)break t;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=t;t:switch(Ze(t,i,a),i){case"button":case"input":case"select":case"textarea":t=!!a.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ai(e)}}return pe(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&Ai(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(r(166));if(t=vt.current,lr(e)){if(t=e.stateNode,i=e.memoizedProps,a=null,o=en,o!==null)switch(o.tag){case 27:case 5:a=o.memoizedProps}t[qe]=e,t=!!(t.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||wm(t.nodeValue,i)),t||Cs(e)}else t=co(t).createTextNode(a),t[qe]=e,e.stateNode=t}return pe(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=lr(e),a!==null&&a.dehydrated!==null){if(t===null){if(!o)throw Error(r(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[qe]=e}else or(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;pe(e),o=!1}else o=hd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return e.flags&256?(bi(e),e):(bi(e),null)}if(bi(e),(e.flags&128)!==0)return e.lanes=i,e;if(i=a!==null,t=t!==null&&t.memoizedState!==null,i){a=e.child,o=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(o=a.alternate.memoizedState.cachePool.pool);var f=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==o&&(a.flags|=2048)}return i!==t&&i&&(e.child.flags|=8192),Kl(e,e.updateQueue),pe(e),null;case 4:return ae(),t===null&&$c(e.stateNode.containerInfo),pe(e),null;case 10:return Ti(e.type),pe(e),null;case 19:if(Z(Ve),o=e.memoizedState,o===null)return pe(e),null;if(a=(e.flags&128)!==0,f=o.rendering,f===null)if(a)Ar(o,!1);else{if(Se!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(f=Xl(t),f!==null){for(e.flags|=128,Ar(o,!1),t=f.updateQueue,e.updateQueue=t,Kl(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)ld(i,t),i=i.sibling;return nt(Ve,Ve.current&1|2),e.child}t=t.sibling}o.tail!==null&&zt()>to&&(e.flags|=128,a=!0,Ar(o,!1),e.lanes=4194304)}else{if(!a)if(t=Xl(f),t!==null){if(e.flags|=128,a=!0,t=t.updateQueue,e.updateQueue=t,Kl(e,t),Ar(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Kt)return pe(e),null}else 2*zt()-o.renderingStartTime>to&&i!==536870912&&(e.flags|=128,a=!0,Ar(o,!1),e.lanes=4194304);o.isBackwards?(f.sibling=e.child,e.child=f):(t=o.last,t!==null?t.sibling=f:e.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=zt(),e.sibling=null,t=Ve.current,nt(Ve,a?t&1|2:t&1),e):(pe(e),null);case 22:case 23:return bi(e),ec(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(i&536870912)!==0&&(e.flags&128)===0&&(pe(e),e.subtreeFlags&6&&(e.flags|=8192)):pe(e),i=e.updateQueue,i!==null&&Kl(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==i&&(e.flags|=2048),t!==null&&Z(Ms),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Ti(ze),pe(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function Pv(t,e){switch(Iu(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ti(ze),ae(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ce(e),null;case 13:if(bi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));or()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Z(Ve),null;case 4:return ae(),null;case 10:return Ti(e.type),null;case 22:case 23:return bi(e),ec(),t!==null&&Z(Ms),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ti(ze),null;case 25:return null;default:return null}}function Up(t,e){switch(Iu(e),e.tag){case 3:Ti(ze),ae();break;case 26:case 27:case 5:Ce(e);break;case 4:ae();break;case 13:bi(e);break;case 19:Z(Ve);break;case 10:Ti(e.type);break;case 22:case 23:bi(e),ec(),t!==null&&Z(Ms);break;case 24:Ti(ze)}}function Er(t,e){try{var i=e.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var o=a.next;i=o;do{if((i.tag&t)===t){a=void 0;var f=i.create,g=i.inst;a=f(),g.destroy=a}i=i.next}while(i!==o)}}catch(y){le(e,e.return,y)}}function Zi(t,e,i){try{var a=e.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&t)===t){var g=a.inst,y=g.destroy;if(y!==void 0){g.destroy=void 0,o=e;var N=i,B=y;try{B()}catch(W){le(o,N,W)}}}a=a.next}while(a!==f)}}catch(W){le(e,e.return,W)}}function zp(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{bd(e,i)}catch(a){le(t,t.return,a)}}}function Vp(t,e,i){i.props=Us(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(a){le(t,e,a)}}function wr(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof i=="function"?t.refCleanup=i(a):i.current=a}}catch(o){le(t,e,o)}}function ii(t,e){var i=t.ref,a=t.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(o){le(t,e,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){le(t,e,o)}else i.current=null}function Bp(t){var e=t.type,i=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break t;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(o){le(t,t.return,o)}}function Cc(t,e,i){try{var a=t.stateNode;g_(a,t.type,i,e),a[Pe]=e}catch(o){le(t,t.return,o)}}function Lp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&es(t.type)||t.tag===4}function Rc(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Lp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&es(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dc(t,e,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=uo));else if(a!==4&&(a===27&&es(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(Dc(t,e,i),t=t.sibling;t!==null;)Dc(t,e,i),t=t.sibling}function Jl(t,e,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(a!==4&&(a===27&&es(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Jl(t,e,i),t=t.sibling;t!==null;)Jl(t,e,i),t=t.sibling}function qp(t){var e=t.stateNode,i=t.memoizedProps;try{for(var a=t.type,o=e.attributes;o.length;)e.removeAttributeNode(o[0]);Ze(e,a,i),e[qe]=t,e[Pe]=i}catch(f){le(t,t.return,f)}}var Ei=!1,Ne=!1,Mc=!1,jp=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Wv(t,e){if(t=t.containerInfo,nh=vo,t=Kf(t),Ru(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var o=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break t}var g=0,y=-1,N=-1,B=0,W=0,$=t,H=null;e:for(;;){for(var G;$!==i||o!==0&&$.nodeType!==3||(y=g+o),$!==f||a!==0&&$.nodeType!==3||(N=g+a),$.nodeType===3&&(g+=$.nodeValue.length),(G=$.firstChild)!==null;)H=$,$=G;for(;;){if($===t)break e;if(H===i&&++B===o&&(y=g),H===f&&++W===a&&(N=g),(G=$.nextSibling)!==null)break;$=H,H=$.parentNode}$=G}i=y===-1||N===-1?null:{start:y,end:N}}else i=null}i=i||{start:0,end:0}}else i=null;for(ih={focusedElem:t,selectionRange:i},vo=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){switch(e=Ie,f=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=e,o=f.memoizedProps,f=f.memoizedState,a=i.stateNode;try{var Ot=Us(i.type,o,i.elementType===i.type);t=a.getSnapshotBeforeUpdate(Ot,f),a.__reactInternalSnapshotBeforeUpdate=t}catch(Et){le(i,i.return,Et)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)rh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}}function Ip(t,e,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:Qi(t,i),a&4&&Er(5,i);break;case 1:if(Qi(t,i),a&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(g){le(i,i.return,g)}else{var o=Us(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(o,e,t.__reactInternalSnapshotBeforeUpdate)}catch(g){le(i,i.return,g)}}a&64&&zp(i),a&512&&wr(i,i.return);break;case 3:if(Qi(t,i),a&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{bd(t,e)}catch(g){le(i,i.return,g)}}break;case 27:e===null&&a&4&&qp(i);case 26:case 5:Qi(t,i),e===null&&a&4&&Bp(i),a&512&&wr(i,i.return);break;case 12:Qi(t,i);break;case 13:Qi(t,i),a&4&&Yp(t,i),a&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=a_.bind(null,i),x_(t,i))));break;case 22:if(a=i.memoizedState!==null||Ei,!a){e=e!==null&&e.memoizedState!==null||Ne,o=Ei;var f=Ne;Ei=a,(Ne=e)&&!f?Pi(t,i,(i.subtreeFlags&8772)!==0):Qi(t,i),Ei=o,Ne=f}break;case 30:break;default:Qi(t,i)}}function Hp(t){var e=t.alternate;e!==null&&(t.alternate=null,Hp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Qs(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var he=null,on=!1;function wi(t,e,i){for(i=i.child;i!==null;)Gp(t,e,i),i=i.sibling}function Gp(t,e,i){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Lt,i)}catch{}switch(i.tag){case 26:Ne||ii(i,e),wi(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ne||ii(i,e);var a=he,o=on;es(i.type)&&(he=i.stateNode,on=!1),wi(t,e,i),zr(i.stateNode),he=a,on=o;break;case 5:Ne||ii(i,e);case 6:if(a=he,o=on,he=null,wi(t,e,i),he=a,on=o,he!==null)if(on)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(i.stateNode)}catch(f){le(i,e,f)}else try{he.removeChild(i.stateNode)}catch(f){le(i,e,f)}break;case 18:he!==null&&(on?(t=he,Dm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Gr(t)):Dm(he,i.stateNode));break;case 4:a=he,o=on,he=i.stateNode.containerInfo,on=!0,wi(t,e,i),he=a,on=o;break;case 0:case 11:case 14:case 15:Ne||Zi(2,i,e),Ne||Zi(4,i,e),wi(t,e,i);break;case 1:Ne||(ii(i,e),a=i.stateNode,typeof a.componentWillUnmount=="function"&&Vp(i,e,a)),wi(t,e,i);break;case 21:wi(t,e,i);break;case 22:Ne=(a=Ne)||i.memoizedState!==null,wi(t,e,i),Ne=a;break;default:wi(t,e,i)}}function Yp(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Gr(t)}catch(i){le(e,e.return,i)}}function Kv(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new jp),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new jp),e;default:throw Error(r(435,t.tag))}}function kc(t,e){var i=Kv(t);e.forEach(function(a){var o=r_.bind(null,t,a);i.has(a)||(i.add(a),a.then(o,o))})}function vn(t,e){var i=e.deletions;if(i!==null)for(var a=0;a<i.length;a++){var o=i[a],f=t,g=e,y=g;t:for(;y!==null;){switch(y.tag){case 27:if(es(y.type)){he=y.stateNode,on=!1;break t}break;case 5:he=y.stateNode,on=!1;break t;case 3:case 4:he=y.stateNode.containerInfo,on=!0;break t}y=y.return}if(he===null)throw Error(r(160));Gp(f,g,o),he=null,on=!1,f=o.alternate,f!==null&&(f.return=null),o.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Fp(e,t),e=e.sibling}var jn=null;function Fp(t,e){var i=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(e,t),_n(t),a&4&&(Zi(3,t,t.return),Er(3,t),Zi(5,t,t.return));break;case 1:vn(e,t),_n(t),a&512&&(Ne||i===null||ii(i,i.return)),a&64&&Ei&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var o=jn;if(vn(e,t),_n(t),a&512&&(Ne||i===null||ii(i,i.return)),a&4){var f=i!==null?i.memoizedState:null;if(a=t.memoizedState,i===null)if(a===null)if(t.stateNode===null){t:{a=t.type,i=t.memoizedProps,o=o.ownerDocument||o;e:switch(a){case"title":f=o.getElementsByTagName("title")[0],(!f||f[Ts]||f[qe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=o.createElement(a),o.head.insertBefore(f,o.querySelector("head > title"))),Ze(f,a,i),f[qe]=t,ye(f),a=f;break t;case"link":var g=qm("link","href",o).get(a+(i.href||""));if(g){for(var y=0;y<g.length;y++)if(f=g[y],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(y,1);break e}}f=o.createElement(a),Ze(f,a,i),o.head.appendChild(f);break;case"meta":if(g=qm("meta","content",o).get(a+(i.content||""))){for(y=0;y<g.length;y++)if(f=g[y],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(y,1);break e}}f=o.createElement(a),Ze(f,a,i),o.head.appendChild(f);break;default:throw Error(r(468,a))}f[qe]=t,ye(f),a=f}t.stateNode=a}else jm(o,t.type,t.stateNode);else t.stateNode=Lm(o,a,t.memoizedProps);else f!==a?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,a===null?jm(o,t.type,t.stateNode):Lm(o,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Cc(t,t.memoizedProps,i.memoizedProps)}break;case 27:vn(e,t),_n(t),a&512&&(Ne||i===null||ii(i,i.return)),i!==null&&a&4&&Cc(t,t.memoizedProps,i.memoizedProps);break;case 5:if(vn(e,t),_n(t),a&512&&(Ne||i===null||ii(i,i.return)),t.flags&32){o=t.stateNode;try{Ws(o,"")}catch(G){le(t,t.return,G)}}a&4&&t.stateNode!=null&&(o=t.memoizedProps,Cc(t,o,i!==null?i.memoizedProps:o)),a&1024&&(Mc=!0);break;case 6:if(vn(e,t),_n(t),a&4){if(t.stateNode===null)throw Error(r(162));a=t.memoizedProps,i=t.stateNode;try{i.nodeValue=a}catch(G){le(t,t.return,G)}}break;case 3:if(po=null,o=jn,jn=ho(e.containerInfo),vn(e,t),jn=o,_n(t),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Gr(e.containerInfo)}catch(G){le(t,t.return,G)}Mc&&(Mc=!1,Xp(t));break;case 4:a=jn,jn=ho(t.stateNode.containerInfo),vn(e,t),_n(t),jn=a;break;case 12:vn(e,t),_n(t);break;case 13:vn(e,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(qc=zt()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,kc(t,a)));break;case 22:o=t.memoizedState!==null;var N=i!==null&&i.memoizedState!==null,B=Ei,W=Ne;if(Ei=B||o,Ne=W||N,vn(e,t),Ne=W,Ei=B,_n(t),a&8192)t:for(e=t.stateNode,e._visibility=o?e._visibility&-2:e._visibility|1,o&&(i===null||N||Ei||Ne||zs(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){N=i=e;try{if(f=N.stateNode,o)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{y=N.stateNode;var $=N.memoizedProps.style,H=$!=null&&$.hasOwnProperty("display")?$.display:null;y.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){le(N,N.return,G)}}}else if(e.tag===6){if(i===null){N=e;try{N.stateNode.nodeValue=o?"":N.memoizedProps}catch(G){le(N,N.return,G)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,kc(t,i))));break;case 19:vn(e,t),_n(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,kc(t,a)));break;case 30:break;case 21:break;default:vn(e,t),_n(t)}}function _n(t){var e=t.flags;if(e&2){try{for(var i,a=t.return;a!==null;){if(Lp(a)){i=a;break}a=a.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var o=i.stateNode,f=Rc(t);Jl(t,f,o);break;case 5:var g=i.stateNode;i.flags&32&&(Ws(g,""),i.flags&=-33);var y=Rc(t);Jl(t,y,g);break;case 3:case 4:var N=i.stateNode.containerInfo,B=Rc(t);Dc(t,B,N);break;default:throw Error(r(161))}}catch(W){le(t,t.return,W)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Xp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Xp(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Qi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Ip(t,e.alternate,e),e=e.sibling}function zs(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Zi(4,e,e.return),zs(e);break;case 1:ii(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&Vp(e,e.return,i),zs(e);break;case 27:zr(e.stateNode);case 26:case 5:ii(e,e.return),zs(e);break;case 22:e.memoizedState===null&&zs(e);break;case 30:zs(e);break;default:zs(e)}t=t.sibling}}function Pi(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,o=t,f=e,g=f.flags;switch(f.tag){case 0:case 11:case 15:Pi(o,f,i),Er(4,f);break;case 1:if(Pi(o,f,i),a=f,o=a.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(B){le(a,a.return,B)}if(a=f,o=a.updateQueue,o!==null){var y=a.stateNode;try{var N=o.shared.hiddenCallbacks;if(N!==null)for(o.shared.hiddenCallbacks=null,o=0;o<N.length;o++)Sd(N[o],y)}catch(B){le(a,a.return,B)}}i&&g&64&&zp(f),wr(f,f.return);break;case 27:qp(f);case 26:case 5:Pi(o,f,i),i&&a===null&&g&4&&Bp(f),wr(f,f.return);break;case 12:Pi(o,f,i);break;case 13:Pi(o,f,i),i&&g&4&&Yp(o,f);break;case 22:f.memoizedState===null&&Pi(o,f,i),wr(f,f.return);break;case 30:break;default:Pi(o,f,i)}e=e.sibling}}function Uc(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&hr(i))}function zc(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&hr(t))}function si(t,e,i,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zp(t,e,i,a),e=e.sibling}function Zp(t,e,i,a){var o=e.flags;switch(e.tag){case 0:case 11:case 15:si(t,e,i,a),o&2048&&Er(9,e);break;case 1:si(t,e,i,a);break;case 3:si(t,e,i,a),o&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&hr(t)));break;case 12:if(o&2048){si(t,e,i,a),t=e.stateNode;try{var f=e.memoizedProps,g=f.id,y=f.onPostCommit;typeof y=="function"&&y(g,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){le(e,e.return,N)}}else si(t,e,i,a);break;case 13:si(t,e,i,a);break;case 23:break;case 22:f=e.stateNode,g=e.alternate,e.memoizedState!==null?f._visibility&2?si(t,e,i,a):Nr(t,e):f._visibility&2?si(t,e,i,a):(f._visibility|=2,ma(t,e,i,a,(e.subtreeFlags&10256)!==0)),o&2048&&Uc(g,e);break;case 24:si(t,e,i,a),o&2048&&zc(e.alternate,e);break;default:si(t,e,i,a)}}function ma(t,e,i,a,o){for(o=o&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var f=t,g=e,y=i,N=a,B=g.flags;switch(g.tag){case 0:case 11:case 15:ma(f,g,y,N,o),Er(8,g);break;case 23:break;case 22:var W=g.stateNode;g.memoizedState!==null?W._visibility&2?ma(f,g,y,N,o):Nr(f,g):(W._visibility|=2,ma(f,g,y,N,o)),o&&B&2048&&Uc(g.alternate,g);break;case 24:ma(f,g,y,N,o),o&&B&2048&&zc(g.alternate,g);break;default:ma(f,g,y,N,o)}e=e.sibling}}function Nr(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,a=e,o=a.flags;switch(a.tag){case 22:Nr(i,a),o&2048&&Uc(a.alternate,a);break;case 24:Nr(i,a),o&2048&&zc(a.alternate,a);break;default:Nr(i,a)}e=e.sibling}}var Or=8192;function ga(t){if(t.subtreeFlags&Or)for(t=t.child;t!==null;)Qp(t),t=t.sibling}function Qp(t){switch(t.tag){case 26:ga(t),t.flags&Or&&t.memoizedState!==null&&V_(jn,t.memoizedState,t.memoizedProps);break;case 5:ga(t);break;case 3:case 4:var e=jn;jn=ho(t.stateNode.containerInfo),ga(t),jn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Or,Or=16777216,ga(t),Or=e):ga(t));break;default:ga(t)}}function Pp(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Cr(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var a=e[i];Ie=a,Kp(a,t)}Pp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wp(t),t=t.sibling}function Wp(t){switch(t.tag){case 0:case 11:case 15:Cr(t),t.flags&2048&&Zi(9,t,t.return);break;case 3:Cr(t);break;case 12:Cr(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,$l(t)):Cr(t);break;default:Cr(t)}}function $l(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var a=e[i];Ie=a,Kp(a,t)}Pp(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Zi(8,e,e.return),$l(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,$l(e));break;default:$l(e)}t=t.sibling}}function Kp(t,e){for(;Ie!==null;){var i=Ie;switch(i.tag){case 0:case 11:case 15:Zi(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:hr(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,Ie=a;else t:for(i=t;Ie!==null;){a=Ie;var o=a.sibling,f=a.return;if(Hp(a),a===i){Ie=null;break t}if(o!==null){o.return=f,Ie=o;break t}Ie=f}}}var Jv={getCacheForType:function(t){var e=We(ze),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i}},$v=typeof WeakMap=="function"?WeakMap:Map,Jt=0,oe=null,qt=null,Ft=0,$t=0,yn=null,Wi=!1,va=!1,Vc=!1,Ni=0,Se=0,Ki=0,Vs=0,Bc=0,Un=0,_a=0,Rr=null,un=null,Lc=!1,qc=0,to=1/0,eo=null,Ji=null,Xe=0,$i=null,ya=null,Ta=0,jc=0,Ic=null,Jp=null,Dr=0,Hc=null;function Tn(){if((Jt&2)!==0&&Ft!==0)return Ft&-Ft;if(D.T!==null){var t=la;return t!==0?t:Pc()}return hl()}function $p(){Un===0&&(Un=(Ft&536870912)===0||Kt?Jn():536870912);var t=kn.current;return t!==null&&(t.flags|=32),Un}function Sn(t,e,i){(t===oe&&($t===2||$t===9)||t.cancelPendingCommit!==null)&&(Sa(t,0),ts(t,Ft,Un,!1)),Vi(t,i),((Jt&2)===0||t!==oe)&&(t===oe&&((Jt&2)===0&&(Vs|=i),Se===4&&ts(t,Ft,Un,!1)),ai(t))}function tm(t,e,i){if((Jt&6)!==0)throw Error(r(327));var a=!i&&(e&124)===0&&(e&t.expiredLanes)===0||_e(t,e),o=a?n_(t,e):Fc(t,e,!0),f=a;do{if(o===0){va&&!a&&ts(t,e,0,!1);break}else{if(i=t.current.alternate,f&&!t_(i)){o=Fc(t,e,!1),f=!1;continue}if(o===2){if(f=e,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){e=g;t:{var y=t;o=Rr;var N=y.current.memoizedState.isDehydrated;if(N&&(Sa(y,g).flags|=256),g=Fc(y,g,!1),g!==2){if(Vc&&!N){y.errorRecoveryDisabledLanes|=f,Vs|=f,o=4;break t}f=un,un=o,f!==null&&(un===null?un=f:un.push.apply(un,f))}o=g}if(f=!1,o!==2)continue}}if(o===1){Sa(t,0),ts(t,e,0,!0);break}t:{switch(a=t,f=o,f){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:ts(a,e,Un,!Wi);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(o=qc+300-zt(),10<o)){if(ts(a,e,Un,!Wi),Kn(a,0,!0)!==0)break t;a.timeoutHandle=Cm(em.bind(null,a,i,un,eo,Lc,e,Un,Vs,_a,Wi,f,2,-0,0),o);break t}em(a,i,un,eo,Lc,e,Un,Vs,_a,Wi,f,0,-0,0)}}break}while(!0);ai(t)}function em(t,e,i,a,o,f,g,y,N,B,W,$,H,G){if(t.timeoutHandle=-1,$=e.subtreeFlags,($&8192||($&16785408)===16785408)&&(Lr={stylesheets:null,count:0,unsuspend:z_},Qp(e),$=B_(),$!==null)){t.cancelPendingCommit=$(om.bind(null,t,e,f,i,a,o,g,y,N,W,1,H,G)),ts(t,f,g,!B);return}om(t,e,f,i,a,o,g,y,N)}function t_(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var o=i[a],f=o.getSnapshot;o=o.value;try{if(!mn(f(),o))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ts(t,e,i,a){e&=~Bc,e&=~Vs,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var o=e;0<o;){var f=31-Zt(o),g=1<<f;a[f]=-1,o&=~g}i!==0&&Qa(t,i,e)}function no(){return(Jt&6)===0?(Mr(0),!1):!0}function Gc(){if(qt!==null){if($t===0)var t=qt.return;else t=qt,yi=Rs=null,rc(t),da=null,br=0,t=qt;for(;t!==null;)Up(t.alternate,t),t=t.return;qt=null}}function Sa(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,__(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Gc(),oe=t,qt=i=gi(t.current,null),Ft=e,$t=0,yn=null,Wi=!1,va=_e(t,e),Vc=!1,_a=Un=Bc=Vs=Ki=Se=0,un=Rr=null,Lc=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var o=31-Zt(a),f=1<<o;e|=t[o],a&=~f}return Ni=e,Al(),i}function nm(t,e){Vt=null,D.H=Gl,e===dr||e===kl?(e=yd(),$t=3):e===gd?(e=yd(),$t=4):$t=e===Tp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,yn=e,qt===null&&(Se=1,Ql(t,Cn(e,t.current)))}function im(){var t=D.H;return D.H=Gl,t===null?Gl:t}function sm(){var t=D.A;return D.A=Jv,t}function Yc(){Se=4,Wi||(Ft&4194048)!==Ft&&kn.current!==null||(va=!0),(Ki&134217727)===0&&(Vs&134217727)===0||oe===null||ts(oe,Ft,Un,!1)}function Fc(t,e,i){var a=Jt;Jt|=2;var o=im(),f=sm();(oe!==t||Ft!==e)&&(eo=null,Sa(t,e)),e=!1;var g=Se;t:do try{if($t!==0&&qt!==null){var y=qt,N=yn;switch($t){case 8:Gc(),g=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(e=!0);var B=$t;if($t=0,yn=null,ba(t,y,N,B),i&&va){g=0;break t}break;default:B=$t,$t=0,yn=null,ba(t,y,N,B)}}e_(),g=Se;break}catch(W){nm(t,W)}while(!0);return e&&t.shellSuspendCounter++,yi=Rs=null,Jt=a,D.H=o,D.A=f,qt===null&&(oe=null,Ft=0,Al()),g}function e_(){for(;qt!==null;)am(qt)}function n_(t,e){var i=Jt;Jt|=2;var a=im(),o=sm();oe!==t||Ft!==e?(eo=null,to=zt()+500,Sa(t,e)):va=_e(t,e);t:do try{if($t!==0&&qt!==null){e=qt;var f=yn;e:switch($t){case 1:$t=0,yn=null,ba(t,e,f,1);break;case 2:case 9:if(vd(f)){$t=0,yn=null,rm(e);break}e=function(){$t!==2&&$t!==9||oe!==t||($t=7),ai(t)},f.then(e,e);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:vd(f)?($t=0,yn=null,rm(e)):($t=0,yn=null,ba(t,e,f,7));break;case 5:var g=null;switch(qt.tag){case 26:g=qt.memoizedState;case 5:case 27:var y=qt;if(!g||Im(g)){$t=0,yn=null;var N=y.sibling;if(N!==null)qt=N;else{var B=y.return;B!==null?(qt=B,io(B)):qt=null}break e}}$t=0,yn=null,ba(t,e,f,5);break;case 6:$t=0,yn=null,ba(t,e,f,6);break;case 8:Gc(),Se=6;break t;default:throw Error(r(462))}}i_();break}catch(W){nm(t,W)}while(!0);return yi=Rs=null,D.H=a,D.A=o,Jt=i,qt!==null?0:(oe=null,Ft=0,Al(),Se)}function i_(){for(;qt!==null&&!dt();)am(qt)}function am(t){var e=Mp(t.alternate,t,Ni);t.memoizedProps=t.pendingProps,e===null?io(t):qt=e}function rm(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=wp(i,e,e.pendingProps,e.type,void 0,Ft);break;case 11:e=wp(i,e,e.pendingProps,e.type.render,e.ref,Ft);break;case 5:rc(e);default:Up(i,e),e=qt=ld(e,Ni),e=Mp(i,e,Ni)}t.memoizedProps=t.pendingProps,e===null?io(t):qt=e}function ba(t,e,i,a){yi=Rs=null,rc(e),da=null,br=0;var o=e.return;try{if(Xv(t,o,e,i,Ft)){Se=1,Ql(t,Cn(i,t.current)),qt=null;return}}catch(f){if(o!==null)throw qt=o,f;Se=1,Ql(t,Cn(i,t.current)),qt=null;return}e.flags&32768?(Kt||a===1?t=!0:va||(Ft&536870912)!==0?t=!1:(Wi=t=!0,(a===2||a===9||a===3||a===6)&&(a=kn.current,a!==null&&a.tag===13&&(a.flags|=16384))),lm(e,t)):io(e)}function io(t){var e=t;do{if((e.flags&32768)!==0){lm(e,Wi);return}t=e.return;var i=Qv(e.alternate,e,Ni);if(i!==null){qt=i;return}if(e=e.sibling,e!==null){qt=e;return}qt=e=t}while(e!==null);Se===0&&(Se=5)}function lm(t,e){do{var i=Pv(t.alternate,t);if(i!==null){i.flags&=32767,qt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){qt=t;return}qt=t=i}while(t!==null);Se=6,qt=null}function om(t,e,i,a,o,f,g,y,N){t.cancelPendingCommit=null;do so();while(Xe!==0);if((Jt&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(f=e.lanes|e.childLanes,f|=zu,cu(t,i,f,g,y,N),t===oe&&(qt=oe=null,Ft=0),ya=e,$i=t,Ta=i,jc=f,Ic=o,Jp=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,l_(ot,function(){return dm(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=D.T,D.T=null,o=X.p,X.p=2,g=Jt,Jt|=4;try{Wv(t,e,i)}finally{Jt=g,X.p=o,D.T=a}}Xe=1,um(),cm(),hm()}}function um(){if(Xe===1){Xe=0;var t=$i,e=ya,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=D.T,D.T=null;var a=X.p;X.p=2;var o=Jt;Jt|=4;try{Fp(e,t);var f=ih,g=Kf(t.containerInfo),y=f.focusedElem,N=f.selectionRange;if(g!==y&&y&&y.ownerDocument&&Wf(y.ownerDocument.documentElement,y)){if(N!==null&&Ru(y)){var B=N.start,W=N.end;if(W===void 0&&(W=B),"selectionStart"in y)y.selectionStart=B,y.selectionEnd=Math.min(W,y.value.length);else{var $=y.ownerDocument||document,H=$&&$.defaultView||window;if(H.getSelection){var G=H.getSelection(),Ot=y.textContent.length,Et=Math.min(N.start,Ot),ne=N.end===void 0?Et:Math.min(N.end,Ot);!G.extend&&Et>ne&&(g=ne,ne=Et,Et=g);var M=Pf(y,Et),C=Pf(y,ne);if(M&&C&&(G.rangeCount!==1||G.anchorNode!==M.node||G.anchorOffset!==M.offset||G.focusNode!==C.node||G.focusOffset!==C.offset)){var V=$.createRange();V.setStart(M.node,M.offset),G.removeAllRanges(),Et>ne?(G.addRange(V),G.extend(C.node,C.offset)):(V.setEnd(C.node,C.offset),G.addRange(V))}}}}for($=[],G=y;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<$.length;y++){var K=$[y];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}vo=!!nh,ih=nh=null}finally{Jt=o,X.p=a,D.T=i}}t.current=e,Xe=2}}function cm(){if(Xe===2){Xe=0;var t=$i,e=ya,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=D.T,D.T=null;var a=X.p;X.p=2;var o=Jt;Jt|=4;try{Ip(t,e.alternate,e)}finally{Jt=o,X.p=a,D.T=i}}Xe=3}}function hm(){if(Xe===4||Xe===3){Xe=0,bt();var t=$i,e=ya,i=Ta,a=Jp;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Xe=5:(Xe=0,ya=$i=null,fm(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(Ji=null),Wa(i),e=e.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Lt,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=D.T,o=X.p,X.p=2,D.T=null;try{for(var f=t.onRecoverableError,g=0;g<a.length;g++){var y=a[g];f(y.value,{componentStack:y.stack})}}finally{D.T=e,X.p=o}}(Ta&3)!==0&&so(),ai(t),o=t.pendingLanes,(i&4194090)!==0&&(o&42)!==0?t===Hc?Dr++:(Dr=0,Hc=t):Dr=0,Mr(0)}}function fm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,hr(e)))}function so(t){return um(),cm(),hm(),dm()}function dm(){if(Xe!==5)return!1;var t=$i,e=jc;jc=0;var i=Wa(Ta),a=D.T,o=X.p;try{X.p=32>i?32:i,D.T=null,i=Ic,Ic=null;var f=$i,g=Ta;if(Xe=0,ya=$i=null,Ta=0,(Jt&6)!==0)throw Error(r(331));var y=Jt;if(Jt|=4,Wp(f.current),Zp(f,f.current,g,i),Jt=y,Mr(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Lt,f)}catch{}return!0}finally{X.p=o,D.T=a,fm(t,e)}}function pm(t,e,i){e=Cn(i,e),e=Tc(t.stateNode,e,2),t=Gi(t,e,2),t!==null&&(Vi(t,2),ai(t))}function le(t,e,i){if(t.tag===3)pm(t,t,i);else for(;e!==null;){if(e.tag===3){pm(e,t,i);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ji===null||!Ji.has(a))){t=Cn(i,t),i=_p(2),a=Gi(e,i,2),a!==null&&(yp(i,a,e,t),Vi(a,2),ai(a));break}}e=e.return}}function Xc(t,e,i){var a=t.pingCache;if(a===null){a=t.pingCache=new $v;var o=new Set;a.set(e,o)}else o=a.get(e),o===void 0&&(o=new Set,a.set(e,o));o.has(i)||(Vc=!0,o.add(i),t=s_.bind(null,t,e,i),e.then(t,t))}function s_(t,e,i){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,oe===t&&(Ft&i)===i&&(Se===4||Se===3&&(Ft&62914560)===Ft&&300>zt()-qc?(Jt&2)===0&&Sa(t,0):Bc|=i,_a===Ft&&(_a=0)),ai(t)}function mm(t,e){e===0&&(e=_s()),t=ia(t,e),t!==null&&(Vi(t,e),ai(t))}function a_(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),mm(t,i)}function r_(t,e){var i=0;switch(t.tag){case 13:var a=t.stateNode,o=t.memoizedState;o!==null&&(i=o.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(e),mm(t,i)}function l_(t,e){return Ee(t,e)}var ao=null,xa=null,Zc=!1,ro=!1,Qc=!1,Bs=0;function ai(t){t!==xa&&t.next===null&&(xa===null?ao=xa=t:xa=xa.next=t),ro=!0,Zc||(Zc=!0,u_())}function Mr(t,e){if(!Qc&&ro){Qc=!0;do for(var i=!1,a=ao;a!==null;){if(t!==0){var o=a.pendingLanes;if(o===0)var f=0;else{var g=a.suspendedLanes,y=a.pingedLanes;f=(1<<31-Zt(42|t)+1)-1,f&=o&~(g&~y),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,ym(a,f))}else f=Ft,f=Kn(a,a===oe?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(f&3)===0||_e(a,f)||(i=!0,ym(a,f));a=a.next}while(i);Qc=!1}}function o_(){gm()}function gm(){ro=Zc=!1;var t=0;Bs!==0&&(v_()&&(t=Bs),Bs=0);for(var e=zt(),i=null,a=ao;a!==null;){var o=a.next,f=vm(a,e);f===0?(a.next=null,i===null?ao=o:i.next=o,o===null&&(xa=i)):(i=a,(t!==0||(f&3)!==0)&&(ro=!0)),a=o}Mr(t)}function vm(t,e){for(var i=t.suspendedLanes,a=t.pingedLanes,o=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Zt(f),y=1<<g,N=o[g];N===-1?((y&i)===0||(y&a)!==0)&&(o[g]=vs(y,e)):N<=e&&(t.expiredLanes|=y),f&=~y}if(e=oe,i=Ft,i=Kn(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,i===0||t===e&&($t===2||$t===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Wn(a),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||_e(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(a!==null&&Wn(a),Wa(i)){case 2:case 8:i=rt;break;case 32:i=ot;break;case 268435456:i=At;break;default:i=ot}return a=_m.bind(null,t),i=Ee(i,a),t.callbackPriority=e,t.callbackNode=i,e}return a!==null&&a!==null&&Wn(a),t.callbackPriority=2,t.callbackNode=null,2}function _m(t,e){if(Xe!==0&&Xe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(so()&&t.callbackNode!==i)return null;var a=Ft;return a=Kn(t,t===oe?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(tm(t,a,e),vm(t,zt()),t.callbackNode!=null&&t.callbackNode===i?_m.bind(null,t):null)}function ym(t,e){if(so())return null;tm(t,e,!0)}function u_(){y_(function(){(Jt&6)!==0?Ee(Rt,o_):gm()})}function Pc(){return Bs===0&&(Bs=Jn()),Bs}function Tm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:vl(""+t)}function Sm(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function c_(t,e,i,a,o){if(e==="submit"&&i&&i.stateNode===o){var f=Tm((o[Pe]||null).action),g=a.submitter;g&&(e=(e=g[Pe]||null)?Tm(e.formAction):g.getAttribute("formAction"),e!==null&&(f=e,g=null));var y=new Sl("action","action",null,a,o);t.push({event:y,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Bs!==0){var N=g?Sm(o,g):new FormData(o);mc(i,{pending:!0,data:N,method:o.method,action:f},null,N)}}else typeof f=="function"&&(y.preventDefault(),N=g?Sm(o,g):new FormData(o),mc(i,{pending:!0,data:N,method:o.method,action:f},f,N))},currentTarget:o}]})}}for(var Wc=0;Wc<Uu.length;Wc++){var Kc=Uu[Wc],h_=Kc.toLowerCase(),f_=Kc[0].toUpperCase()+Kc.slice(1);qn(h_,"on"+f_)}qn(td,"onAnimationEnd"),qn(ed,"onAnimationIteration"),qn(nd,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(Cv,"onTransitionRun"),qn(Rv,"onTransitionStart"),qn(Dv,"onTransitionCancel"),qn(id,"onTransitionEnd"),Ln("onMouseEnter",["mouseout","mouseover"]),Ln("onMouseLeave",["mouseout","mouseover"]),Ln("onPointerEnter",["pointerout","pointerover"]),Ln("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kr));function bm(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var a=t[i],o=a.event;a=a.listeners;t:{var f=void 0;if(e)for(var g=a.length-1;0<=g;g--){var y=a[g],N=y.instance,B=y.currentTarget;if(y=y.listener,N!==f&&o.isPropagationStopped())break t;f=y,o.currentTarget=B;try{f(o)}catch(W){Zl(W)}o.currentTarget=null,f=N}else for(g=0;g<a.length;g++){if(y=a[g],N=y.instance,B=y.currentTarget,y=y.listener,N!==f&&o.isPropagationStopped())break t;f=y,o.currentTarget=B;try{f(o)}catch(W){Zl(W)}o.currentTarget=null,f=N}}}}function jt(t,e){var i=e[Ka];i===void 0&&(i=e[Ka]=new Set);var a=t+"__bubble";i.has(a)||(xm(e,t,2,!1),i.add(a))}function Jc(t,e,i){var a=0;e&&(a|=4),xm(i,t,a,e)}var lo="_reactListening"+Math.random().toString(36).slice(2);function $c(t){if(!t[lo]){t[lo]=!0,fl.forEach(function(i){i!=="selectionchange"&&(d_.has(i)||Jc(i,!1,t),Jc(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lo]||(e[lo]=!0,Jc("selectionchange",!1,e))}}function xm(t,e,i,a){switch(Zm(e)){case 2:var o=j_;break;case 8:o=I_;break;default:o=dh}i=o.bind(null,e,i,t),o=void 0,!Su||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),a?o!==void 0?t.addEventListener(e,i,{capture:!0,passive:o}):t.addEventListener(e,i,!0):o!==void 0?t.addEventListener(e,i,{passive:o}):t.addEventListener(e,i,!1)}function th(t,e,i,a,o){var f=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var y=a.stateNode.containerInfo;if(y===o)break;if(g===4)for(g=a.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===o)return;g=g.return}for(;y!==null;){if(g=fi(y),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){a=f=g;continue t}y=y.parentNode}}a=a.return}Rf(function(){var B=f,W=yu(i),$=[];t:{var H=sd.get(t);if(H!==void 0){var G=Sl,Ot=t;switch(t){case"keypress":if(yl(i)===0)break t;case"keydown":case"keyup":G=lv;break;case"focusin":Ot="focus",G=Eu;break;case"focusout":Ot="blur",G=Eu;break;case"beforeblur":case"afterblur":G=Eu;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=kf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=P0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=cv;break;case td:case ed:case nd:G=J0;break;case id:G=fv;break;case"scroll":case"scrollend":G=Z0;break;case"wheel":G=pv;break;case"copy":case"cut":case"paste":G=tv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=zf;break;case"toggle":case"beforetoggle":G=gv}var Et=(e&4)!==0,ne=!Et&&(t==="scroll"||t==="scrollend"),M=Et?H!==null?H+"Capture":null:H;Et=[];for(var C=B,V;C!==null;){var K=C;if(V=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||V===null||M===null||(K=Ja(C,M),K!=null&&Et.push(Ur(C,K,V))),ne)break;C=C.return}0<Et.length&&(H=new G(H,Ot,null,i,W),$.push({event:H,listeners:Et}))}}if((e&7)===0){t:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&i!==_u&&(Ot=i.relatedTarget||i.fromElement)&&(fi(Ot)||Ot[Bi]))break t;if((G||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,G?(Ot=i.relatedTarget||i.toElement,G=B,Ot=Ot?fi(Ot):null,Ot!==null&&(ne=h(Ot),Et=Ot.tag,Ot!==ne||Et!==5&&Et!==27&&Et!==6)&&(Ot=null)):(G=null,Ot=B),G!==Ot)){if(Et=kf,K="onMouseLeave",M="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(Et=zf,K="onPointerLeave",M="onPointerEnter",C="pointer"),ne=G==null?H:Ss(G),V=Ot==null?H:Ss(Ot),H=new Et(K,C+"leave",G,i,W),H.target=ne,H.relatedTarget=V,K=null,fi(W)===B&&(Et=new Et(M,C+"enter",Ot,i,W),Et.target=V,Et.relatedTarget=ne,K=Et),ne=K,G&&Ot)e:{for(Et=G,M=Ot,C=0,V=Et;V;V=Aa(V))C++;for(V=0,K=M;K;K=Aa(K))V++;for(;0<C-V;)Et=Aa(Et),C--;for(;0<V-C;)M=Aa(M),V--;for(;C--;){if(Et===M||M!==null&&Et===M.alternate)break e;Et=Aa(Et),M=Aa(M)}Et=null}else Et=null;G!==null&&Am($,H,G,Et,!1),Ot!==null&&ne!==null&&Am($,ne,Ot,Et,!0)}}t:{if(H=B?Ss(B):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var St=Gf;else if(If(H))if(Yf)St=wv;else{St=Av;var Bt=xv}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&vu(B.elementType)&&(St=Gf):St=Ev;if(St&&(St=St(t,B))){Hf($,St,i,W);break t}Bt&&Bt(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&gu(H,"number",H.value)}switch(Bt=B?Ss(B):window,t){case"focusin":(If(Bt)||Bt.contentEditable==="true")&&(ta=Bt,Du=B,rr=null);break;case"focusout":rr=Du=ta=null;break;case"mousedown":Mu=!0;break;case"contextmenu":case"mouseup":case"dragend":Mu=!1,Jf($,i,W);break;case"selectionchange":if(Ov)break;case"keydown":case"keyup":Jf($,i,W)}var xt;if(Nu)t:{switch(t){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else $s?qf(t,i)&&(wt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(wt="onCompositionStart");wt&&(Vf&&i.locale!=="ko"&&($s||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&$s&&(xt=Df()):(qi=W,bu="value"in qi?qi.value:qi.textContent,$s=!0)),Bt=oo(B,wt),0<Bt.length&&(wt=new Uf(wt,t,null,i,W),$.push({event:wt,listeners:Bt}),xt?wt.data=xt:(xt=jf(i),xt!==null&&(wt.data=xt)))),(xt=_v?yv(t,i):Tv(t,i))&&(wt=oo(B,"onBeforeInput"),0<wt.length&&(Bt=new Uf("onBeforeInput","beforeinput",null,i,W),$.push({event:Bt,listeners:wt}),Bt.data=xt)),c_($,t,B,i,W)}bm($,e)})}function Ur(t,e,i){return{instance:t,listener:e,currentTarget:i}}function oo(t,e){for(var i=e+"Capture",a=[];t!==null;){var o=t,f=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||f===null||(o=Ja(t,i),o!=null&&a.unshift(Ur(t,o,f)),o=Ja(t,e),o!=null&&a.push(Ur(t,o,f))),t.tag===3)return a;t=t.return}return[]}function Aa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Am(t,e,i,a,o){for(var f=e._reactName,g=[];i!==null&&i!==a;){var y=i,N=y.alternate,B=y.stateNode;if(y=y.tag,N!==null&&N===a)break;y!==5&&y!==26&&y!==27||B===null||(N=B,o?(B=Ja(i,f),B!=null&&g.unshift(Ur(i,B,N))):o||(B=Ja(i,f),B!=null&&g.push(Ur(i,B,N)))),i=i.return}g.length!==0&&t.push({event:e,listeners:g})}var p_=/\r\n?/g,m_=/\u0000|\uFFFD/g;function Em(t){return(typeof t=="string"?t:""+t).replace(p_,`
`).replace(m_,"")}function wm(t,e){return e=Em(e),Em(t)===e}function uo(){}function ee(t,e,i,a,o,f){switch(i){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||Ws(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&Ws(t,""+a);break;case"className":z(t,"class",a);break;case"tabIndex":z(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":z(t,i,a);break;case"style":Of(t,a,f);break;case"data":if(e!=="object"){z(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(i);break}a=vl(""+a),t.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(e!=="input"&&ee(t,e,"name",o.name,o,null),ee(t,e,"formEncType",o.formEncType,o,null),ee(t,e,"formMethod",o.formMethod,o,null),ee(t,e,"formTarget",o.formTarget,o,null)):(ee(t,e,"encType",o.encType,o,null),ee(t,e,"method",o.method,o,null),ee(t,e,"target",o.target,o,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(i);break}a=vl(""+a),t.setAttribute(i,a);break;case"onClick":a!=null&&(t.onclick=uo);break;case"onScroll":a!=null&&jt("scroll",t);break;case"onScrollEnd":a!=null&&jt("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(o.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}i=vl(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(i,""+a):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":a===!0?t.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(i,a):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(i,a):t.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(i):t.setAttribute(i,a);break;case"popover":jt("beforetoggle",t),jt("toggle",t),L(t,"popover",a);break;case"xlinkActuate":et(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":et(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":et(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":et(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":et(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":et(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":et(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":et(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":et(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":L(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=F0.get(i)||i,L(t,i,a))}}function eh(t,e,i,a,o,f){switch(i){case"style":Of(t,a,f);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(o.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"children":typeof a=="string"?Ws(t,a):(typeof a=="number"||typeof a=="bigint")&&Ws(t,""+a);break;case"onScroll":a!=null&&jt("scroll",t);break;case"onScrollEnd":a!=null&&jt("scrollend",t);break;case"onClick":a!=null&&(t.onclick=uo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dl.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),e=i.slice(2,o?i.length-7:void 0),f=t[Pe]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(e,f,o),typeof a=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,a,o);break t}i in t?t[i]=a:a===!0?t.setAttribute(i,""):L(t,i,a)}}}function Ze(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",t),jt("load",t);var a=!1,o=!1,f;for(f in i)if(i.hasOwnProperty(f)){var g=i[f];if(g!=null)switch(f){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:ee(t,e,f,g,i,null)}}o&&ee(t,e,"srcSet",i.srcSet,i,null),a&&ee(t,e,"src",i.src,i,null);return;case"input":jt("invalid",t);var y=f=g=o=null,N=null,B=null;for(a in i)if(i.hasOwnProperty(a)){var W=i[a];if(W!=null)switch(a){case"name":o=W;break;case"type":g=W;break;case"checked":N=W;break;case"defaultChecked":B=W;break;case"value":f=W;break;case"defaultValue":y=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,e));break;default:ee(t,e,a,W,i,null)}}Af(t,f,y,N,B,g,o,!1),ml(t);return;case"select":jt("invalid",t),a=g=f=null;for(o in i)if(i.hasOwnProperty(o)&&(y=i[o],y!=null))switch(o){case"value":f=y;break;case"defaultValue":g=y;break;case"multiple":a=y;default:ee(t,e,o,y,i,null)}e=f,i=g,t.multiple=!!a,e!=null?Ps(t,!!a,e,!1):i!=null&&Ps(t,!!a,i,!0);return;case"textarea":jt("invalid",t),f=o=a=null;for(g in i)if(i.hasOwnProperty(g)&&(y=i[g],y!=null))switch(g){case"value":a=y;break;case"defaultValue":o=y;break;case"children":f=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:ee(t,e,g,y,i,null)}wf(t,a,o,f),ml(t);return;case"option":for(N in i)if(i.hasOwnProperty(N)&&(a=i[N],a!=null))switch(N){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ee(t,e,N,a,i,null)}return;case"dialog":jt("beforetoggle",t),jt("toggle",t),jt("cancel",t),jt("close",t);break;case"iframe":case"object":jt("load",t);break;case"video":case"audio":for(a=0;a<kr.length;a++)jt(kr[a],t);break;case"image":jt("error",t),jt("load",t);break;case"details":jt("toggle",t);break;case"embed":case"source":case"link":jt("error",t),jt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in i)if(i.hasOwnProperty(B)&&(a=i[B],a!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:ee(t,e,B,a,i,null)}return;default:if(vu(e)){for(W in i)i.hasOwnProperty(W)&&(a=i[W],a!==void 0&&eh(t,e,W,a,i,void 0));return}}for(y in i)i.hasOwnProperty(y)&&(a=i[y],a!=null&&ee(t,e,y,a,i,null))}function g_(t,e,i,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,f=null,g=null,y=null,N=null,B=null,W=null;for(G in i){var $=i[G];if(i.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=$;default:a.hasOwnProperty(G)||ee(t,e,G,null,a,$)}}for(var H in a){var G=a[H];if($=i[H],a.hasOwnProperty(H)&&(G!=null||$!=null))switch(H){case"type":f=G;break;case"name":o=G;break;case"checked":B=G;break;case"defaultChecked":W=G;break;case"value":g=G;break;case"defaultValue":y=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,e));break;default:G!==$&&ee(t,e,H,G,a,$)}}mu(t,g,y,N,B,W,f,o);return;case"select":G=g=y=H=null;for(f in i)if(N=i[f],i.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":G=N;default:a.hasOwnProperty(f)||ee(t,e,f,null,a,N)}for(o in a)if(f=a[o],N=i[o],a.hasOwnProperty(o)&&(f!=null||N!=null))switch(o){case"value":H=f;break;case"defaultValue":y=f;break;case"multiple":g=f;default:f!==N&&ee(t,e,o,f,a,N)}e=y,i=g,a=G,H!=null?Ps(t,!!i,H,!1):!!a!=!!i&&(e!=null?Ps(t,!!i,e,!0):Ps(t,!!i,i?[]:"",!1));return;case"textarea":G=H=null;for(y in i)if(o=i[y],i.hasOwnProperty(y)&&o!=null&&!a.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:ee(t,e,y,null,a,o)}for(g in a)if(o=a[g],f=i[g],a.hasOwnProperty(g)&&(o!=null||f!=null))switch(g){case"value":H=o;break;case"defaultValue":G=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==f&&ee(t,e,g,o,a,f)}Ef(t,H,G);return;case"option":for(var Ot in i)if(H=i[Ot],i.hasOwnProperty(Ot)&&H!=null&&!a.hasOwnProperty(Ot))switch(Ot){case"selected":t.selected=!1;break;default:ee(t,e,Ot,null,a,H)}for(N in a)if(H=a[N],G=i[N],a.hasOwnProperty(N)&&H!==G&&(H!=null||G!=null))switch(N){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:ee(t,e,N,H,a,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in i)H=i[Et],i.hasOwnProperty(Et)&&H!=null&&!a.hasOwnProperty(Et)&&ee(t,e,Et,null,a,H);for(B in a)if(H=a[B],G=i[B],a.hasOwnProperty(B)&&H!==G&&(H!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,e));break;default:ee(t,e,B,H,a,G)}return;default:if(vu(e)){for(var ne in i)H=i[ne],i.hasOwnProperty(ne)&&H!==void 0&&!a.hasOwnProperty(ne)&&eh(t,e,ne,void 0,a,H);for(W in a)H=a[W],G=i[W],!a.hasOwnProperty(W)||H===G||H===void 0&&G===void 0||eh(t,e,W,H,a,G);return}}for(var M in i)H=i[M],i.hasOwnProperty(M)&&H!=null&&!a.hasOwnProperty(M)&&ee(t,e,M,null,a,H);for($ in a)H=a[$],G=i[$],!a.hasOwnProperty($)||H===G||H==null&&G==null||ee(t,e,$,H,a,G)}var nh=null,ih=null;function co(t){return t.nodeType===9?t:t.ownerDocument}function Nm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Om(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function sh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ah=null;function v_(){var t=window.event;return t&&t.type==="popstate"?t===ah?!1:(ah=t,!0):(ah=null,!1)}var Cm=typeof setTimeout=="function"?setTimeout:void 0,__=typeof clearTimeout=="function"?clearTimeout:void 0,Rm=typeof Promise=="function"?Promise:void 0,y_=typeof queueMicrotask=="function"?queueMicrotask:typeof Rm<"u"?function(t){return Rm.resolve(null).then(t).catch(T_)}:Cm;function T_(t){setTimeout(function(){throw t})}function es(t){return t==="head"}function Dm(t,e){var i=e,a=0,o=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(0<a&&8>a){i=a;var g=t.ownerDocument;if(i&1&&zr(g.documentElement),i&2&&zr(g.body),i&4)for(i=g.head,zr(i),g=i.firstChild;g;){var y=g.nextSibling,N=g.nodeName;g[Ts]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&g.rel.toLowerCase()==="stylesheet"||i.removeChild(g),g=y}}if(o===0){t.removeChild(f),Gr(e);return}o--}else i==="$"||i==="$?"||i==="$!"?o++:a=i.charCodeAt(0)-48;else a=0;i=f}while(i);Gr(e)}function rh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":rh(i),Qs(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function S_(t,e,i,a){for(;t.nodeType===1;){var o=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Ts])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var f=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function b_(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=In(t.nextSibling),t===null))return null;return t}function lh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function x_(t,e){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")e();else{var a=function(){e(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function In(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var oh=null;function Mm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}function km(t,e,i){switch(e=co(i),t){case"html":if(t=e.documentElement,!t)throw Error(r(452));return t;case"head":if(t=e.head,!t)throw Error(r(453));return t;case"body":if(t=e.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function zr(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Qs(t)}var zn=new Map,Um=new Set;function ho(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oi=X.d;X.d={f:A_,r:E_,D:w_,C:N_,L:O_,m:C_,X:D_,S:R_,M:M_};function A_(){var t=Oi.f(),e=no();return t||e}function E_(t){var e=di(t);e!==null&&e.tag===5&&e.type==="form"?tp(e):Oi.r(t)}var Ea=typeof document>"u"?null:document;function zm(t,e,i){var a=Ea;if(a&&typeof e=="string"&&e){var o=On(e);o='link[rel="'+t+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),Um.has(o)||(Um.add(o),t={rel:t,crossOrigin:i,href:e},a.querySelector(o)===null&&(e=a.createElement("link"),Ze(e,"link",t),ye(e),a.head.appendChild(e)))}}function w_(t){Oi.D(t),zm("dns-prefetch",t,null)}function N_(t,e){Oi.C(t,e),zm("preconnect",t,e)}function O_(t,e,i){Oi.L(t,e,i);var a=Ea;if(a&&t&&e){var o='link[rel="preload"][as="'+On(e)+'"]';e==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+On(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+On(i.imageSizes)+'"]')):o+='[href="'+On(t)+'"]';var f=o;switch(e){case"style":f=wa(t);break;case"script":f=Na(t)}zn.has(f)||(t=v({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),zn.set(f,t),a.querySelector(o)!==null||e==="style"&&a.querySelector(Vr(f))||e==="script"&&a.querySelector(Br(f))||(e=a.createElement("link"),Ze(e,"link",t),ye(e),a.head.appendChild(e)))}}function C_(t,e){Oi.m(t,e);var i=Ea;if(i&&t){var a=e&&typeof e.as=="string"?e.as:"script",o='link[rel="modulepreload"][as="'+On(a)+'"][href="'+On(t)+'"]',f=o;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Na(t)}if(!zn.has(f)&&(t=v({rel:"modulepreload",href:t},e),zn.set(f,t),i.querySelector(o)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Br(f)))return}a=i.createElement("link"),Ze(a,"link",t),ye(a),i.head.appendChild(a)}}}function R_(t,e,i){Oi.S(t,e,i);var a=Ea;if(a&&t){var o=Li(a).hoistableStyles,f=wa(t);e=e||"default";var g=o.get(f);if(!g){var y={loading:0,preload:null};if(g=a.querySelector(Vr(f)))y.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":e},i),(i=zn.get(f))&&uh(t,i);var N=g=a.createElement("link");ye(N),Ze(N,"link",t),N._p=new Promise(function(B,W){N.onload=B,N.onerror=W}),N.addEventListener("load",function(){y.loading|=1}),N.addEventListener("error",function(){y.loading|=2}),y.loading|=4,fo(g,e,a)}g={type:"stylesheet",instance:g,count:1,state:y},o.set(f,g)}}}function D_(t,e){Oi.X(t,e);var i=Ea;if(i&&t){var a=Li(i).hoistableScripts,o=Na(t),f=a.get(o);f||(f=i.querySelector(Br(o)),f||(t=v({src:t,async:!0},e),(e=zn.get(o))&&ch(t,e),f=i.createElement("script"),ye(f),Ze(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(o,f))}}function M_(t,e){Oi.M(t,e);var i=Ea;if(i&&t){var a=Li(i).hoistableScripts,o=Na(t),f=a.get(o);f||(f=i.querySelector(Br(o)),f||(t=v({src:t,async:!0,type:"module"},e),(e=zn.get(o))&&ch(t,e),f=i.createElement("script"),ye(f),Ze(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(o,f))}}function Vm(t,e,i,a){var o=(o=vt.current)?ho(o):null;if(!o)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=wa(i.href),i=Li(o).hoistableStyles,a=i.get(e),a||(a={type:"style",instance:null,count:0,state:null},i.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=wa(i.href);var f=Li(o).hoistableStyles,g=f.get(t);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=o.querySelector(Vr(t)))&&!f._p&&(g.instance=f,g.state.loading=5),zn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},zn.set(t,i),f||k_(o,t,i,g.state))),e&&a===null)throw Error(r(528,""));return g}if(e&&a!==null)throw Error(r(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Na(i),i=Li(o).hoistableScripts,a=i.get(e),a||(a={type:"script",instance:null,count:0,state:null},i.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function wa(t){return'href="'+On(t)+'"'}function Vr(t){return'link[rel="stylesheet"]['+t+"]"}function Bm(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function k_(t,e,i,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),Ze(e,"link",i),ye(e),t.head.appendChild(e))}function Na(t){return'[src="'+On(t)+'"]'}function Br(t){return"script[async]"+t}function Lm(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+On(i.href)+'"]');if(a)return e.instance=a,ye(a),a;var o=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),ye(a),Ze(a,"style",o),fo(a,i.precedence,t),e.instance=a;case"stylesheet":o=wa(i.href);var f=t.querySelector(Vr(o));if(f)return e.state.loading|=4,e.instance=f,ye(f),f;a=Bm(i),(o=zn.get(o))&&uh(a,o),f=(t.ownerDocument||t).createElement("link"),ye(f);var g=f;return g._p=new Promise(function(y,N){g.onload=y,g.onerror=N}),Ze(f,"link",a),e.state.loading|=4,fo(f,i.precedence,t),e.instance=f;case"script":return f=Na(i.src),(o=t.querySelector(Br(f)))?(e.instance=o,ye(o),o):(a=i,(o=zn.get(f))&&(a=v({},i),ch(a,o)),t=t.ownerDocument||t,o=t.createElement("script"),ye(o),Ze(o,"link",a),t.head.appendChild(o),e.instance=o);case"void":return null;default:throw Error(r(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,fo(a,i.precedence,t));return e.instance}function fo(t,e,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=a.length?a[a.length-1]:null,f=o,g=0;g<a.length;g++){var y=a[g];if(y.dataset.precedence===e)f=y;else if(f!==o)break}f?f.parentNode.insertBefore(t,f.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function uh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function ch(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var po=null;function qm(t,e,i){if(po===null){var a=new Map,o=po=new Map;o.set(i,a)}else o=po,a=o.get(i),a||(a=new Map,o.set(i,a));if(a.has(t))return a;for(a.set(t,null),i=i.getElementsByTagName(t),o=0;o<i.length;o++){var f=i[o];if(!(f[Ts]||f[qe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(e)||"";g=t+g;var y=a.get(g);y?y.push(f):a.set(g,[f])}}return a}function jm(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function U_(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Im(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Lr=null;function z_(){}function V_(t,e,i){if(Lr===null)throw Error(r(475));var a=Lr;if(e.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var o=wa(i.href),f=t.querySelector(Vr(o));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(a.count++,a=mo.bind(a),t.then(a,a)),e.state.loading|=4,e.instance=f,ye(f);return}f=t.ownerDocument||t,i=Bm(i),(o=zn.get(o))&&uh(i,o),f=f.createElement("link"),ye(f);var g=f;g._p=new Promise(function(y,N){g.onload=y,g.onerror=N}),Ze(f,"link",i),e.instance=f}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(a.count++,e=mo.bind(a),t.addEventListener("load",e),t.addEventListener("error",e))}}function B_(){if(Lr===null)throw Error(r(475));var t=Lr;return t.stylesheets&&t.count===0&&hh(t,t.stylesheets),0<t.count?function(e){var i=setTimeout(function(){if(t.stylesheets&&hh(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(i)}}:null}function mo(){if(this.count--,this.count===0){if(this.stylesheets)hh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var go=null;function hh(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,go=new Map,e.forEach(L_,t),go=null,mo.call(t))}function L_(t,e){if(!(e.state.loading&4)){var i=go.get(t);if(i)var a=i.get(null);else{i=new Map,go.set(t,i);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<o.length;f++){var g=o[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),a=g)}a&&i.set(null,a)}o=e.instance,g=o.getAttribute("data-precedence"),f=i.get(g)||a,f===a&&i.set(null,o),i.set(g,o),this.count++,a=mo.bind(this),o.addEventListener("load",a),o.addEventListener("error",a),f?f.parentNode.insertBefore(o,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),e.state.loading|=4}}var qr={$$typeof:q,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function q_(t,e,i,a,o,f,g,y){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=a,this.onUncaughtError=o,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function Hm(t,e,i,a,o,f,g,y,N,B,W,$){return t=new q_(t,e,i,g,y,N,B,$),e=1,f===!0&&(e|=24),f=gn(3,null,null,e),t.current=f,f.stateNode=t,e=Xu(),e.refCount++,t.pooledCache=e,e.refCount++,f.memoizedState={element:a,isDehydrated:i,cache:e},Wu(f),t}function Gm(t){return t?(t=sa,t):sa}function Ym(t,e,i,a,o,f){o=Gm(o),a.context===null?a.context=o:a.pendingContext=o,a=Hi(e),a.payload={element:i},f=f===void 0?null:f,f!==null&&(a.callback=f),i=Gi(t,a,e),i!==null&&(Sn(i,t,e),mr(i,t,e))}function Fm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function fh(t,e){Fm(t,e),(t=t.alternate)&&Fm(t,e)}function Xm(t){if(t.tag===13){var e=ia(t,67108864);e!==null&&Sn(e,t,67108864),fh(t,67108864)}}var vo=!0;function j_(t,e,i,a){var o=D.T;D.T=null;var f=X.p;try{X.p=2,dh(t,e,i,a)}finally{X.p=f,D.T=o}}function I_(t,e,i,a){var o=D.T;D.T=null;var f=X.p;try{X.p=8,dh(t,e,i,a)}finally{X.p=f,D.T=o}}function dh(t,e,i,a){if(vo){var o=ph(a);if(o===null)th(t,e,a,_o,i),Qm(t,a);else if(G_(o,t,e,i,a))a.stopPropagation();else if(Qm(t,a),e&4&&-1<H_.indexOf(t)){for(;o!==null;){var f=di(o);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=tn(f.pendingLanes);if(g!==0){var y=f;for(y.pendingLanes|=2,y.entangledLanes|=2;g;){var N=1<<31-Zt(g);y.entanglements[1]|=N,g&=~N}ai(f),(Jt&6)===0&&(to=zt()+500,Mr(0))}}break;case 13:y=ia(f,2),y!==null&&Sn(y,f,2),no(),fh(f,2)}if(f=ph(a),f===null&&th(t,e,a,_o,i),f===o)break;o=f}o!==null&&a.stopPropagation()}else th(t,e,a,null,i)}}function ph(t){return t=yu(t),mh(t)}var _o=null;function mh(t){if(_o=null,t=fi(t),t!==null){var e=h(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=c(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return _o=t,null}function Zm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xt()){case Rt:return 2;case rt:return 8;case ot:case J:return 32;case At:return 268435456;default:return 32}default:return 32}}var gh=!1,ns=null,is=null,ss=null,jr=new Map,Ir=new Map,as=[],H_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qm(t,e){switch(t){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":jr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(e.pointerId)}}function Hr(t,e,i,a,o,f){return t===null||t.nativeEvent!==f?(t={blockedOn:e,domEventName:i,eventSystemFlags:a,nativeEvent:f,targetContainers:[o]},e!==null&&(e=di(e),e!==null&&Xm(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function G_(t,e,i,a,o){switch(e){case"focusin":return ns=Hr(ns,t,e,i,a,o),!0;case"dragenter":return is=Hr(is,t,e,i,a,o),!0;case"mouseover":return ss=Hr(ss,t,e,i,a,o),!0;case"pointerover":var f=o.pointerId;return jr.set(f,Hr(jr.get(f)||null,t,e,i,a,o)),!0;case"gotpointercapture":return f=o.pointerId,Ir.set(f,Hr(Ir.get(f)||null,t,e,i,a,o)),!0}return!1}function Pm(t){var e=fi(t.target);if(e!==null){var i=h(e);if(i!==null){if(e=i.tag,e===13){if(e=c(i),e!==null){t.blockedOn=e,hu(t.priority,function(){if(i.tag===13){var a=Tn();a=Pa(a);var o=ia(i,a);o!==null&&Sn(o,i,a),fh(i,a)}});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=ph(t.nativeEvent);if(i===null){i=t.nativeEvent;var a=new i.constructor(i.type,i);_u=a,i.target.dispatchEvent(a),_u=null}else return e=di(i),e!==null&&Xm(e),t.blockedOn=i,!1;e.shift()}return!0}function Wm(t,e,i){yo(t)&&i.delete(e)}function Y_(){gh=!1,ns!==null&&yo(ns)&&(ns=null),is!==null&&yo(is)&&(is=null),ss!==null&&yo(ss)&&(ss=null),jr.forEach(Wm),Ir.forEach(Wm)}function To(t,e){t.blockedOn===e&&(t.blockedOn=null,gh||(gh=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Y_)))}var So=null;function Km(t){So!==t&&(So=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){So===t&&(So=null);for(var e=0;e<t.length;e+=3){var i=t[e],a=t[e+1],o=t[e+2];if(typeof a!="function"){if(mh(a||i)===null)continue;break}var f=di(i);f!==null&&(t.splice(e,3),e-=3,mc(f,{pending:!0,data:o,method:i.method,action:a},a,o))}}))}function Gr(t){function e(N){return To(N,t)}ns!==null&&To(ns,t),is!==null&&To(is,t),ss!==null&&To(ss,t),jr.forEach(e),Ir.forEach(e);for(var i=0;i<as.length;i++){var a=as[i];a.blockedOn===t&&(a.blockedOn=null)}for(;0<as.length&&(i=as[0],i.blockedOn===null);)Pm(i),i.blockedOn===null&&as.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var o=i[a],f=i[a+1],g=o[Pe]||null;if(typeof f=="function")g||Km(i);else if(g){var y=null;if(f&&f.hasAttribute("formAction")){if(o=f,g=f[Pe]||null)y=g.formAction;else if(mh(o)!==null)continue}else y=g.action;typeof y=="function"?i[a+1]=y:(i.splice(a,3),a-=3),Km(i)}}}function vh(t){this._internalRoot=t}bo.prototype.render=vh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(r(409));var i=e.current,a=Tn();Ym(i,a,t,e,null,null)},bo.prototype.unmount=vh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ym(t.current,2,null,t,null,null),no(),e[Bi]=null}};function bo(t){this._internalRoot=t}bo.prototype.unstable_scheduleHydration=function(t){if(t){var e=hl();t={blockedOn:null,target:t,priority:e};for(var i=0;i<as.length&&e!==0&&e<as[i].priority;i++);as.splice(i,0,t),i===0&&Pm(t)}};var Jm=n.version;if(Jm!=="19.1.0")throw Error(r(527,Jm,"19.1.0"));X.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=m(e),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var F_={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xo.isDisabled&&xo.supportsFiber)try{Lt=xo.inject(F_),Yt=xo}catch{}}return Fr.createRoot=function(t,e){if(!u(t))throw Error(r(299));var i=!1,a="",o=pp,f=mp,g=gp,y=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(o=e.onUncaughtError),e.onCaughtError!==void 0&&(f=e.onCaughtError),e.onRecoverableError!==void 0&&(g=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(y=e.unstable_transitionCallbacks)),e=Hm(t,1,!1,null,null,i,a,o,f,g,y,null),t[Bi]=e.current,$c(t),new vh(e)},Fr.hydrateRoot=function(t,e,i){if(!u(t))throw Error(r(299));var a=!1,o="",f=pp,g=mp,y=gp,N=null,B=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(N=i.unstable_transitionCallbacks),i.formState!==void 0&&(B=i.formState)),e=Hm(t,1,!0,e,i??null,a,o,f,g,y,N,B),e.context=Gm(null),i=e.current,a=Tn(),a=Pa(a),o=Hi(a),o.callback=null,Gi(i,o,a),i=a,e.current.lanes=i,Vi(e,i),ai(e),t[Bi]=e.current,$c(t),new bo(e)},Fr.version="19.1.0",Fr}var og;function ey(){if(og)return Th.exports;og=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Th.exports=ty(),Th.exports}var ny=ey();const kg="15.1.22",ug=(l,n,s)=>({endTime:n,insertTime:s,type:"exponentialRampToValue",value:l}),cg=(l,n,s)=>({endTime:n,insertTime:s,type:"linearRampToValue",value:l}),Eh=(l,n)=>({startTime:n,type:"setValue",value:l}),Ug=(l,n,s)=>({duration:s,startTime:n,type:"setValueCurve",values:l}),zg=(l,n,{startTime:s,target:r,timeConstant:u})=>r+(n-r)*Math.exp((s-l)/u),Ra=l=>l.type==="exponentialRampToValue",ko=l=>l.type==="linearRampToValue",os=l=>Ra(l)||ko(l),Lh=l=>l.type==="setValue",Ci=l=>l.type==="setValueCurve",Uo=(l,n,s,r)=>{const u=l[n];return u===void 0?r:os(u)||Lh(u)?u.value:Ci(u)?u.values[u.values.length-1]:zg(s,Uo(l,n-1,u.startTime,r),u)},hg=(l,n,s,r,u)=>s===void 0?[r.insertTime,u]:os(s)?[s.endTime,s.value]:Lh(s)?[s.startTime,s.value]:Ci(s)?[s.startTime+s.duration,s.values[s.values.length-1]]:[s.startTime,Uo(l,n-1,s.startTime,u)],wh=l=>l.type==="cancelAndHold",Nh=l=>l.type==="cancelScheduledValues",ls=l=>wh(l)||Nh(l)?l.cancelTime:Ra(l)||ko(l)?l.endTime:l.startTime,fg=(l,n,s,{endTime:r,value:u})=>s===u?u:0<s&&0<u||s<0&&u<0?s*(u/s)**((l-n)/(r-n)):0,dg=(l,n,s,{endTime:r,value:u})=>s+(l-n)/(r-n)*(u-s),iy=(l,n)=>{const s=Math.floor(n),r=Math.ceil(n);return s===r?l[s]:(1-(n-s))*l[s]+(1-(r-n))*l[r]},sy=(l,{duration:n,startTime:s,values:r})=>{const u=(l-s)/n*(r.length-1);return iy(r,u)},Ao=l=>l.type==="setTarget";class ay{constructor(n){this._automationEvents=[],this._currenTime=0,this._defaultValue=n}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(n){const s=ls(n);if(wh(n)||Nh(n)){const r=this._automationEvents.findIndex(h=>Nh(n)&&Ci(h)?h.startTime+h.duration>=s:ls(h)>=s),u=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),wh(n)){const h=this._automationEvents[this._automationEvents.length-1];if(u!==void 0&&os(u)){if(h!==void 0&&Ao(h))throw new Error("The internal list is malformed.");const c=h===void 0?u.insertTime:Ci(h)?h.startTime+h.duration:ls(h),d=h===void 0?this._defaultValue:Ci(h)?h.values[h.values.length-1]:h.value,m=Ra(u)?fg(s,c,d,u):dg(s,c,d,u),p=Ra(u)?ug(m,s,this._currenTime):cg(m,s,this._currenTime);this._automationEvents.push(p)}if(h!==void 0&&Ao(h)&&this._automationEvents.push(Eh(this.getValue(s),s)),h!==void 0&&Ci(h)&&h.startTime+h.duration>s){const c=s-h.startTime,d=(h.values.length-1)/h.duration,m=Math.max(2,1+Math.ceil(c*d)),p=c/(m-1)*d,v=h.values.slice(0,m);if(p<1)for(let _=1;_<m;_+=1){const S=p*_%1;v[_]=h.values[_-1]*(1-S)+h.values[_]*S}this._automationEvents[this._automationEvents.length-1]=Ug(v,h.startTime,c)}}}else{const r=this._automationEvents.findIndex(c=>ls(c)>s),u=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(u!==void 0&&Ci(u)&&ls(u)+u.duration>s)return!1;const h=Ra(n)?ug(n.value,n.endTime,this._currenTime):ko(n)?cg(n.value,s,this._currenTime):n;if(r===-1)this._automationEvents.push(h);else{if(Ci(n)&&s+n.duration>ls(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,h)}}return!0}flush(n){const s=this._automationEvents.findIndex(r=>ls(r)>n);if(s>1){const r=this._automationEvents.slice(s-1),u=r[0];Ao(u)&&r.unshift(Eh(Uo(this._automationEvents,s-2,u.startTime,this._defaultValue),u.startTime)),this._automationEvents=r}}getValue(n){if(this._automationEvents.length===0)return this._defaultValue;const s=this._automationEvents.findIndex(c=>ls(c)>n),r=this._automationEvents[s],u=(s===-1?this._automationEvents.length:s)-1,h=this._automationEvents[u];if(h!==void 0&&Ao(h)&&(r===void 0||!os(r)||r.insertTime>n))return zg(n,Uo(this._automationEvents,u-1,h.startTime,this._defaultValue),h);if(h!==void 0&&Lh(h)&&(r===void 0||!os(r)))return h.value;if(h!==void 0&&Ci(h)&&(r===void 0||!os(r)||h.startTime+h.duration>n))return n<h.startTime+h.duration?sy(n,h):h.values[h.values.length-1];if(h!==void 0&&os(h)&&(r===void 0||!os(r)))return h.value;if(r!==void 0&&Ra(r)){const[c,d]=hg(this._automationEvents,u,h,r,this._defaultValue);return fg(n,c,d,r)}if(r!==void 0&&ko(r)){const[c,d]=hg(this._automationEvents,u,h,r,this._defaultValue);return dg(n,c,d,r)}return this._defaultValue}}const ry=l=>({cancelTime:l,type:"cancelAndHold"}),ly=l=>({cancelTime:l,type:"cancelScheduledValues"}),oy=(l,n)=>({endTime:n,type:"exponentialRampToValue",value:l}),uy=(l,n)=>({endTime:n,type:"linearRampToValue",value:l}),cy=(l,n,s)=>({startTime:n,target:l,timeConstant:s,type:"setTarget"}),hy=()=>new DOMException("","AbortError"),fy=l=>(n,s,[r,u,h],c)=>{l(n[u],[s,r,h],d=>d[0]===s&&d[1]===r,c)},dy=l=>(n,s,r)=>{const u=[];for(let h=0;h<r.numberOfInputs;h+=1)u.push(new Set);l.set(n,{activeInputs:u,outputs:new Set,passiveInputs:new WeakMap,renderer:s})},py=l=>(n,s)=>{l.set(n,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:s})},Ua=new WeakSet,Vg=new WeakMap,qh=new WeakMap,Bg=new WeakMap,jh=new WeakMap,Fo=new WeakMap,Lg=new WeakMap,Oh=new WeakMap,Ch=new WeakMap,Rh=new WeakMap,qg={construct(){return qg}},my=l=>{try{const n=new Proxy(l,qg);new n}catch{return!1}return!0},pg=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,mg=(l,n)=>{const s=[];let r=l.replace(/^[\s]+/,""),u=r.match(pg);for(;u!==null;){const h=u[1].slice(1,-1),c=u[0].replace(/([\s]+)?;?$/,"").replace(h,new URL(h,n).toString());s.push(c),r=r.slice(u[0].length).replace(/^[\s]+/,""),u=r.match(pg)}return[s.join(";"),r]},gg=l=>{if(l!==void 0&&!Array.isArray(l))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},vg=l=>{if(!my(l))throw new TypeError("The given value for processorCtor should be a constructor.");if(l.prototype===null||typeof l.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},gy=(l,n,s,r,u,h,c,d,m,p,v,_,S)=>{let T=0;return(b,A,E={credentials:"omit"})=>{const R=v.get(b);if(R!==void 0&&R.has(A))return Promise.resolve();const k=p.get(b);if(k!==void 0){const O=k.get(A);if(O!==void 0)return O}const q=h(b),P=q.audioWorklet===void 0?u(A).then(([O,j])=>{const[Y,U]=mg(O,j),st=`${Y};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${U}
})})(window,'_AWGS')`;return s(st)}).then(()=>{const O=S._AWGS.pop();if(O===void 0)throw new SyntaxError;r(q.currentTime,q.sampleRate,()=>O(class{},void 0,(j,Y)=>{if(j.trim()==="")throw n();const U=Ch.get(q);if(U!==void 0){if(U.has(j))throw n();vg(Y),gg(Y.parameterDescriptors),U.set(j,Y)}else vg(Y),gg(Y.parameterDescriptors),Ch.set(q,new Map([[j,Y]]))},q.sampleRate,void 0,void 0))}):Promise.all([u(A),Promise.resolve(l(_,_))]).then(([[O,j],Y])=>{const U=T+1;T=U;const[st,it]=mg(O,j),ht=`${st};((AudioWorkletProcessor,registerProcessor)=>{${it}
})(${Y?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${Y?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${Y?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${U}',class extends AudioWorkletProcessor{process(){return !1}})`,_t=new Blob([ht],{type:"application/javascript; charset=utf-8"}),D=URL.createObjectURL(_t);return q.audioWorklet.addModule(D,E).then(()=>{if(d(q))return q;const X=c(q);return X.audioWorklet.addModule(D,E).then(()=>X)}).then(X=>{if(m===null)throw new SyntaxError;try{new m(X,`__sac${U}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(D))});return k===void 0?p.set(b,new Map([[A,P]])):k.set(A,P),P.then(()=>{const O=v.get(b);O===void 0?v.set(b,new Set([A])):O.add(A)}).finally(()=>{const O=p.get(b);O!==void 0&&O.delete(A)}),P}},Xn=(l,n)=>{const s=l.get(n);if(s===void 0)throw new Error("A value with the given key could not be found.");return s},Xo=(l,n)=>{const s=Array.from(l).filter(n);if(s.length>1)throw Error("More than one element was found.");if(s.length===0)throw Error("No element was found.");const[r]=s;return l.delete(r),r},jg=(l,n,s,r)=>{const u=Xn(l,n),h=Xo(u,c=>c[0]===s&&c[1]===r);return u.size===0&&l.delete(n),h},Kr=l=>Xn(Lg,l),za=l=>{if(Ua.has(l))throw new Error("The AudioNode is already stored.");Ua.add(l),Kr(l).forEach(n=>n(!0))},Ig=l=>"port"in l,Jr=l=>{if(!Ua.has(l))throw new Error("The AudioNode is not stored.");Ua.delete(l),Kr(l).forEach(n=>n(!1))},Dh=(l,n)=>{!Ig(l)&&n.every(s=>s.size===0)&&Jr(l)},vy=(l,n,s,r,u,h,c,d,m,p,v,_,S)=>{const T=new WeakMap;return(b,A,E,R,k)=>{const{activeInputs:q,passiveInputs:P}=h(A),{outputs:O}=h(b),j=d(b),Y=U=>{const st=m(A),it=m(b);if(U){const tt=jg(P,b,E,R);l(q,b,tt,!1),!k&&!_(b)&&s(it,st,E,R),S(A)&&za(A)}else{const tt=r(q,b,E,R);n(P,R,tt,!1),!k&&!_(b)&&u(it,st,E,R);const Q=c(A);if(Q===0)v(A)&&Dh(A,q);else{const ft=T.get(A);ft!==void 0&&clearTimeout(ft),T.set(A,setTimeout(()=>{v(A)&&Dh(A,q)},Q*1e3))}}};return p(O,[A,E,R],U=>U[0]===A&&U[1]===E&&U[2]===R,!0)?(j.add(Y),v(b)?l(q,b,[E,R,Y],!0):n(P,R,[b,E,Y],!0),!0):!1}},_y=l=>(n,s,[r,u,h],c)=>{const d=n.get(r);d===void 0?n.set(r,new Set([[u,s,h]])):l(d,[u,s,h],m=>m[0]===u&&m[1]===s,c)},yy=l=>(n,s)=>{const r=l(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.connect(r).connect(n.destination);const u=()=>{s.removeEventListener("ended",u),s.disconnect(r),r.disconnect()};s.addEventListener("ended",u)},Ty=l=>(n,s)=>{l(n).add(s)},Sy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},by=(l,n,s,r,u,h)=>class extends l{constructor(d,m){const p=u(d),v={...Sy,...m},_=r(p,v),S=h(p)?n():null;super(d,!1,_,S),this._nativeAnalyserNode=_}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(d){this._nativeAnalyserNode.fftSize=d}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(d){const m=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=d,!(d>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=m,s()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(d){const m=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=d,!(this._nativeAnalyserNode.maxDecibels>d))throw this._nativeAnalyserNode.minDecibels=m,s()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(d){this._nativeAnalyserNode.smoothingTimeConstant=d}getByteFrequencyData(d){this._nativeAnalyserNode.getByteFrequencyData(d)}getByteTimeDomainData(d){this._nativeAnalyserNode.getByteTimeDomainData(d)}getFloatFrequencyData(d){this._nativeAnalyserNode.getFloatFrequencyData(d)}getFloatTimeDomainData(d){this._nativeAnalyserNode.getFloatTimeDomainData(d)}},$e=(l,n)=>l.context===n,xy=(l,n,s)=>()=>{const r=new WeakMap,u=async(h,c)=>{let d=n(h);if(!$e(d,c)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,fftSize:d.fftSize,maxDecibels:d.maxDecibels,minDecibels:d.minDecibels,smoothingTimeConstant:d.smoothingTimeConstant};d=l(c,p)}return r.set(c,d),await s(h,c,d),d};return{render(h,c){const d=r.get(c);return d!==void 0?Promise.resolve(d):u(h,c)}}},zo=l=>{try{l.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},oi=()=>new DOMException("","IndexSizeError"),Ih=l=>{l.getChannelData=(n=>s=>{try{return n.call(l,s)}catch(r){throw r.code===12?oi():r}})(l.getChannelData)},Ay={numberOfChannels:1},Ey=(l,n,s,r,u,h,c,d)=>{let m=null;return class Hg{constructor(v){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:_,numberOfChannels:S,sampleRate:T}={...Ay,...v};m===null&&(m=new u(1,1,44100));const b=r!==null&&n(h,h)?new r({length:_,numberOfChannels:S,sampleRate:T}):m.createBuffer(S,_,T);if(b.numberOfChannels===0)throw s();return typeof b.copyFromChannel!="function"?(c(b),Ih(b)):n(zo,()=>zo(b))||d(b),l.add(b),b}static[Symbol.hasInstance](v){return v!==null&&typeof v=="object"&&Object.getPrototypeOf(v)===Hg.prototype||l.has(v)}}},cn=-34028234663852886e22,nn=-cn,Ri=l=>Ua.has(l),wy={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Ny=(l,n,s,r,u,h,c,d)=>class extends l{constructor(p,v){const _=h(p),S={...wy,...v},T=u(_,S),b=c(_),A=b?n():null;super(p,!1,T,A),this._audioBufferSourceNodeRenderer=A,this._isBufferNullified=!1,this._isBufferSet=S.buffer!==null,this._nativeAudioBufferSourceNode=T,this._onended=null,this._playbackRate=s(this,b,T.playbackRate,nn,cn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(p){if(this._nativeAudioBufferSourceNode.buffer=p,p!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(p){this._nativeAudioBufferSourceNode.loop=p}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(p){this._nativeAudioBufferSourceNode.loopEnd=p}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(p){this._nativeAudioBufferSourceNode.loopStart=p}get onended(){return this._onended}set onended(p){const v=typeof p=="function"?d(this,p):null;this._nativeAudioBufferSourceNode.onended=v;const _=this._nativeAudioBufferSourceNode.onended;this._onended=_!==null&&_===v?p:_}get playbackRate(){return this._playbackRate}start(p=0,v=0,_){if(this._nativeAudioBufferSourceNode.start(p,v,_),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=_===void 0?[p,v]:[p,v,_]),this.context.state!=="closed"){za(this);const S=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",S),Ri(this)&&Jr(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",S)}}stop(p=0){this._nativeAudioBufferSourceNode.stop(p),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=p)}},Oy=(l,n,s,r,u)=>()=>{const h=new WeakMap;let c=null,d=null;const m=async(p,v)=>{let _=s(p);const S=$e(_,v);if(!S){const T={buffer:_.buffer,channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,loop:_.loop,loopEnd:_.loopEnd,loopStart:_.loopStart,playbackRate:_.playbackRate.value};_=n(v,T),c!==null&&_.start(...c),d!==null&&_.stop(d)}return h.set(v,_),S?await l(v,p.playbackRate,_.playbackRate):await r(v,p.playbackRate,_.playbackRate),await u(p,v,_),_};return{set start(p){c=p},set stop(p){d=p},render(p,v){const _=h.get(v);return _!==void 0?Promise.resolve(_):m(p,v)}}},Cy=l=>"playbackRate"in l,Ry=l=>"frequency"in l&&"gain"in l,Dy=l=>"offset"in l,My=l=>!("frequency"in l)&&"gain"in l,ky=l=>"detune"in l&&"frequency"in l&&!("gain"in l),Uy=l=>"pan"in l,sn=l=>Xn(Vg,l),$r=l=>Xn(Bg,l),Mh=(l,n)=>{const{activeInputs:s}=sn(l);s.forEach(u=>u.forEach(([h])=>{n.includes(l)||Mh(h,[...n,l])}));const r=Cy(l)?[l.playbackRate]:Ig(l)?Array.from(l.parameters.values()):Ry(l)?[l.Q,l.detune,l.frequency,l.gain]:Dy(l)?[l.offset]:My(l)?[l.gain]:ky(l)?[l.detune,l.frequency]:Uy(l)?[l.pan]:[];for(const u of r){const h=$r(u);h!==void 0&&h.activeInputs.forEach(([c])=>Mh(c,n))}Ri(l)&&Jr(l)},Gg=l=>{Mh(l.destination,[])},zy=l=>l===void 0||typeof l=="number"||typeof l=="string"&&(l==="balanced"||l==="interactive"||l==="playback"),Vy=(l,n,s,r,u,h,c,d,m)=>class extends l{constructor(v={}){if(m===null)throw new Error("Missing the native AudioContext constructor.");let _;try{_=new m(v)}catch(b){throw b.code===12&&b.message==="sampleRate is not in range"?s():b}if(_===null)throw r();if(!zy(v.latencyHint))throw new TypeError(`The provided value '${v.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(v.sampleRate!==void 0&&_.sampleRate!==v.sampleRate)throw s();super(_,2);const{latencyHint:S}=v,{sampleRate:T}=_;if(this._baseLatency=typeof _.baseLatency=="number"?_.baseLatency:S==="balanced"?512/T:S==="interactive"||S===void 0?256/T:S==="playback"?1024/T:Math.max(2,Math.min(128,Math.round(S*T/128)))*128/T,this._nativeAudioContext=_,m.name==="webkitAudioContext"?(this._nativeGainNode=_.createGain(),this._nativeOscillatorNode=_.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(_.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,_.state==="running"){this._state="suspended";const b=()=>{this._state==="suspended"&&(this._state=null),_.removeEventListener("statechange",b)};_.addEventListener("statechange",b)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw n()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Gg(this)}))}createMediaElementSource(v){return new u(this,{mediaElement:v})}createMediaStreamDestination(){return new h(this)}createMediaStreamSource(v){return new c(this,{mediaStream:v})}createMediaStreamTrackSource(v){return new d(this,{mediaStreamTrack:v})}resume(){return this._state==="suspended"?new Promise((v,_)=>{const S=()=>{this._nativeAudioContext.removeEventListener("statechange",S),this._nativeAudioContext.state==="running"?v():this.resume().then(v,_)};this._nativeAudioContext.addEventListener("statechange",S)}):this._nativeAudioContext.resume().catch(v=>{throw v===void 0||v.code===15?n():v})}suspend(){return this._nativeAudioContext.suspend().catch(v=>{throw v===void 0?n():v})}},By=(l,n,s,r,u,h,c,d)=>class extends l{constructor(p,v){const _=h(p),S=c(_),T=u(_,v,S),b=S?n(d):null;super(p,!1,T,b),this._isNodeOfNativeOfflineAudioContext=S,this._nativeAudioDestinationNode=T}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(p){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(p>this._nativeAudioDestinationNode.maxChannelCount)throw s();this._nativeAudioDestinationNode.channelCount=p}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(p){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=p}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Ly=l=>{const n=new WeakMap,s=async(r,u)=>{const h=u.destination;return n.set(u,h),await l(r,u,h),h};return{render(r,u){const h=n.get(u);return h!==void 0?Promise.resolve(h):s(r,u)}}},qy=(l,n,s,r,u,h,c,d)=>(m,p)=>{const v=p.listener,_=()=>{const O=new Float32Array(1),j=n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),Y=c(p);let U=!1,st=[0,0,-1,0,1,0],it=[0,0,0];const tt=()=>{if(U)return;U=!0;const _t=r(p,256,9,0);_t.onaudioprocess=({inputBuffer:D})=>{const X=[h(D,O,0),h(D,O,1),h(D,O,2),h(D,O,3),h(D,O,4),h(D,O,5)];X.some((ct,x)=>ct!==st[x])&&(v.setOrientation(...X),st=X);const lt=[h(D,O,6),h(D,O,7),h(D,O,8)];lt.some((ct,x)=>ct!==it[x])&&(v.setPosition(...lt),it=lt)},j.connect(_t)},Q=_t=>D=>{D!==st[_t]&&(st[_t]=D,v.setOrientation(...st))},ft=_t=>D=>{D!==it[_t]&&(it[_t]=D,v.setPosition(...it))},ht=(_t,D,X)=>{const lt=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:D});lt.connect(j,0,_t),lt.start(),Object.defineProperty(lt.offset,"defaultValue",{get(){return D}});const ct=l({context:m},Y,lt.offset,nn,cn);return d(ct,"value",x=>()=>x.call(ct),x=>I=>{try{x.call(ct,I)}catch(Z){if(Z.code!==9)throw Z}tt(),Y&&X(I)}),ct.cancelAndHoldAtTime=(x=>Y?()=>{throw u()}:(...I)=>{const Z=x.apply(ct,I);return tt(),Z})(ct.cancelAndHoldAtTime),ct.cancelScheduledValues=(x=>Y?()=>{throw u()}:(...I)=>{const Z=x.apply(ct,I);return tt(),Z})(ct.cancelScheduledValues),ct.exponentialRampToValueAtTime=(x=>Y?()=>{throw u()}:(...I)=>{const Z=x.apply(ct,I);return tt(),Z})(ct.exponentialRampToValueAtTime),ct.linearRampToValueAtTime=(x=>Y?()=>{throw u()}:(...I)=>{const Z=x.apply(ct,I);return tt(),Z})(ct.linearRampToValueAtTime),ct.setTargetAtTime=(x=>Y?()=>{throw u()}:(...I)=>{const Z=x.apply(ct,I);return tt(),Z})(ct.setTargetAtTime),ct.setValueAtTime=(x=>Y?()=>{throw u()}:(...I)=>{const Z=x.apply(ct,I);return tt(),Z})(ct.setValueAtTime),ct.setValueCurveAtTime=(x=>Y?()=>{throw u()}:(...I)=>{const Z=x.apply(ct,I);return tt(),Z})(ct.setValueCurveAtTime),ct};return{forwardX:ht(0,0,Q(0)),forwardY:ht(1,0,Q(1)),forwardZ:ht(2,-1,Q(2)),positionX:ht(6,0,ft(0)),positionY:ht(7,0,ft(1)),positionZ:ht(8,0,ft(2)),upX:ht(3,0,Q(3)),upY:ht(4,1,Q(4)),upZ:ht(5,0,Q(5))}},{forwardX:S,forwardY:T,forwardZ:b,positionX:A,positionY:E,positionZ:R,upX:k,upY:q,upZ:P}=v.forwardX===void 0?_():v;return{get forwardX(){return S},get forwardY(){return T},get forwardZ(){return b},get positionX(){return A},get positionY(){return E},get positionZ(){return R},get upX(){return k},get upY(){return q},get upZ(){return P}}},Vo=l=>"context"in l,tl=l=>Vo(l[0]),Fs=(l,n,s,r)=>{for(const u of l)if(s(u)){if(r)return!1;throw Error("The set contains at least one similar element.")}return l.add(n),!0},_g=(l,n,[s,r],u)=>{Fs(l,[n,s,r],h=>h[0]===n&&h[1]===s,u)},yg=(l,[n,s,r],u)=>{const h=l.get(n);h===void 0?l.set(n,new Set([[s,r]])):Fs(h,[s,r],c=>c[0]===s,u)},Ia=l=>"inputs"in l,Bo=(l,n,s,r)=>{if(Ia(n)){const u=n.inputs[r];return l.connect(u,s,0),[u,s,0]}return l.connect(n,s,r),[n,s,r]},Yg=(l,n,s)=>{for(const r of l)if(r[0]===n&&r[1]===s)return l.delete(r),r;return null},jy=(l,n,s)=>Xo(l,r=>r[0]===n&&r[1]===s),Fg=(l,n)=>{if(!Kr(l).delete(n))throw new Error("Missing the expected event listener.")},Xg=(l,n,s)=>{const r=Xn(l,n),u=Xo(r,h=>h[0]===s);return r.size===0&&l.delete(n),u},Lo=(l,n,s,r)=>{Ia(n)?l.disconnect(n.inputs[r],s,0):l.disconnect(n,s,r)},ce=l=>Xn(qh,l),Qr=l=>Xn(jh,l),Hs=l=>Oh.has(l),Do=l=>!Ua.has(l),Tg=(l,n)=>new Promise(s=>{if(n!==null)s(!0);else{const r=l.createScriptProcessor(256,1,1),u=l.createGain(),h=l.createBuffer(1,2,44100),c=h.getChannelData(0);c[0]=1,c[1]=1;const d=l.createBufferSource();d.buffer=h,d.loop=!0,d.connect(r).connect(l.destination),d.connect(u),d.disconnect(u),r.onaudioprocess=m=>{const p=m.inputBuffer.getChannelData(0);Array.prototype.some.call(p,v=>v===1)?s(!0):s(!1),d.stop(),r.onaudioprocess=null,d.disconnect(r),r.disconnect(l.destination)},d.start()}}),Ah=(l,n)=>{const s=new Map;for(const r of l)for(const u of r){const h=s.get(u);s.set(u,h===void 0?1:h+1)}s.forEach((r,u)=>n(u,r))},qo=l=>"context"in l,Iy=l=>{const n=new Map;l.connect=(s=>(r,u=0,h=0)=>{const c=qo(r)?s(r,u,h):s(r,u),d=n.get(r);return d===void 0?n.set(r,[{input:h,output:u}]):d.every(m=>m.input!==h||m.output!==u)&&d.push({input:h,output:u}),c})(l.connect.bind(l)),l.disconnect=(s=>(r,u,h)=>{if(s.apply(l),r===void 0)n.clear();else if(typeof r=="number")for(const[c,d]of n){const m=d.filter(p=>p.output!==r);m.length===0?n.delete(c):n.set(c,m)}else if(n.has(r))if(u===void 0)n.delete(r);else{const c=n.get(r);if(c!==void 0){const d=c.filter(m=>m.output!==u&&(m.input!==h||h===void 0));d.length===0?n.delete(r):n.set(r,d)}}for(const[c,d]of n)d.forEach(m=>{qo(c)?l.connect(c,m.output,m.input):l.connect(c,m.output)})})(l.disconnect)},Hy=(l,n,s,r)=>{const{activeInputs:u,passiveInputs:h}=$r(n),{outputs:c}=sn(l),d=Kr(l),m=p=>{const v=ce(l),_=Qr(n);if(p){const S=Xg(h,l,s);_g(u,l,S,!1),!r&&!Hs(l)&&v.connect(_,s)}else{const S=jy(u,l,s);yg(h,S,!1),!r&&!Hs(l)&&v.disconnect(_,s)}};return Fs(c,[n,s],p=>p[0]===n&&p[1]===s,!0)?(d.add(m),Ri(l)?_g(u,l,[s,m],!0):yg(h,[l,s,m],!0),!0):!1},Gy=(l,n,s,r)=>{const{activeInputs:u,passiveInputs:h}=sn(n),c=Yg(u[r],l,s);return c===null?[jg(h,l,s,r)[2],!1]:[c[2],!0]},Yy=(l,n,s)=>{const{activeInputs:r,passiveInputs:u}=$r(n),h=Yg(r,l,s);return h===null?[Xg(u,l,s)[1],!1]:[h[2],!0]},Hh=(l,n,s,r,u)=>{const[h,c]=Gy(l,s,r,u);if(h!==null&&(Fg(l,h),c&&!n&&!Hs(l)&&Lo(ce(l),ce(s),r,u)),Ri(s)){const{activeInputs:d}=sn(s);Dh(s,d)}},Gh=(l,n,s,r)=>{const[u,h]=Yy(l,s,r);u!==null&&(Fg(l,u),h&&!n&&!Hs(l)&&ce(l).disconnect(Qr(s),r))},Fy=(l,n)=>{const s=sn(l),r=[];for(const u of s.outputs)tl(u)?Hh(l,n,...u):Gh(l,n,...u),r.push(u[0]);return s.outputs.clear(),r},Xy=(l,n,s)=>{const r=sn(l),u=[];for(const h of r.outputs)h[1]===s&&(tl(h)?Hh(l,n,...h):Gh(l,n,...h),u.push(h[0]),r.outputs.delete(h));return u},Zy=(l,n,s,r,u)=>{const h=sn(l);return Array.from(h.outputs).filter(c=>c[0]===s&&(r===void 0||c[1]===r)&&(u===void 0||c[2]===u)).map(c=>(tl(c)?Hh(l,n,...c):Gh(l,n,...c),h.outputs.delete(c),c[0]))},Qy=(l,n,s,r,u,h,c,d,m,p,v,_,S,T,b,A)=>class extends p{constructor(R,k,q,P){super(q),this._context=R,this._nativeAudioNode=q;const O=v(R);_(O)&&s(Tg,()=>Tg(O,A))!==!0&&Iy(q),qh.set(this,q),Lg.set(this,new Set),R.state!=="closed"&&k&&za(this),l(this,P,q)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(R){this._nativeAudioNode.channelCount=R}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(R){this._nativeAudioNode.channelCountMode=R}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(R){this._nativeAudioNode.channelInterpretation=R}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(R,k=0,q=0){if(k<0||k>=this._nativeAudioNode.numberOfOutputs)throw u();const P=v(this._context),O=b(P);if(S(R)||T(R))throw h();if(Vo(R)){const U=ce(R);try{const it=Bo(this._nativeAudioNode,U,k,q),tt=Do(this);(O||tt)&&this._nativeAudioNode.disconnect(...it),this.context.state!=="closed"&&!tt&&Do(R)&&za(R)}catch(it){throw it.code===12?h():it}if(n(this,R,k,q,O)){const it=m([this],R);Ah(it,r(O))}return R}const j=Qr(R);if(j.name==="playbackRate"&&j.maxValue===1024)throw c();try{this._nativeAudioNode.connect(j,k),(O||Do(this))&&this._nativeAudioNode.disconnect(j,k)}catch(U){throw U.code===12?h():U}if(Hy(this,R,k,O)){const U=m([this],R);Ah(U,r(O))}}disconnect(R,k,q){let P;const O=v(this._context),j=b(O);if(R===void 0)P=Fy(this,j);else if(typeof R=="number"){if(R<0||R>=this.numberOfOutputs)throw u();P=Xy(this,j,R)}else{if(k!==void 0&&(k<0||k>=this.numberOfOutputs)||Vo(R)&&q!==void 0&&(q<0||q>=R.numberOfInputs))throw u();if(P=Zy(this,j,R,k,q),P.length===0)throw h()}for(const Y of P){const U=m([this],Y);Ah(U,d)}}},Py=(l,n,s,r,u,h,c,d,m,p,v,_,S)=>(T,b,A,E=null,R=null)=>{const k=A.value,q=new ay(k),P=b?r(q):null,O={get defaultValue(){return k},get maxValue(){return E===null?A.maxValue:E},get minValue(){return R===null?A.minValue:R},get value(){return A.value},set value(j){A.value=j,O.setValueAtTime(j,T.context.currentTime)},cancelAndHoldAtTime(j){if(typeof A.cancelAndHoldAtTime=="function")P===null&&q.flush(T.context.currentTime),q.add(u(j)),A.cancelAndHoldAtTime(j);else{const Y=Array.from(q).pop();P===null&&q.flush(T.context.currentTime),q.add(u(j));const U=Array.from(q).pop();A.cancelScheduledValues(j),Y!==U&&U!==void 0&&(U.type==="exponentialRampToValue"?A.exponentialRampToValueAtTime(U.value,U.endTime):U.type==="linearRampToValue"?A.linearRampToValueAtTime(U.value,U.endTime):U.type==="setValue"?A.setValueAtTime(U.value,U.startTime):U.type==="setValueCurve"&&A.setValueCurveAtTime(U.values,U.startTime,U.duration))}return O},cancelScheduledValues(j){return P===null&&q.flush(T.context.currentTime),q.add(h(j)),A.cancelScheduledValues(j),O},exponentialRampToValueAtTime(j,Y){if(j===0)throw new RangeError;if(!Number.isFinite(Y)||Y<0)throw new RangeError;const U=T.context.currentTime;return P===null&&q.flush(U),Array.from(q).length===0&&(q.add(p(k,U)),A.setValueAtTime(k,U)),q.add(c(j,Y)),A.exponentialRampToValueAtTime(j,Y),O},linearRampToValueAtTime(j,Y){const U=T.context.currentTime;return P===null&&q.flush(U),Array.from(q).length===0&&(q.add(p(k,U)),A.setValueAtTime(k,U)),q.add(d(j,Y)),A.linearRampToValueAtTime(j,Y),O},setTargetAtTime(j,Y,U){return P===null&&q.flush(T.context.currentTime),q.add(m(j,Y,U)),A.setTargetAtTime(j,Y,U),O},setValueAtTime(j,Y){return P===null&&q.flush(T.context.currentTime),q.add(p(j,Y)),A.setValueAtTime(j,Y),O},setValueCurveAtTime(j,Y,U){const st=j instanceof Float32Array?j:new Float32Array(j);if(_!==null&&_.name==="webkitAudioContext"){const it=Y+U,tt=T.context.sampleRate,Q=Math.ceil(Y*tt),ft=Math.floor(it*tt),ht=ft-Q,_t=new Float32Array(ht);for(let X=0;X<ht;X+=1){const lt=(st.length-1)/U*((Q+X)/tt-Y),ct=Math.floor(lt),x=Math.ceil(lt);_t[X]=ct===x?st[ct]:(1-(lt-ct))*st[ct]+(1-(x-lt))*st[x]}P===null&&q.flush(T.context.currentTime),q.add(v(_t,Y,U)),A.setValueCurveAtTime(_t,Y,U);const D=ft/tt;D<it&&S(O,_t[_t.length-1],D),S(O,st[st.length-1],it)}else P===null&&q.flush(T.context.currentTime),q.add(v(st,Y,U)),A.setValueCurveAtTime(st,Y,U);return O}};return s.set(O,A),n.set(O,T),l(O,P),O},Wy=l=>({replay(n){for(const s of l)if(s.type==="exponentialRampToValue"){const{endTime:r,value:u}=s;n.exponentialRampToValueAtTime(u,r)}else if(s.type==="linearRampToValue"){const{endTime:r,value:u}=s;n.linearRampToValueAtTime(u,r)}else if(s.type==="setTarget"){const{startTime:r,target:u,timeConstant:h}=s;n.setTargetAtTime(u,r,h)}else if(s.type==="setValue"){const{startTime:r,value:u}=s;n.setValueAtTime(u,r)}else if(s.type==="setValueCurve"){const{duration:r,startTime:u,values:h}=s;n.setValueCurveAtTime(h,u,r)}else throw new Error("Can't apply an unknown automation.")}});class Zg{constructor(n){this._map=new Map(n)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(n,s=null){return this._map.forEach((r,u)=>n.call(s,r,u,this))}get(n){return this._map.get(n)}has(n){return this._map.has(n)}keys(){return this._map.keys()}values(){return this._map.values()}}const Ky={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Jy=(l,n,s,r,u,h,c,d,m,p,v,_,S,T)=>class extends n{constructor(A,E,R){var k;const q=d(A),P=m(q),O=v({...Ky,...R});S(O);const j=Ch.get(q),Y=j?.get(E),U=P||q.state!=="closed"?q:(k=c(q))!==null&&k!==void 0?k:q,st=u(U,P?null:A.baseLatency,p,E,Y,O),it=P?r(E,O,Y):null;super(A,!0,st,it);const tt=[];st.parameters.forEach((ft,ht)=>{const _t=s(this,P,ft);tt.push([ht,_t])}),this._nativeAudioWorkletNode=st,this._onprocessorerror=null,this._parameters=new Zg(tt),P&&l(q,this);const{activeInputs:Q}=h(this);_(st,Q)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(A){const E=typeof A=="function"?T(this,A):null;this._nativeAudioWorkletNode.onprocessorerror=E;const R=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=R!==null&&R===E?A:R}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function jo(l,n,s,r,u){if(typeof l.copyFromChannel=="function")n[s].byteLength===0&&(n[s]=new Float32Array(128)),l.copyFromChannel(n[s],r,u);else{const h=l.getChannelData(r);if(n[s].byteLength===0)n[s]=h.slice(u,u+128);else{const c=new Float32Array(h.buffer,u*Float32Array.BYTES_PER_ELEMENT,128);n[s].set(c)}}}const Qg=(l,n,s,r,u)=>{typeof l.copyToChannel=="function"?n[s].byteLength!==0&&l.copyToChannel(n[s],r,u):n[s].byteLength!==0&&l.getChannelData(r).set(n[s],u)},Io=(l,n)=>{const s=[];for(let r=0;r<l;r+=1){const u=[],h=typeof n=="number"?n:n[r];for(let c=0;c<h;c+=1)u.push(new Float32Array(128));s.push(u)}return s},$y=(l,n)=>{const s=Xn(Rh,l),r=ce(n);return Xn(s,r)},t1=async(l,n,s,r,u,h,c)=>{const d=n===null?Math.ceil(l.context.length/128)*128:n.length,m=r.channelCount*r.numberOfInputs,p=u.reduce((E,R)=>E+R,0),v=p===0?null:s.createBuffer(p,d,s.sampleRate);if(h===void 0)throw new Error("Missing the processor constructor.");const _=sn(l),S=await $y(s,l),T=Io(r.numberOfInputs,r.channelCount),b=Io(r.numberOfOutputs,u),A=Array.from(l.parameters.keys()).reduce((E,R)=>({...E,[R]:new Float32Array(128)}),{});for(let E=0;E<d;E+=128){if(r.numberOfInputs>0&&n!==null)for(let R=0;R<r.numberOfInputs;R+=1)for(let k=0;k<r.channelCount;k+=1)jo(n,T[R],k,k,E);h.parameterDescriptors!==void 0&&n!==null&&h.parameterDescriptors.forEach(({name:R},k)=>{jo(n,A,R,m+k,E)});for(let R=0;R<r.numberOfInputs;R+=1)for(let k=0;k<u[R];k+=1)b[R][k].byteLength===0&&(b[R][k]=new Float32Array(128));try{const R=T.map((q,P)=>_.activeInputs[P].size===0?[]:q),k=c(E/s.sampleRate,s.sampleRate,()=>S.process(R,b,A));if(v!==null)for(let q=0,P=0;q<r.numberOfOutputs;q+=1){for(let O=0;O<u[q];O+=1)Qg(v,b[q],O,P+O,E);P+=u[q]}if(!k)break}catch(R){l.dispatchEvent(new ErrorEvent("processorerror",{colno:R.colno,filename:R.filename,lineno:R.lineno,message:R.message}));break}}return v},e1=(l,n,s,r,u,h,c,d,m,p,v,_,S,T,b,A)=>(E,R,k)=>{const q=new WeakMap;let P=null;const O=async(j,Y)=>{let U=v(j),st=null;const it=$e(U,Y),tt=Array.isArray(R.outputChannelCount)?R.outputChannelCount:Array.from(R.outputChannelCount);if(_===null){const Q=tt.reduce((D,X)=>D+X,0),ft=u(Y,{channelCount:Math.max(1,Q),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,Q)}),ht=[];for(let D=0;D<j.numberOfOutputs;D+=1)ht.push(r(Y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:tt[D]}));const _t=c(Y,{channelCount:R.channelCount,channelCountMode:R.channelCountMode,channelInterpretation:R.channelInterpretation,gain:1});_t.connect=n.bind(null,ht),_t.disconnect=m.bind(null,ht),st=[ft,ht,_t]}else it||(U=new _(Y,E));if(q.set(Y,st===null?U:st[2]),st!==null){if(P===null){if(k===void 0)throw new Error("Missing the processor constructor.");if(S===null)throw new Error("Missing the native OfflineAudioContext constructor.");const X=j.channelCount*j.numberOfInputs,lt=k.parameterDescriptors===void 0?0:k.parameterDescriptors.length,ct=X+lt;P=t1(j,ct===0?null:await(async()=>{const I=new S(ct,Math.ceil(j.context.length/128)*128,Y.sampleRate),Z=[],nt=[];for(let vt=0;vt<R.numberOfInputs;vt+=1)Z.push(c(I,{channelCount:R.channelCount,channelCountMode:R.channelCountMode,channelInterpretation:R.channelInterpretation,gain:1})),nt.push(u(I,{channelCount:R.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:R.channelCount}));const at=await Promise.all(Array.from(j.parameters.values()).map(async vt=>{const kt=h(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:vt.value});return await T(I,vt,kt.offset),kt})),gt=r(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,X+lt)});for(let vt=0;vt<R.numberOfInputs;vt+=1){Z[vt].connect(nt[vt]);for(let kt=0;kt<R.channelCount;kt+=1)nt[vt].connect(gt,kt,vt*R.channelCount+kt)}for(const[vt,kt]of at.entries())kt.connect(gt,0,X+vt),kt.start(0);return gt.connect(I.destination),await Promise.all(Z.map(vt=>b(j,I,vt))),A(I)})(),Y,R,tt,k,p)}const Q=await P,ft=s(Y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[ht,_t,D]=st;Q!==null&&(ft.buffer=Q,ft.start(0)),ft.connect(ht);for(let X=0,lt=0;X<j.numberOfOutputs;X+=1){const ct=_t[X];for(let x=0;x<tt[X];x+=1)ht.connect(ct,lt+x,x);lt+=tt[X]}return D}if(it)for(const[Q,ft]of j.parameters.entries())await l(Y,ft,U.parameters.get(Q));else for(const[Q,ft]of j.parameters.entries())await T(Y,ft,U.parameters.get(Q));return await b(j,Y,U),U};return{render(j,Y){d(Y,j);const U=q.get(Y);return U!==void 0?Promise.resolve(U):O(j,Y)}}},n1=(l,n,s,r,u,h,c,d,m,p,v,_,S,T,b,A,E,R,k,q)=>class extends b{constructor(O,j){super(O,j),this._nativeContext=O,this._audioWorklet=l===void 0?void 0:{addModule:(Y,U)=>l(this,Y,U)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new n(this)}createBiquadFilter(){return new u(this)}createBuffer(O,j,Y){return new s({length:j,numberOfChannels:O,sampleRate:Y})}createBufferSource(){return new r(this)}createChannelMerger(O=6){return new h(this,{numberOfInputs:O})}createChannelSplitter(O=6){return new c(this,{numberOfOutputs:O})}createConstantSource(){return new d(this)}createConvolver(){return new m(this)}createDelay(O=1){return new v(this,{maxDelayTime:O})}createDynamicsCompressor(){return new _(this)}createGain(){return new S(this)}createIIRFilter(O,j){return new T(this,{feedback:j,feedforward:O})}createOscillator(){return new A(this)}createPanner(){return new E(this)}createPeriodicWave(O,j,Y={disableNormalization:!1}){return new R(this,{...Y,imag:j,real:O})}createStereoPanner(){return new k(this)}createWaveShaper(){return new q(this)}decodeAudioData(O,j,Y){return p(this._nativeContext,O).then(U=>(typeof j=="function"&&j(U),U),U=>{throw typeof Y=="function"&&Y(U),U})}},i1={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},s1=(l,n,s,r,u,h,c,d)=>class extends l{constructor(p,v){const _=h(p),S={...i1,...v},T=u(_,S),b=c(_),A=b?s():null;super(p,!1,T,A),this._Q=n(this,b,T.Q,nn,cn),this._detune=n(this,b,T.detune,1200*Math.log2(nn),-1200*Math.log2(nn)),this._frequency=n(this,b,T.frequency,p.sampleRate/2,0),this._gain=n(this,b,T.gain,40*Math.log10(nn),cn),this._nativeBiquadFilterNode=T,d(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(p){this._nativeBiquadFilterNode.type=p}getFrequencyResponse(p,v,_){try{this._nativeBiquadFilterNode.getFrequencyResponse(p,v,_)}catch(S){throw S.code===11?r():S}if(p.length!==v.length||v.length!==_.length)throw r()}},a1=(l,n,s,r,u)=>()=>{const h=new WeakMap,c=async(d,m)=>{let p=s(d);const v=$e(p,m);if(!v){const _={Q:p.Q.value,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,detune:p.detune.value,frequency:p.frequency.value,gain:p.gain.value,type:p.type};p=n(m,_)}return h.set(m,p),v?(await l(m,d.Q,p.Q),await l(m,d.detune,p.detune),await l(m,d.frequency,p.frequency),await l(m,d.gain,p.gain)):(await r(m,d.Q,p.Q),await r(m,d.detune,p.detune),await r(m,d.frequency,p.frequency),await r(m,d.gain,p.gain)),await u(d,m,p),p};return{render(d,m){const p=h.get(m);return p!==void 0?Promise.resolve(p):c(d,m)}}},r1=(l,n)=>(s,r)=>{const u=n.get(s);if(u!==void 0)return u;const h=l.get(s);if(h!==void 0)return h;try{const c=r();return c instanceof Promise?(l.set(s,c),c.catch(()=>!1).then(d=>(l.delete(s),n.set(s,d),d))):(n.set(s,c),c)}catch{return n.set(s,!1),!1}},l1={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},o1=(l,n,s,r,u)=>class extends l{constructor(c,d){const m=r(c),p={...l1,...d},v=s(m,p),_=u(m)?n():null;super(c,!1,v,_)}},u1=(l,n,s)=>()=>{const r=new WeakMap,u=async(h,c)=>{let d=n(h);if(!$e(d,c)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfInputs:d.numberOfInputs};d=l(c,p)}return r.set(c,d),await s(h,c,d),d};return{render(h,c){const d=r.get(c);return d!==void 0?Promise.resolve(d):u(h,c)}}},c1={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},h1=(l,n,s,r,u,h)=>class extends l{constructor(d,m){const p=r(d),v=h({...c1,...m}),_=s(p,v),S=u(p)?n():null;super(d,!1,_,S)}},f1=(l,n,s)=>()=>{const r=new WeakMap,u=async(h,c)=>{let d=n(h);if(!$e(d,c)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfOutputs:d.numberOfOutputs};d=l(c,p)}return r.set(c,d),await s(h,c,d),d};return{render(h,c){const d=r.get(c);return d!==void 0?Promise.resolve(d):u(h,c)}}},d1=l=>(n,s,r)=>l(s,n,r),p1=l=>(n,s,r=0,u=0)=>{const h=n[r];if(h===void 0)throw l();return qo(s)?h.connect(s,0,u):h.connect(s,0)},m1=l=>(n,s)=>{const r=l(n,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n.createBuffer(1,2,44100);return r.buffer=u,r.loop=!0,r.connect(s),r.start(),()=>{r.stop(),r.disconnect(s)}},g1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},v1=(l,n,s,r,u,h,c)=>class extends l{constructor(m,p){const v=u(m),_={...g1,...p},S=r(v,_),T=h(v),b=T?s():null;super(m,!1,S,b),this._constantSourceNodeRenderer=b,this._nativeConstantSourceNode=S,this._offset=n(this,T,S.offset,nn,cn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(m){const p=typeof m=="function"?c(this,m):null;this._nativeConstantSourceNode.onended=p;const v=this._nativeConstantSourceNode.onended;this._onended=v!==null&&v===p?m:v}start(m=0){if(this._nativeConstantSourceNode.start(m),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=m),this.context.state!=="closed"){za(this);const p=()=>{this._nativeConstantSourceNode.removeEventListener("ended",p),Ri(this)&&Jr(this)};this._nativeConstantSourceNode.addEventListener("ended",p)}}stop(m=0){this._nativeConstantSourceNode.stop(m),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=m)}},_1=(l,n,s,r,u)=>()=>{const h=new WeakMap;let c=null,d=null;const m=async(p,v)=>{let _=s(p);const S=$e(_,v);if(!S){const T={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,offset:_.offset.value};_=n(v,T),c!==null&&_.start(c),d!==null&&_.stop(d)}return h.set(v,_),S?await l(v,p.offset,_.offset):await r(v,p.offset,_.offset),await u(p,v,_),_};return{set start(p){c=p},set stop(p){d=p},render(p,v){const _=h.get(v);return _!==void 0?Promise.resolve(_):m(p,v)}}},y1=l=>n=>(l[0]=n,l[0]),T1={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},S1=(l,n,s,r,u,h)=>class extends l{constructor(d,m){const p=r(d),v={...T1,...m},_=s(p,v),T=u(p)?n():null;super(d,!1,_,T),this._isBufferNullified=!1,this._nativeConvolverNode=_,v.buffer!==null&&h(this,v.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(d){if(this._nativeConvolverNode.buffer=d,d===null&&this._nativeConvolverNode.buffer!==null){const m=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=m.createBuffer(1,1,m.sampleRate),this._isBufferNullified=!0,h(this,0)}else this._isBufferNullified=!1,h(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(d){this._nativeConvolverNode.normalize=d}},b1=(l,n,s)=>()=>{const r=new WeakMap,u=async(h,c)=>{let d=n(h);if(!$e(d,c)){const p={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,disableNormalization:!d.normalize};d=l(c,p)}return r.set(c,d),Ia(d)?await s(h,c,d.inputs[0]):await s(h,c,d),d};return{render(h,c){const d=r.get(c);return d!==void 0?Promise.resolve(d):u(h,c)}}},x1=(l,n)=>(s,r,u)=>{if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new n(s,r,u)}catch(h){throw h.name==="SyntaxError"?l():h}},A1=()=>new DOMException("","DataCloneError"),Sg=l=>{const{port1:n,port2:s}=new MessageChannel;return new Promise(r=>{const u=()=>{s.onmessage=null,n.close(),s.close(),r()};s.onmessage=()=>u();try{n.postMessage(l,[l])}catch{}finally{u()}})},E1=(l,n,s,r,u,h,c,d,m,p,v)=>(_,S)=>{const T=c(_)?_:h(_);if(u.has(S)){const b=s();return Promise.reject(b)}try{u.add(S)}catch{}return n(m,()=>m(T))?T.decodeAudioData(S).then(b=>(Sg(S).catch(()=>{}),n(d,()=>d(b))||v(b),l.add(b),b)):new Promise((b,A)=>{const E=async()=>{try{await Sg(S)}catch{}},R=k=>{A(k),E()};try{T.decodeAudioData(S,k=>{typeof k.copyFromChannel!="function"&&(p(k),Ih(k)),l.add(k),E().then(()=>b(k))},k=>{R(k===null?r():k)})}catch(k){R(k)}})},w1=(l,n,s,r,u,h,c,d)=>(m,p)=>{const v=n.get(m);if(v===void 0)throw new Error("Missing the expected cycle count.");const _=h(m.context),S=d(_);if(v===p){if(n.delete(m),!S&&c(m)){const T=r(m),{outputs:b}=s(m);for(const A of b)if(tl(A)){const E=r(A[0]);l(T,E,A[1],A[2])}else{const E=u(A[0]);T.connect(E,A[1])}}}else n.set(m,v-p)},N1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},O1=(l,n,s,r,u,h,c)=>class extends l{constructor(m,p){const v=u(m),_={...N1,...p},S=r(v,_),T=h(v),b=T?s(_.maxDelayTime):null;super(m,!1,S,b),this._delayTime=n(this,T,S.delayTime),c(this,_.maxDelayTime)}get delayTime(){return this._delayTime}},C1=(l,n,s,r,u)=>h=>{const c=new WeakMap,d=async(m,p)=>{let v=s(m);const _=$e(v,p);if(!_){const S={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,delayTime:v.delayTime.value,maxDelayTime:h};v=n(p,S)}return c.set(p,v),_?await l(p,m.delayTime,v.delayTime):await r(p,m.delayTime,v.delayTime),await u(m,p,v),v};return{render(m,p){const v=c.get(p);return v!==void 0?Promise.resolve(v):d(m,p)}}},R1=l=>(n,s,r,u)=>l(n[u],h=>h[0]===s&&h[1]===r),D1=l=>(n,s)=>{l(n).delete(s)},M1=l=>"delayTime"in l,k1=(l,n,s)=>function r(u,h){const c=Vo(h)?h:s(l,h);if(M1(c))return[];if(u[0]===c)return[u];if(u.includes(c))return[];const{outputs:d}=n(c);return Array.from(d).map(m=>r([...u,c],m[0])).reduce((m,p)=>m.concat(p),[])},Eo=(l,n,s)=>{const r=n[s];if(r===void 0)throw l();return r},U1=l=>(n,s=void 0,r=void 0,u=0)=>s===void 0?n.forEach(h=>h.disconnect()):typeof s=="number"?Eo(l,n,s).disconnect():qo(s)?r===void 0?n.forEach(h=>h.disconnect(s)):u===void 0?Eo(l,n,r).disconnect(s,0):Eo(l,n,r).disconnect(s,0,u):r===void 0?n.forEach(h=>h.disconnect(s)):Eo(l,n,r).disconnect(s,0),z1={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},V1=(l,n,s,r,u,h,c,d)=>class extends l{constructor(p,v){const _=h(p),S={...z1,...v},T=r(_,S),b=c(_),A=b?s():null;super(p,!1,T,A),this._attack=n(this,b,T.attack),this._knee=n(this,b,T.knee),this._nativeDynamicsCompressorNode=T,this._ratio=n(this,b,T.ratio),this._release=n(this,b,T.release),this._threshold=n(this,b,T.threshold),d(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(p){const v=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=p,p>2)throw this._nativeDynamicsCompressorNode.channelCount=v,u()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(p){const v=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=p,p==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=v,u()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},B1=(l,n,s,r,u)=>()=>{const h=new WeakMap,c=async(d,m)=>{let p=s(d);const v=$e(p,m);if(!v){const _={attack:p.attack.value,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,knee:p.knee.value,ratio:p.ratio.value,release:p.release.value,threshold:p.threshold.value};p=n(m,_)}return h.set(m,p),v?(await l(m,d.attack,p.attack),await l(m,d.knee,p.knee),await l(m,d.ratio,p.ratio),await l(m,d.release,p.release),await l(m,d.threshold,p.threshold)):(await r(m,d.attack,p.attack),await r(m,d.knee,p.knee),await r(m,d.ratio,p.ratio),await r(m,d.release,p.release),await r(m,d.threshold,p.threshold)),await u(d,m,p),p};return{render(d,m){const p=h.get(m);return p!==void 0?Promise.resolve(p):c(d,m)}}},L1=()=>new DOMException("","EncodingError"),q1=l=>n=>new Promise((s,r)=>{if(l===null){r(new SyntaxError);return}const u=l.document.head;if(u===null)r(new SyntaxError);else{const h=l.document.createElement("script"),c=new Blob([n],{type:"application/javascript"}),d=URL.createObjectURL(c),m=l.onerror,p=()=>{l.onerror=m,URL.revokeObjectURL(d)};l.onerror=(v,_,S,T,b)=>{if(_===d||_===l.location.href&&S===1&&T===1)return p(),r(b),!1;if(m!==null)return m(v,_,S,T,b)},h.onerror=()=>{p(),r(new SyntaxError)},h.onload=()=>{p(),s()},h.src=d,h.type="module",u.appendChild(h)}}),j1=l=>class{constructor(s){this._nativeEventTarget=s,this._listeners=new WeakMap}addEventListener(s,r,u){if(r!==null){let h=this._listeners.get(r);h===void 0&&(h=l(this,r),typeof r=="function"&&this._listeners.set(r,h)),this._nativeEventTarget.addEventListener(s,h,u)}}dispatchEvent(s){return this._nativeEventTarget.dispatchEvent(s)}removeEventListener(s,r,u){const h=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(s,h===void 0?null:h,u)}},I1=l=>(n,s,r)=>{Object.defineProperties(l,{currentFrame:{configurable:!0,get(){return Math.round(n*s)}},currentTime:{configurable:!0,get(){return n}}});try{return r()}finally{l!==null&&(delete l.currentFrame,delete l.currentTime)}},H1=l=>async n=>{try{const s=await fetch(n);if(s.ok)return[await s.text(),s.url]}catch{}throw l()},G1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Y1=(l,n,s,r,u,h)=>class extends l{constructor(d,m){const p=u(d),v={...G1,...m},_=r(p,v),S=h(p),T=S?s():null;super(d,!1,_,T),this._gain=n(this,S,_.gain,nn,cn)}get gain(){return this._gain}},F1=(l,n,s,r,u)=>()=>{const h=new WeakMap,c=async(d,m)=>{let p=s(d);const v=$e(p,m);if(!v){const _={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:p.gain.value};p=n(m,_)}return h.set(m,p),v?await l(m,d.gain,p.gain):await r(m,d.gain,p.gain),await u(d,m,p),p};return{render(d,m){const p=h.get(m);return p!==void 0?Promise.resolve(p):c(d,m)}}},X1=(l,n)=>s=>n(l,s),Z1=l=>n=>{const s=l(n);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return s.renderer},Q1=l=>n=>{var s;return(s=l.get(n))!==null&&s!==void 0?s:0},P1=l=>n=>{const s=l(n);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return s.renderer},W1=l=>n=>l.get(n),Ge=()=>new DOMException("","InvalidStateError"),K1=l=>n=>{const s=l.get(n);if(s===void 0)throw Ge();return s},J1=(l,n)=>s=>{let r=l.get(s);if(r!==void 0)return r;if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new n(1,1,44100),l.set(s,r),r},$1=l=>n=>{const s=l.get(n);if(s===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return s},Zo=()=>new DOMException("","InvalidAccessError"),tT=l=>{l.getFrequencyResponse=(n=>(s,r,u)=>{if(s.length!==r.length||r.length!==u.length)throw Zo();return n.call(l,s,r,u)})(l.getFrequencyResponse)},eT={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},nT=(l,n,s,r,u,h)=>class extends l{constructor(d,m){const p=r(d),v=u(p),_={...eT,...m},S=n(p,v?null:d.baseLatency,_),T=v?s(_.feedback,_.feedforward):null;super(d,!1,S,T),tT(S),this._nativeIIRFilterNode=S,h(this,1)}getFrequencyResponse(d,m,p){return this._nativeIIRFilterNode.getFrequencyResponse(d,m,p)}},Pg=(l,n,s,r,u,h,c,d,m,p,v)=>{const _=p.length;let S=d;for(let T=0;T<_;T+=1){let b=s[0]*p[T];for(let A=1;A<u;A+=1){const E=S-A&m-1;b+=s[A]*h[E],b-=l[A]*c[E]}for(let A=u;A<r;A+=1)b+=s[A]*h[S-A&m-1];for(let A=u;A<n;A+=1)b-=l[A]*c[S-A&m-1];h[S]=p[T],c[S]=b,S=S+1&m-1,v[T]=b}return S},iT=(l,n,s,r)=>{const u=s instanceof Float64Array?s:new Float64Array(s),h=r instanceof Float64Array?r:new Float64Array(r),c=u.length,d=h.length,m=Math.min(c,d);if(u[0]!==1){for(let b=0;b<c;b+=1)h[b]/=u[0];for(let b=1;b<d;b+=1)u[b]/=u[0]}const p=32,v=new Float32Array(p),_=new Float32Array(p),S=n.createBuffer(l.numberOfChannels,l.length,l.sampleRate),T=l.numberOfChannels;for(let b=0;b<T;b+=1){const A=l.getChannelData(b),E=S.getChannelData(b);v.fill(0),_.fill(0),Pg(u,c,h,d,m,v,_,0,p,A,E)}return S},sT=(l,n,s,r,u)=>(h,c)=>{const d=new WeakMap;let m=null;const p=async(v,_)=>{let S=null,T=n(v);const b=$e(T,_);if(_.createIIRFilter===void 0?S=l(_,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):b||(T=_.createIIRFilter(c,h)),d.set(_,S===null?T:S),S!==null){if(m===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const E=new s(v.context.destination.channelCount,v.context.length,_.sampleRate);m=(async()=>{await r(v,E,E.destination);const R=await u(E);return iT(R,_,h,c)})()}const A=await m;return S.buffer=A,S.start(0),S}return await r(v,_,T),T};return{render(v,_){const S=d.get(_);return S!==void 0?Promise.resolve(S):p(v,_)}}},aT=(l,n,s,r,u,h)=>c=>(d,m)=>{const p=l.get(d);if(p===void 0){if(!c&&h(d)){const v=r(d),{outputs:_}=s(d);for(const S of _)if(tl(S)){const T=r(S[0]);n(v,T,S[1],S[2])}else{const T=u(S[0]);v.disconnect(T,S[1])}}l.set(d,m)}else l.set(d,p+m)},rT=(l,n)=>s=>{const r=l.get(s);return n(r)||n(s)},lT=(l,n)=>s=>l.has(s)||n(s),oT=(l,n)=>s=>l.has(s)||n(s),uT=(l,n)=>s=>{const r=l.get(s);return n(r)||n(s)},cT=l=>n=>l!==null&&n instanceof l,hT=l=>n=>l!==null&&typeof l.AudioNode=="function"&&n instanceof l.AudioNode,fT=l=>n=>l!==null&&typeof l.AudioParam=="function"&&n instanceof l.AudioParam,dT=(l,n)=>s=>l(s)||n(s),pT=l=>n=>l!==null&&n instanceof l,mT=l=>l!==null&&l.isSecureContext,gT=(l,n,s,r)=>class extends l{constructor(h,c){const d=s(h),m=n(d,c);if(r(d))throw TypeError();super(h,!0,m,null),this._nativeMediaElementAudioSourceNode=m}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},vT={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},_T=(l,n,s,r)=>class extends l{constructor(h,c){const d=s(h);if(r(d))throw new TypeError;const m={...vT,...c},p=n(d,m);super(h,!1,p,null),this._nativeMediaStreamAudioDestinationNode=p}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},yT=(l,n,s,r)=>class extends l{constructor(h,c){const d=s(h),m=n(d,c);if(r(d))throw new TypeError;super(h,!0,m,null),this._nativeMediaStreamAudioSourceNode=m}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},TT=(l,n,s)=>class extends l{constructor(u,h){const c=s(u),d=n(c,h);super(u,!0,d,null)}},ST=(l,n,s,r,u,h)=>class extends s{constructor(d,m){super(d),this._nativeContext=d,Fo.set(this,d),r(d)&&u.set(d,new Set),this._destination=new l(this,m),this._listener=n(this,d),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(d){const m=typeof d=="function"?h(this,d):null;this._nativeContext.onstatechange=m;const p=this._nativeContext.onstatechange;this._onstatechange=p!==null&&p===m?d:p}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Pr=l=>{const n=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const s=l.decodeAudioData(n.buffer,()=>{});return s===void 0?!1:(s.catch(()=>{}),!0)}catch{}return!1},bT=(l,n)=>(s,r,u)=>{const h=new Set;return s.connect=(c=>(d,m=0,p=0)=>{const v=h.size===0;if(n(d))return c.call(s,d,m,p),l(h,[d,m,p],_=>_[0]===d&&_[1]===m&&_[2]===p,!0),v&&r(),d;c.call(s,d,m),l(h,[d,m],_=>_[0]===d&&_[1]===m,!0),v&&r()})(s.connect),s.disconnect=(c=>(d,m,p)=>{const v=h.size>0;if(d===void 0)c.apply(s),h.clear();else if(typeof d=="number"){c.call(s,d);for(const S of h)S[1]===d&&h.delete(S)}else{n(d)?c.call(s,d,m,p):c.call(s,d,m);for(const S of h)S[0]===d&&(m===void 0||S[1]===m)&&(p===void 0||S[2]===p)&&h.delete(S)}const _=h.size===0;v&&_&&u()})(s.disconnect),s},de=(l,n,s)=>{const r=n[s];r!==void 0&&r!==l[s]&&(l[s]=r)},Be=(l,n)=>{de(l,n,"channelCount"),de(l,n,"channelCountMode"),de(l,n,"channelInterpretation")},bg=l=>typeof l.getFloatTimeDomainData=="function",xT=l=>{l.getFloatTimeDomainData=n=>{const s=new Uint8Array(n.length);l.getByteTimeDomainData(s);const r=Math.max(s.length,l.fftSize);for(let u=0;u<r;u+=1)n[u]=(s[u]-128)*.0078125;return n}},AT=(l,n)=>(s,r)=>{const u=s.createAnalyser();if(Be(u,r),!(r.maxDecibels>r.minDecibels))throw n();return de(u,r,"fftSize"),de(u,r,"maxDecibels"),de(u,r,"minDecibels"),de(u,r,"smoothingTimeConstant"),l(bg,()=>bg(u))||xT(u),u},ET=l=>l===null?null:l.hasOwnProperty("AudioBuffer")?l.AudioBuffer:null,be=(l,n,s)=>{const r=n[s];r!==void 0&&r!==l[s].value&&(l[s].value=r)},wT=l=>{l.start=(n=>{let s=!1;return(r=0,u=0,h)=>{if(s)throw Ge();n.call(l,r,u,h),s=!0}})(l.start)},Yh=l=>{l.start=(n=>(s=0,r=0,u)=>{if(typeof u=="number"&&u<0||r<0||s<0)throw new RangeError("The parameters can't be negative.");n.call(l,s,r,u)})(l.start)},Fh=l=>{l.stop=(n=>(s=0)=>{if(s<0)throw new RangeError("The parameter can't be negative.");n.call(l,s)})(l.stop)},NT=(l,n,s,r,u,h,c,d,m,p,v)=>(_,S)=>{const T=_.createBufferSource();return Be(T,S),be(T,S,"playbackRate"),de(T,S,"buffer"),de(T,S,"loop"),de(T,S,"loopEnd"),de(T,S,"loopStart"),n(s,()=>s(_))||wT(T),n(r,()=>r(_))||m(T),n(u,()=>u(_))||p(T,_),n(h,()=>h(_))||Yh(T),n(c,()=>c(_))||v(T,_),n(d,()=>d(_))||Fh(T),l(_,T),T},OT=l=>l===null?null:l.hasOwnProperty("AudioContext")?l.AudioContext:l.hasOwnProperty("webkitAudioContext")?l.webkitAudioContext:null,CT=(l,n)=>(s,r,u)=>{const h=s.destination;if(h.channelCount!==r)try{h.channelCount=r}catch{}u&&h.channelCountMode!=="explicit"&&(h.channelCountMode="explicit"),h.maxChannelCount===0&&Object.defineProperty(h,"maxChannelCount",{value:r});const c=l(s,{channelCount:r,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,gain:1});return n(c,"channelCount",d=>()=>d.call(c),d=>m=>{d.call(c,m);try{h.channelCount=m}catch(p){if(m>h.maxChannelCount)throw p}}),n(c,"channelCountMode",d=>()=>d.call(c),d=>m=>{d.call(c,m),h.channelCountMode=m}),n(c,"channelInterpretation",d=>()=>d.call(c),d=>m=>{d.call(c,m),h.channelInterpretation=m}),Object.defineProperty(c,"maxChannelCount",{get:()=>h.maxChannelCount}),c.connect(h),c},RT=l=>l===null?null:l.hasOwnProperty("AudioWorkletNode")?l.AudioWorkletNode:null,DT=l=>{const{port1:n}=new MessageChannel;try{n.postMessage(l)}finally{n.close()}},MT=(l,n,s,r,u)=>(h,c,d,m,p,v)=>{if(d!==null)try{const _=new d(h,m,v),S=new Map;let T=null;if(Object.defineProperties(_,{channelCount:{get:()=>v.channelCount,set:()=>{throw l()}},channelCountMode:{get:()=>"explicit",set:()=>{throw l()}},onprocessorerror:{get:()=>T,set:b=>{typeof T=="function"&&_.removeEventListener("processorerror",T),T=typeof b=="function"?b:null,typeof T=="function"&&_.addEventListener("processorerror",T)}}}),_.addEventListener=(b=>(...A)=>{if(A[0]==="processorerror"){const E=typeof A[1]=="function"?A[1]:typeof A[1]=="object"&&A[1]!==null&&typeof A[1].handleEvent=="function"?A[1].handleEvent:null;if(E!==null){const R=S.get(A[1]);R!==void 0?A[1]=R:(A[1]=k=>{k.type==="error"?(Object.defineProperties(k,{type:{value:"processorerror"}}),E(k)):E(new ErrorEvent(A[0],{...k}))},S.set(E,A[1]))}}return b.call(_,"error",A[1],A[2]),b.call(_,...A)})(_.addEventListener),_.removeEventListener=(b=>(...A)=>{if(A[0]==="processorerror"){const E=S.get(A[1]);E!==void 0&&(S.delete(A[1]),A[1]=E)}return b.call(_,"error",A[1],A[2]),b.call(_,A[0],A[1],A[2])})(_.removeEventListener),v.numberOfOutputs!==0){const b=s(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return _.connect(b).connect(h.destination),u(_,()=>b.disconnect(),()=>b.connect(h.destination))}return _}catch(_){throw _.code===11?r():_}if(p===void 0)throw r();return DT(v),n(h,c,p,v)},Wg=(l,n)=>l===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(l*n))))),kT=l=>new Promise((n,s)=>{const{port1:r,port2:u}=new MessageChannel;r.onmessage=({data:h})=>{r.close(),u.close(),n(h)},r.onmessageerror=({data:h})=>{r.close(),u.close(),s(h)},u.postMessage(l)}),UT=async(l,n)=>{const s=await kT(n);return new l(s)},zT=(l,n,s,r)=>{let u=Rh.get(l);u===void 0&&(u=new WeakMap,Rh.set(l,u));const h=UT(s,r);return u.set(n,h),h},VT=(l,n,s,r,u,h,c,d,m,p,v,_,S)=>(T,b,A,E)=>{if(E.numberOfInputs===0&&E.numberOfOutputs===0)throw m();const R=Array.isArray(E.outputChannelCount)?E.outputChannelCount:Array.from(E.outputChannelCount);if(R.some(dt=>dt<1))throw m();if(R.length!==E.numberOfOutputs)throw n();if(E.channelCountMode!=="explicit")throw m();const k=E.channelCount*E.numberOfInputs,q=R.reduce((dt,bt)=>dt+bt,0),P=A.parameterDescriptors===void 0?0:A.parameterDescriptors.length;if(k+P>6||q>6)throw m();const O=new MessageChannel,j=[],Y=[];for(let dt=0;dt<E.numberOfInputs;dt+=1)j.push(c(T,{channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation,gain:1})),Y.push(u(T,{channelCount:E.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:E.channelCount}));const U=[];if(A.parameterDescriptors!==void 0)for(const{defaultValue:dt,maxValue:bt,minValue:zt,name:Xt}of A.parameterDescriptors){const Rt=h(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:E.parameterData[Xt]!==void 0?E.parameterData[Xt]:dt===void 0?0:dt});Object.defineProperties(Rt.offset,{defaultValue:{get:()=>dt===void 0?0:dt},maxValue:{get:()=>bt===void 0?nn:bt},minValue:{get:()=>zt===void 0?cn:zt}}),U.push(Rt)}const st=r(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,k+P)}),it=Wg(b,T.sampleRate),tt=d(T,it,k+P,Math.max(1,q)),Q=u(T,{channelCount:Math.max(1,q),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,q)}),ft=[];for(let dt=0;dt<E.numberOfOutputs;dt+=1)ft.push(r(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:R[dt]}));for(let dt=0;dt<E.numberOfInputs;dt+=1){j[dt].connect(Y[dt]);for(let bt=0;bt<E.channelCount;bt+=1)Y[dt].connect(st,bt,dt*E.channelCount+bt)}const ht=new Zg(A.parameterDescriptors===void 0?[]:A.parameterDescriptors.map(({name:dt},bt)=>{const zt=U[bt];return zt.connect(st,0,k+bt),zt.start(0),[dt,zt.offset]}));st.connect(tt);let _t=E.channelInterpretation,D=null;const X=E.numberOfOutputs===0?[tt]:ft,lt={get bufferSize(){return it},get channelCount(){return E.channelCount},set channelCount(dt){throw s()},get channelCountMode(){return E.channelCountMode},set channelCountMode(dt){throw s()},get channelInterpretation(){return _t},set channelInterpretation(dt){for(const bt of j)bt.channelInterpretation=dt;_t=dt},get context(){return tt.context},get inputs(){return j},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get onprocessorerror(){return D},set onprocessorerror(dt){typeof D=="function"&&lt.removeEventListener("processorerror",D),D=typeof dt=="function"?dt:null,typeof D=="function"&&lt.addEventListener("processorerror",D)},get parameters(){return ht},get port(){return O.port2},addEventListener(...dt){return tt.addEventListener(dt[0],dt[1],dt[2])},connect:l.bind(null,X),disconnect:p.bind(null,X),dispatchEvent(...dt){return tt.dispatchEvent(dt[0])},removeEventListener(...dt){return tt.removeEventListener(dt[0],dt[1],dt[2])}},ct=new Map;O.port1.addEventListener=(dt=>(...bt)=>{if(bt[0]==="message"){const zt=typeof bt[1]=="function"?bt[1]:typeof bt[1]=="object"&&bt[1]!==null&&typeof bt[1].handleEvent=="function"?bt[1].handleEvent:null;if(zt!==null){const Xt=ct.get(bt[1]);Xt!==void 0?bt[1]=Xt:(bt[1]=Rt=>{v(T.currentTime,T.sampleRate,()=>zt(Rt))},ct.set(zt,bt[1]))}}return dt.call(O.port1,bt[0],bt[1],bt[2])})(O.port1.addEventListener),O.port1.removeEventListener=(dt=>(...bt)=>{if(bt[0]==="message"){const zt=ct.get(bt[1]);zt!==void 0&&(ct.delete(bt[1]),bt[1]=zt)}return dt.call(O.port1,bt[0],bt[1],bt[2])})(O.port1.removeEventListener);let x=null;Object.defineProperty(O.port1,"onmessage",{get:()=>x,set:dt=>{typeof x=="function"&&O.port1.removeEventListener("message",x),x=typeof dt=="function"?dt:null,typeof x=="function"&&(O.port1.addEventListener("message",x),O.port1.start())}}),A.prototype.port=O.port1;let I=null;zT(T,lt,A,E).then(dt=>I=dt);const nt=Io(E.numberOfInputs,E.channelCount),at=Io(E.numberOfOutputs,R),gt=A.parameterDescriptors===void 0?[]:A.parameterDescriptors.reduce((dt,{name:bt})=>({...dt,[bt]:new Float32Array(128)}),{});let vt=!0;const kt=()=>{E.numberOfOutputs>0&&tt.disconnect(Q);for(let dt=0,bt=0;dt<E.numberOfOutputs;dt+=1){const zt=ft[dt];for(let Xt=0;Xt<R[dt];Xt+=1)Q.disconnect(zt,bt+Xt,Xt);bt+=R[dt]}},ut=new Map;tt.onaudioprocess=({inputBuffer:dt,outputBuffer:bt})=>{if(I!==null){const zt=_(lt);for(let Xt=0;Xt<it;Xt+=128){for(let Rt=0;Rt<E.numberOfInputs;Rt+=1)for(let rt=0;rt<E.channelCount;rt+=1)jo(dt,nt[Rt],rt,rt,Xt);A.parameterDescriptors!==void 0&&A.parameterDescriptors.forEach(({name:Rt},rt)=>{jo(dt,gt,Rt,k+rt,Xt)});for(let Rt=0;Rt<E.numberOfInputs;Rt+=1)for(let rt=0;rt<R[Rt];rt+=1)at[Rt][rt].byteLength===0&&(at[Rt][rt]=new Float32Array(128));try{const Rt=nt.map((ot,J)=>{if(zt[J].size>0)return ut.set(J,it/128),ot;const pt=ut.get(J);return pt===void 0?[]:(ot.every(Ht=>Ht.every(Lt=>Lt===0))&&(pt===1?ut.delete(J):ut.set(J,pt-1)),ot)});vt=v(T.currentTime+Xt/T.sampleRate,T.sampleRate,()=>I.process(Rt,at,gt));for(let ot=0,J=0;ot<E.numberOfOutputs;ot+=1){for(let At=0;At<R[ot];At+=1)Qg(bt,at[ot],At,J+At,Xt);J+=R[ot]}}catch(Rt){vt=!1,lt.dispatchEvent(new ErrorEvent("processorerror",{colno:Rt.colno,filename:Rt.filename,lineno:Rt.lineno,message:Rt.message}))}if(!vt){for(let Rt=0;Rt<E.numberOfInputs;Rt+=1){j[Rt].disconnect(Y[Rt]);for(let rt=0;rt<E.channelCount;rt+=1)Y[Xt].disconnect(st,rt,Rt*E.channelCount+rt)}if(A.parameterDescriptors!==void 0){const Rt=A.parameterDescriptors.length;for(let rt=0;rt<Rt;rt+=1){const ot=U[rt];ot.disconnect(st,0,k+rt),ot.stop()}}st.disconnect(tt),tt.onaudioprocess=null,ae?kt():Ae();break}}}};let ae=!1;const ge=c(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ce=()=>tt.connect(ge).connect(T.destination),Ae=()=>{tt.disconnect(ge),ge.disconnect()},Ee=()=>{if(vt){Ae(),E.numberOfOutputs>0&&tt.connect(Q);for(let dt=0,bt=0;dt<E.numberOfOutputs;dt+=1){const zt=ft[dt];for(let Xt=0;Xt<R[dt];Xt+=1)Q.connect(zt,bt+Xt,Xt);bt+=R[dt]}}ae=!0},Wn=()=>{vt&&(Ce(),kt()),ae=!1};return Ce(),S(lt,Ee,Wn)},Kg=(l,n)=>{const s=l.createBiquadFilter();return Be(s,n),be(s,n,"Q"),be(s,n,"detune"),be(s,n,"frequency"),be(s,n,"gain"),de(s,n,"type"),s},BT=(l,n)=>(s,r)=>{const u=s.createChannelMerger(r.numberOfInputs);return l!==null&&l.name==="webkitAudioContext"&&n(s,u),Be(u,r),u},LT=l=>{const n=l.numberOfOutputs;Object.defineProperty(l,"channelCount",{get:()=>n,set:s=>{if(s!==n)throw Ge()}}),Object.defineProperty(l,"channelCountMode",{get:()=>"explicit",set:s=>{if(s!=="explicit")throw Ge()}}),Object.defineProperty(l,"channelInterpretation",{get:()=>"discrete",set:s=>{if(s!=="discrete")throw Ge()}})},el=(l,n)=>{const s=l.createChannelSplitter(n.numberOfOutputs);return Be(s,n),LT(s),s},qT=(l,n,s,r,u)=>(h,c)=>{if(h.createConstantSource===void 0)return s(h,c);const d=h.createConstantSource();return Be(d,c),be(d,c,"offset"),n(r,()=>r(h))||Yh(d),n(u,()=>u(h))||Fh(d),l(h,d),d},Ha=(l,n)=>(l.connect=n.connect.bind(n),l.disconnect=n.disconnect.bind(n),l),jT=(l,n,s,r)=>(u,{offset:h,...c})=>{const d=u.createBuffer(1,2,44100),m=n(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),p=s(u,{...c,gain:h}),v=d.getChannelData(0);v[0]=1,v[1]=1,m.buffer=d,m.loop=!0;const _={get bufferSize(){},get channelCount(){return p.channelCount},set channelCount(b){p.channelCount=b},get channelCountMode(){return p.channelCountMode},set channelCountMode(b){p.channelCountMode=b},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(b){p.channelInterpretation=b},get context(){return p.context},get inputs(){return[]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get offset(){return p.gain},get onended(){return m.onended},set onended(b){m.onended=b},addEventListener(...b){return m.addEventListener(b[0],b[1],b[2])},dispatchEvent(...b){return m.dispatchEvent(b[0])},removeEventListener(...b){return m.removeEventListener(b[0],b[1],b[2])},start(b=0){m.start.call(m,b)},stop(b=0){m.stop.call(m,b)}},S=()=>m.connect(p),T=()=>m.disconnect(p);return l(u,m),r(Ha(_,p),S,T)},IT=(l,n)=>(s,r)=>{const u=s.createConvolver();if(Be(u,r),r.disableNormalization===u.normalize&&(u.normalize=!r.disableNormalization),de(u,r,"buffer"),r.channelCount>2||(n(u,"channelCount",h=>()=>h.call(u),h=>c=>{if(c>2)throw l();return h.call(u,c)}),r.channelCountMode==="max"))throw l();return n(u,"channelCountMode",h=>()=>h.call(u),h=>c=>{if(c==="max")throw l();return h.call(u,c)}),u},Jg=(l,n)=>{const s=l.createDelay(n.maxDelayTime);return Be(s,n),be(s,n,"delayTime"),s},HT=l=>(n,s)=>{const r=n.createDynamicsCompressor();if(Be(r,s),s.channelCount>2||s.channelCountMode==="max")throw l();return be(r,s,"attack"),be(r,s,"knee"),be(r,s,"ratio"),be(r,s,"release"),be(r,s,"threshold"),r},fn=(l,n)=>{const s=l.createGain();return Be(s,n),be(s,n,"gain"),s},GT=l=>(n,s,r)=>{if(n.createIIRFilter===void 0)return l(n,s,r);const u=n.createIIRFilter(r.feedforward,r.feedback);return Be(u,r),u};function YT(l,n){const s=n[0]*n[0]+n[1]*n[1];return[(l[0]*n[0]+l[1]*n[1])/s,(l[1]*n[0]-l[0]*n[1])/s]}function FT(l,n){return[l[0]*n[0]-l[1]*n[1],l[0]*n[1]+l[1]*n[0]]}function xg(l,n){let s=[0,0];for(let r=l.length-1;r>=0;r-=1)s=FT(s,n),s[0]+=l[r];return s}const XT=(l,n,s,r)=>(u,h,{channelCount:c,channelCountMode:d,channelInterpretation:m,feedback:p,feedforward:v})=>{const _=Wg(h,u.sampleRate),S=p instanceof Float64Array?p:new Float64Array(p),T=v instanceof Float64Array?v:new Float64Array(v),b=S.length,A=T.length,E=Math.min(b,A);if(b===0||b>20)throw r();if(S[0]===0)throw n();if(A===0||A>20)throw r();if(T[0]===0)throw n();if(S[0]!==1){for(let U=0;U<A;U+=1)T[U]/=S[0];for(let U=1;U<b;U+=1)S[U]/=S[0]}const R=s(u,_,c,c);R.channelCount=c,R.channelCountMode=d,R.channelInterpretation=m;const k=32,q=[],P=[],O=[];for(let U=0;U<c;U+=1){q.push(0);const st=new Float32Array(k),it=new Float32Array(k);st.fill(0),it.fill(0),P.push(st),O.push(it)}R.onaudioprocess=U=>{const st=U.inputBuffer,it=U.outputBuffer,tt=st.numberOfChannels;for(let Q=0;Q<tt;Q+=1){const ft=st.getChannelData(Q),ht=it.getChannelData(Q);q[Q]=Pg(S,b,T,A,E,P[Q],O[Q],q[Q],k,ft,ht)}};const j=u.sampleRate/2;return Ha({get bufferSize(){return _},get channelCount(){return R.channelCount},set channelCount(U){R.channelCount=U},get channelCountMode(){return R.channelCountMode},set channelCountMode(U){R.channelCountMode=U},get channelInterpretation(){return R.channelInterpretation},set channelInterpretation(U){R.channelInterpretation=U},get context(){return R.context},get inputs(){return[R]},get numberOfInputs(){return R.numberOfInputs},get numberOfOutputs(){return R.numberOfOutputs},addEventListener(...U){return R.addEventListener(U[0],U[1],U[2])},dispatchEvent(...U){return R.dispatchEvent(U[0])},getFrequencyResponse(U,st,it){if(U.length!==st.length||st.length!==it.length)throw l();const tt=U.length;for(let Q=0;Q<tt;Q+=1){const ft=-Math.PI*(U[Q]/j),ht=[Math.cos(ft),Math.sin(ft)],_t=xg(T,ht),D=xg(S,ht),X=YT(_t,D);st[Q]=Math.sqrt(X[0]*X[0]+X[1]*X[1]),it[Q]=Math.atan2(X[1],X[0])}},removeEventListener(...U){return R.removeEventListener(U[0],U[1],U[2])}},R)},ZT=(l,n)=>l.createMediaElementSource(n.mediaElement),QT=(l,n)=>{const s=l.createMediaStreamDestination();return Be(s,n),s.numberOfOutputs===1&&Object.defineProperty(s,"numberOfOutputs",{get:()=>0}),s},PT=(l,{mediaStream:n})=>{const s=n.getAudioTracks();s.sort((h,c)=>h.id<c.id?-1:h.id>c.id?1:0);const r=s.slice(0,1),u=l.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(u,"mediaStream",{value:n}),u},WT=(l,n)=>(s,{mediaStreamTrack:r})=>{if(typeof s.createMediaStreamTrackSource=="function")return s.createMediaStreamTrackSource(r);const u=new MediaStream([r]),h=s.createMediaStreamSource(u);if(r.kind!=="audio")throw l();if(n(s))throw new TypeError;return h},KT=l=>l===null?null:l.hasOwnProperty("OfflineAudioContext")?l.OfflineAudioContext:l.hasOwnProperty("webkitOfflineAudioContext")?l.webkitOfflineAudioContext:null,JT=(l,n,s,r,u,h)=>(c,d)=>{const m=c.createOscillator();return Be(m,d),be(m,d,"detune"),be(m,d,"frequency"),d.periodicWave!==void 0?m.setPeriodicWave(d.periodicWave):de(m,d,"type"),n(s,()=>s(c))||Yh(m),n(r,()=>r(c))||h(m,c),n(u,()=>u(c))||Fh(m),l(c,m),m},$T=l=>(n,s)=>{const r=n.createPanner();return r.orientationX===void 0?l(n,s):(Be(r,s),be(r,s,"orientationX"),be(r,s,"orientationY"),be(r,s,"orientationZ"),be(r,s,"positionX"),be(r,s,"positionY"),be(r,s,"positionZ"),de(r,s,"coneInnerAngle"),de(r,s,"coneOuterAngle"),de(r,s,"coneOuterGain"),de(r,s,"distanceModel"),de(r,s,"maxDistance"),de(r,s,"panningModel"),de(r,s,"refDistance"),de(r,s,"rolloffFactor"),r)},tS=(l,n,s,r,u,h,c,d,m,p)=>(v,{coneInnerAngle:_,coneOuterAngle:S,coneOuterGain:T,distanceModel:b,maxDistance:A,orientationX:E,orientationY:R,orientationZ:k,panningModel:q,positionX:P,positionY:O,positionZ:j,refDistance:Y,rolloffFactor:U,...st})=>{const it=v.createPanner();if(st.channelCount>2||st.channelCountMode==="max")throw c();Be(it,st);const tt={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},Q=s(v,{...tt,channelInterpretation:"speakers",numberOfInputs:6}),ft=r(v,{...st,gain:1}),ht=r(v,{...tt,gain:1}),_t=r(v,{...tt,gain:0}),D=r(v,{...tt,gain:0}),X=r(v,{...tt,gain:0}),lt=r(v,{...tt,gain:0}),ct=r(v,{...tt,gain:0}),x=u(v,256,6,1),I=h(v,{...tt,curve:new Float32Array([1,1]),oversample:"none"});let Z=[E,R,k],nt=[P,O,j];const at=new Float32Array(1);x.onaudioprocess=({inputBuffer:ut})=>{const ae=[m(ut,at,0),m(ut,at,1),m(ut,at,2)];ae.some((Ce,Ae)=>Ce!==Z[Ae])&&(it.setOrientation(...ae),Z=ae);const ge=[m(ut,at,3),m(ut,at,4),m(ut,at,5)];ge.some((Ce,Ae)=>Ce!==nt[Ae])&&(it.setPosition(...ge),nt=ge)},Object.defineProperty(_t.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(X.gain,"defaultValue",{get:()=>0}),Object.defineProperty(lt.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ct.gain,"defaultValue",{get:()=>0});const gt={get bufferSize(){},get channelCount(){return it.channelCount},set channelCount(ut){if(ut>2)throw c();ft.channelCount=ut,it.channelCount=ut},get channelCountMode(){return it.channelCountMode},set channelCountMode(ut){if(ut==="max")throw c();ft.channelCountMode=ut,it.channelCountMode=ut},get channelInterpretation(){return it.channelInterpretation},set channelInterpretation(ut){ft.channelInterpretation=ut,it.channelInterpretation=ut},get coneInnerAngle(){return it.coneInnerAngle},set coneInnerAngle(ut){it.coneInnerAngle=ut},get coneOuterAngle(){return it.coneOuterAngle},set coneOuterAngle(ut){it.coneOuterAngle=ut},get coneOuterGain(){return it.coneOuterGain},set coneOuterGain(ut){if(ut<0||ut>1)throw n();it.coneOuterGain=ut},get context(){return it.context},get distanceModel(){return it.distanceModel},set distanceModel(ut){it.distanceModel=ut},get inputs(){return[ft]},get maxDistance(){return it.maxDistance},set maxDistance(ut){if(ut<0)throw new RangeError;it.maxDistance=ut},get numberOfInputs(){return it.numberOfInputs},get numberOfOutputs(){return it.numberOfOutputs},get orientationX(){return ht.gain},get orientationY(){return _t.gain},get orientationZ(){return D.gain},get panningModel(){return it.panningModel},set panningModel(ut){it.panningModel=ut},get positionX(){return X.gain},get positionY(){return lt.gain},get positionZ(){return ct.gain},get refDistance(){return it.refDistance},set refDistance(ut){if(ut<0)throw new RangeError;it.refDistance=ut},get rolloffFactor(){return it.rolloffFactor},set rolloffFactor(ut){if(ut<0)throw new RangeError;it.rolloffFactor=ut},addEventListener(...ut){return ft.addEventListener(ut[0],ut[1],ut[2])},dispatchEvent(...ut){return ft.dispatchEvent(ut[0])},removeEventListener(...ut){return ft.removeEventListener(ut[0],ut[1],ut[2])}};_!==gt.coneInnerAngle&&(gt.coneInnerAngle=_),S!==gt.coneOuterAngle&&(gt.coneOuterAngle=S),T!==gt.coneOuterGain&&(gt.coneOuterGain=T),b!==gt.distanceModel&&(gt.distanceModel=b),A!==gt.maxDistance&&(gt.maxDistance=A),E!==gt.orientationX.value&&(gt.orientationX.value=E),R!==gt.orientationY.value&&(gt.orientationY.value=R),k!==gt.orientationZ.value&&(gt.orientationZ.value=k),q!==gt.panningModel&&(gt.panningModel=q),P!==gt.positionX.value&&(gt.positionX.value=P),O!==gt.positionY.value&&(gt.positionY.value=O),j!==gt.positionZ.value&&(gt.positionZ.value=j),Y!==gt.refDistance&&(gt.refDistance=Y),U!==gt.rolloffFactor&&(gt.rolloffFactor=U),(Z[0]!==1||Z[1]!==0||Z[2]!==0)&&it.setOrientation(...Z),(nt[0]!==0||nt[1]!==0||nt[2]!==0)&&it.setPosition(...nt);const vt=()=>{ft.connect(it),l(ft,I,0,0),I.connect(ht).connect(Q,0,0),I.connect(_t).connect(Q,0,1),I.connect(D).connect(Q,0,2),I.connect(X).connect(Q,0,3),I.connect(lt).connect(Q,0,4),I.connect(ct).connect(Q,0,5),Q.connect(x).connect(v.destination)},kt=()=>{ft.disconnect(it),d(ft,I,0,0),I.disconnect(ht),ht.disconnect(Q),I.disconnect(_t),_t.disconnect(Q),I.disconnect(D),D.disconnect(Q),I.disconnect(X),X.disconnect(Q),I.disconnect(lt),lt.disconnect(Q),I.disconnect(ct),ct.disconnect(Q),Q.disconnect(x),x.disconnect(v.destination)};return p(Ha(gt,it),vt,kt)},eS=l=>(n,{disableNormalization:s,imag:r,real:u})=>{const h=r instanceof Float32Array?r:new Float32Array(r),c=u instanceof Float32Array?u:new Float32Array(u),d=n.createPeriodicWave(c,h,{disableNormalization:s});if(Array.from(r).length<2)throw l();return d},nl=(l,n,s,r)=>l.createScriptProcessor(n,s,r),nS=(l,n)=>(s,r)=>{const u=r.channelCountMode;if(u==="clamped-max")throw n();if(s.createStereoPanner===void 0)return l(s,r);const h=s.createStereoPanner();return Be(h,r),be(h,r,"pan"),Object.defineProperty(h,"channelCountMode",{get:()=>u,set:c=>{if(c!==u)throw n()}}),h},iS=(l,n,s,r,u,h)=>{const d=new Float32Array([1,1]),m=Math.PI/2,p={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},v={...p,oversample:"none"},_=(b,A,E,R)=>{const k=new Float32Array(16385),q=new Float32Array(16385);for(let st=0;st<16385;st+=1){const it=st/16384*m;k[st]=Math.cos(it),q[st]=Math.sin(it)}const P=s(b,{...p,gain:0}),O=r(b,{...v,curve:k}),j=r(b,{...v,curve:d}),Y=s(b,{...p,gain:0}),U=r(b,{...v,curve:q});return{connectGraph(){A.connect(P),A.connect(j.inputs===void 0?j:j.inputs[0]),A.connect(Y),j.connect(E),E.connect(O.inputs===void 0?O:O.inputs[0]),E.connect(U.inputs===void 0?U:U.inputs[0]),O.connect(P.gain),U.connect(Y.gain),P.connect(R,0,0),Y.connect(R,0,1)},disconnectGraph(){A.disconnect(P),A.disconnect(j.inputs===void 0?j:j.inputs[0]),A.disconnect(Y),j.disconnect(E),E.disconnect(O.inputs===void 0?O:O.inputs[0]),E.disconnect(U.inputs===void 0?U:U.inputs[0]),O.disconnect(P.gain),U.disconnect(Y.gain),P.disconnect(R,0,0),Y.disconnect(R,0,1)}}},S=(b,A,E,R)=>{const k=new Float32Array(16385),q=new Float32Array(16385),P=new Float32Array(16385),O=new Float32Array(16385),j=Math.floor(16385/2);for(let X=0;X<16385;X+=1)if(X>j){const lt=(X-j)/(16384-j)*m;k[X]=Math.cos(lt),q[X]=Math.sin(lt),P[X]=0,O[X]=1}else{const lt=X/(16384-j)*m;k[X]=1,q[X]=0,P[X]=Math.cos(lt),O[X]=Math.sin(lt)}const Y=n(b,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),U=s(b,{...p,gain:0}),st=r(b,{...v,curve:k}),it=s(b,{...p,gain:0}),tt=r(b,{...v,curve:q}),Q=r(b,{...v,curve:d}),ft=s(b,{...p,gain:0}),ht=r(b,{...v,curve:P}),_t=s(b,{...p,gain:0}),D=r(b,{...v,curve:O});return{connectGraph(){A.connect(Y),A.connect(Q.inputs===void 0?Q:Q.inputs[0]),Y.connect(U,0),Y.connect(it,0),Y.connect(ft,1),Y.connect(_t,1),Q.connect(E),E.connect(st.inputs===void 0?st:st.inputs[0]),E.connect(tt.inputs===void 0?tt:tt.inputs[0]),E.connect(ht.inputs===void 0?ht:ht.inputs[0]),E.connect(D.inputs===void 0?D:D.inputs[0]),st.connect(U.gain),tt.connect(it.gain),ht.connect(ft.gain),D.connect(_t.gain),U.connect(R,0,0),ft.connect(R,0,0),it.connect(R,0,1),_t.connect(R,0,1)},disconnectGraph(){A.disconnect(Y),A.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),Y.disconnect(U,0),Y.disconnect(it,0),Y.disconnect(ft,1),Y.disconnect(_t,1),Q.disconnect(E),E.disconnect(st.inputs===void 0?st:st.inputs[0]),E.disconnect(tt.inputs===void 0?tt:tt.inputs[0]),E.disconnect(ht.inputs===void 0?ht:ht.inputs[0]),E.disconnect(D.inputs===void 0?D:D.inputs[0]),st.disconnect(U.gain),tt.disconnect(it.gain),ht.disconnect(ft.gain),D.disconnect(_t.gain),U.disconnect(R,0,0),ft.disconnect(R,0,0),it.disconnect(R,0,1),_t.disconnect(R,0,1)}}},T=(b,A,E,R,k)=>{if(A===1)return _(b,E,R,k);if(A===2)return S(b,E,R,k);throw u()};return(b,{channelCount:A,channelCountMode:E,pan:R,...k})=>{if(E==="max")throw u();const q=l(b,{...k,channelCount:1,channelCountMode:E,numberOfInputs:2}),P=s(b,{...k,channelCount:A,channelCountMode:E,gain:1}),O=s(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:R});let{connectGraph:j,disconnectGraph:Y}=T(b,A,P,O,q);Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(O.gain,"maxValue",{get:()=>1}),Object.defineProperty(O.gain,"minValue",{get:()=>-1});const U={get bufferSize(){},get channelCount(){return P.channelCount},set channelCount(Q){P.channelCount!==Q&&(st&&Y(),{connectGraph:j,disconnectGraph:Y}=T(b,Q,P,O,q),st&&j()),P.channelCount=Q},get channelCountMode(){return P.channelCountMode},set channelCountMode(Q){if(Q==="clamped-max"||Q==="max")throw u();P.channelCountMode=Q},get channelInterpretation(){return P.channelInterpretation},set channelInterpretation(Q){P.channelInterpretation=Q},get context(){return P.context},get inputs(){return[P]},get numberOfInputs(){return P.numberOfInputs},get numberOfOutputs(){return P.numberOfOutputs},get pan(){return O.gain},addEventListener(...Q){return P.addEventListener(Q[0],Q[1],Q[2])},dispatchEvent(...Q){return P.dispatchEvent(Q[0])},removeEventListener(...Q){return P.removeEventListener(Q[0],Q[1],Q[2])}};let st=!1;const it=()=>{j(),st=!0},tt=()=>{Y(),st=!1};return h(Ha(U,q),it,tt)}},sS=(l,n,s,r,u,h,c)=>(d,m)=>{const p=d.createWaveShaper();if(h!==null&&h.name==="webkitAudioContext"&&d.createGain().gain.automationRate===void 0)return s(d,m);Be(p,m);const v=m.curve===null||m.curve instanceof Float32Array?m.curve:new Float32Array(m.curve);if(v!==null&&v.length<2)throw n();de(p,{curve:v},"curve"),de(p,m,"oversample");let _=null,S=!1;return c(p,"curve",A=>()=>A.call(p),A=>E=>(A.call(p,E),S&&(r(E)&&_===null?_=l(d,p):!r(E)&&_!==null&&(_(),_=null)),E)),u(p,()=>{S=!0,r(p.curve)&&(_=l(d,p))},()=>{S=!1,_!==null&&(_(),_=null)})},aS=(l,n,s,r,u)=>(h,{curve:c,oversample:d,...m})=>{const p=h.createWaveShaper(),v=h.createWaveShaper();Be(p,m),Be(v,m);const _=s(h,{...m,gain:1}),S=s(h,{...m,gain:-1}),T=s(h,{...m,gain:1}),b=s(h,{...m,gain:-1});let A=null,E=!1,R=null;const k={get bufferSize(){},get channelCount(){return p.channelCount},set channelCount(O){_.channelCount=O,S.channelCount=O,p.channelCount=O,T.channelCount=O,v.channelCount=O,b.channelCount=O},get channelCountMode(){return p.channelCountMode},set channelCountMode(O){_.channelCountMode=O,S.channelCountMode=O,p.channelCountMode=O,T.channelCountMode=O,v.channelCountMode=O,b.channelCountMode=O},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(O){_.channelInterpretation=O,S.channelInterpretation=O,p.channelInterpretation=O,T.channelInterpretation=O,v.channelInterpretation=O,b.channelInterpretation=O},get context(){return p.context},get curve(){return R},set curve(O){if(O!==null&&O.length<2)throw n();if(O===null)p.curve=O,v.curve=O;else{const j=O.length,Y=new Float32Array(j+2-j%2),U=new Float32Array(j+2-j%2);Y[0]=O[0],U[0]=-O[j-1];const st=Math.ceil((j+1)/2),it=(j+1)/2-1;for(let tt=1;tt<st;tt+=1){const Q=tt/st*it,ft=Math.floor(Q),ht=Math.ceil(Q);Y[tt]=ft===ht?O[ft]:(1-(Q-ft))*O[ft]+(1-(ht-Q))*O[ht],U[tt]=ft===ht?-O[j-1-ft]:-((1-(Q-ft))*O[j-1-ft])-(1-(ht-Q))*O[j-1-ht]}Y[st]=j%2===1?O[st-1]:(O[st-2]+O[st-1])/2,p.curve=Y,v.curve=U}R=O,E&&(r(R)&&A===null?A=l(h,_):A!==null&&(A(),A=null))},get inputs(){return[_]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get oversample(){return p.oversample},set oversample(O){p.oversample=O,v.oversample=O},addEventListener(...O){return _.addEventListener(O[0],O[1],O[2])},dispatchEvent(...O){return _.dispatchEvent(O[0])},removeEventListener(...O){return _.removeEventListener(O[0],O[1],O[2])}};c!==null&&(k.curve=c instanceof Float32Array?c:new Float32Array(c)),d!==k.oversample&&(k.oversample=d);const q=()=>{_.connect(p).connect(T),_.connect(S).connect(v).connect(b).connect(T),E=!0,r(R)&&(A=l(h,_))},P=()=>{_.disconnect(p),p.disconnect(T),_.disconnect(S),S.disconnect(v),v.disconnect(b),b.disconnect(T),E=!1,A!==null&&(A(),A=null)};return u(Ha(k,T),q,P)},an=()=>new DOMException("","NotSupportedError"),rS={numberOfChannels:1},lS=(l,n,s,r,u)=>class extends l{constructor(c,d,m){let p;if(typeof c=="number"&&d!==void 0&&m!==void 0)p={length:d,numberOfChannels:c,sampleRate:m};else if(typeof c=="object")p=c;else throw new Error("The given parameters are not valid.");const{length:v,numberOfChannels:_,sampleRate:S}={...rS,...p},T=r(_,v,S);n(Pr,()=>Pr(T))||T.addEventListener("statechange",(()=>{let b=0;const A=E=>{this._state==="running"&&(b>0?(T.removeEventListener("statechange",A),E.stopImmediatePropagation(),this._waitForThePromiseToSettle(E)):b+=1)};return A})()),super(T,_),this._length=v,this._nativeOfflineAudioContext=T,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(s()):(this._state="running",u(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Gg(this)}))}_waitForThePromiseToSettle(c){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(c):setTimeout(()=>this._waitForThePromiseToSettle(c))}},oS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},uS=(l,n,s,r,u,h,c)=>class extends l{constructor(m,p){const v=u(m),_={...oS,...p},S=s(v,_),T=h(v),b=T?r():null,A=m.sampleRate/2;super(m,!1,S,b),this._detune=n(this,T,S.detune,153600,-153600),this._frequency=n(this,T,S.frequency,A,-A),this._nativeOscillatorNode=S,this._onended=null,this._oscillatorNodeRenderer=b,this._oscillatorNodeRenderer!==null&&_.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=_.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(m){const p=typeof m=="function"?c(this,m):null;this._nativeOscillatorNode.onended=p;const v=this._nativeOscillatorNode.onended;this._onended=v!==null&&v===p?m:v}get type(){return this._nativeOscillatorNode.type}set type(m){this._nativeOscillatorNode.type=m,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(m){this._nativeOscillatorNode.setPeriodicWave(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=m)}start(m=0){if(this._nativeOscillatorNode.start(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=m),this.context.state!=="closed"){za(this);const p=()=>{this._nativeOscillatorNode.removeEventListener("ended",p),Ri(this)&&Jr(this)};this._nativeOscillatorNode.addEventListener("ended",p)}}stop(m=0){this._nativeOscillatorNode.stop(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=m)}},cS=(l,n,s,r,u)=>()=>{const h=new WeakMap;let c=null,d=null,m=null;const p=async(v,_)=>{let S=s(v);const T=$e(S,_);if(!T){const b={channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,detune:S.detune.value,frequency:S.frequency.value,periodicWave:c===null?void 0:c,type:S.type};S=n(_,b),d!==null&&S.start(d),m!==null&&S.stop(m)}return h.set(_,S),T?(await l(_,v.detune,S.detune),await l(_,v.frequency,S.frequency)):(await r(_,v.detune,S.detune),await r(_,v.frequency,S.frequency)),await u(v,_,S),S};return{set periodicWave(v){c=v},set start(v){d=v},set stop(v){m=v},render(v,_){const S=h.get(_);return S!==void 0?Promise.resolve(S):p(v,_)}}},hS={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},fS=(l,n,s,r,u,h,c)=>class extends l{constructor(m,p){const v=u(m),_={...hS,...p},S=s(v,_),T=h(v),b=T?r():null;super(m,!1,S,b),this._nativePannerNode=S,this._orientationX=n(this,T,S.orientationX,nn,cn),this._orientationY=n(this,T,S.orientationY,nn,cn),this._orientationZ=n(this,T,S.orientationZ,nn,cn),this._positionX=n(this,T,S.positionX,nn,cn),this._positionY=n(this,T,S.positionY,nn,cn),this._positionZ=n(this,T,S.positionZ,nn,cn),c(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(m){this._nativePannerNode.coneInnerAngle=m}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(m){this._nativePannerNode.coneOuterAngle=m}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(m){this._nativePannerNode.coneOuterGain=m}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(m){this._nativePannerNode.distanceModel=m}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(m){this._nativePannerNode.maxDistance=m}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(m){this._nativePannerNode.panningModel=m}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(m){this._nativePannerNode.refDistance=m}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(m){this._nativePannerNode.rolloffFactor=m}},dS=(l,n,s,r,u,h,c,d,m,p)=>()=>{const v=new WeakMap;let _=null;const S=async(T,b)=>{let A=null,E=h(T);const R={channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation},k={...R,coneInnerAngle:E.coneInnerAngle,coneOuterAngle:E.coneOuterAngle,coneOuterGain:E.coneOuterGain,distanceModel:E.distanceModel,maxDistance:E.maxDistance,panningModel:E.panningModel,refDistance:E.refDistance,rolloffFactor:E.rolloffFactor},q=$e(E,b);if("bufferSize"in E)A=r(b,{...R,gain:1});else if(!q){const P={...k,orientationX:E.orientationX.value,orientationY:E.orientationY.value,orientationZ:E.orientationZ.value,positionX:E.positionX.value,positionY:E.positionY.value,positionZ:E.positionZ.value};E=u(b,P)}if(v.set(b,A===null?E:A),A!==null){if(_===null){if(c===null)throw new Error("Missing the native OfflineAudioContext constructor.");const tt=new c(6,T.context.length,b.sampleRate),Q=n(tt,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});Q.connect(tt.destination),_=(async()=>{const ft=await Promise.all([T.orientationX,T.orientationY,T.orientationZ,T.positionX,T.positionY,T.positionZ].map(async(ht,_t)=>{const D=s(tt,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:_t===0?1:0});return await d(tt,ht,D.offset),D}));for(let ht=0;ht<6;ht+=1)ft[ht].connect(Q,0,ht),ft[ht].start(0);return p(tt)})()}const P=await _,O=r(b,{...R,gain:1});await m(T,b,O);const j=[];for(let tt=0;tt<P.numberOfChannels;tt+=1)j.push(P.getChannelData(tt));let Y=[j[0][0],j[1][0],j[2][0]],U=[j[3][0],j[4][0],j[5][0]],st=r(b,{...R,gain:1}),it=u(b,{...k,orientationX:Y[0],orientationY:Y[1],orientationZ:Y[2],positionX:U[0],positionY:U[1],positionZ:U[2]});O.connect(st).connect(it.inputs[0]),it.connect(A);for(let tt=128;tt<P.length;tt+=128){const Q=[j[0][tt],j[1][tt],j[2][tt]],ft=[j[3][tt],j[4][tt],j[5][tt]];if(Q.some((ht,_t)=>ht!==Y[_t])||ft.some((ht,_t)=>ht!==U[_t])){Y=Q,U=ft;const ht=tt/b.sampleRate;st.gain.setValueAtTime(0,ht),st=r(b,{...R,gain:0}),it=u(b,{...k,orientationX:Y[0],orientationY:Y[1],orientationZ:Y[2],positionX:U[0],positionY:U[1],positionZ:U[2]}),st.gain.setValueAtTime(1,ht),O.connect(st).connect(it.inputs[0]),it.connect(A)}}return A}return q?(await l(b,T.orientationX,E.orientationX),await l(b,T.orientationY,E.orientationY),await l(b,T.orientationZ,E.orientationZ),await l(b,T.positionX,E.positionX),await l(b,T.positionY,E.positionY),await l(b,T.positionZ,E.positionZ)):(await d(b,T.orientationX,E.orientationX),await d(b,T.orientationY,E.orientationY),await d(b,T.orientationZ,E.orientationZ),await d(b,T.positionX,E.positionX),await d(b,T.positionY,E.positionY),await d(b,T.positionZ,E.positionZ)),Ia(E)?await m(T,b,E.inputs[0]):await m(T,b,E),E};return{render(T,b){const A=v.get(b);return A!==void 0?Promise.resolve(A):S(T,b)}}},pS={disableNormalization:!1},mS=(l,n,s,r)=>class $g{constructor(h,c){const d=n(h),m=r({...pS,...c}),p=l(d,m);return s.add(p),p}static[Symbol.hasInstance](h){return h!==null&&typeof h=="object"&&Object.getPrototypeOf(h)===$g.prototype||s.has(h)}},gS=(l,n)=>(s,r,u)=>(l(r).replay(u),n(r,s,u)),vS=(l,n,s)=>async(r,u,h)=>{const c=l(r);await Promise.all(c.activeInputs.map((d,m)=>Array.from(d).map(async([p,v])=>{const S=await n(p).render(p,u),T=r.context.destination;!s(p)&&(r!==T||!s(r))&&S.connect(h,v,m)})).reduce((d,m)=>[...d,...m],[]))},_S=(l,n,s)=>async(r,u,h)=>{const c=n(r);await Promise.all(Array.from(c.activeInputs).map(async([d,m])=>{const v=await l(d).render(d,u);s(d)||v.connect(h,m)}))},yS=(l,n,s,r)=>u=>l(Pr,()=>Pr(u))?Promise.resolve(l(r,r)).then(h=>{if(!h){const c=s(u,512,0,1);u.oncomplete=()=>{c.onaudioprocess=null,c.disconnect()},c.onaudioprocess=()=>u.currentTime,c.connect(u.destination)}return u.startRendering()}):new Promise(h=>{const c=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});u.oncomplete=d=>{c.disconnect(),h(d.renderedBuffer)},c.connect(u.destination),u.startRendering()}),TS=l=>(n,s)=>{l.set(n,s)},SS=l=>(n,s)=>l.set(n,s),bS=(l,n,s,r,u,h,c,d)=>(m,p)=>s(m).render(m,p).then(()=>Promise.all(Array.from(r(p)).map(v=>s(v).render(v,p)))).then(()=>u(p)).then(v=>(typeof v.copyFromChannel!="function"?(c(v),Ih(v)):n(h,()=>h(v))||d(v),l.add(v),v)),xS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},AS=(l,n,s,r,u,h)=>class extends l{constructor(d,m){const p=u(d),v={...xS,...m},_=s(p,v),S=h(p),T=S?r():null;super(d,!1,_,T),this._pan=n(this,S,_.pan)}get pan(){return this._pan}},ES=(l,n,s,r,u)=>()=>{const h=new WeakMap,c=async(d,m)=>{let p=s(d);const v=$e(p,m);if(!v){const _={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,pan:p.pan.value};p=n(m,_)}return h.set(m,p),v?await l(m,d.pan,p.pan):await r(m,d.pan,p.pan),Ia(p)?await u(d,m,p.inputs[0]):await u(d,m,p),p};return{render(d,m){const p=h.get(m);return p!==void 0?Promise.resolve(p):c(d,m)}}},wS=l=>()=>{if(l===null)return!1;try{new l({length:1,sampleRate:44100})}catch{return!1}return!0},NS=(l,n)=>async()=>{if(l===null)return!0;if(n===null)return!1;const s=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new n(1,128,44100),u=URL.createObjectURL(s);let h=!1,c=!1;try{await r.audioWorklet.addModule(u);const d=new l(r,"a",{numberOfOutputs:0}),m=r.createOscillator();d.port.onmessage=()=>h=!0,d.onprocessorerror=()=>c=!0,m.connect(d),m.start(0),await r.startRendering(),await new Promise(p=>setTimeout(p))}catch{}finally{URL.revokeObjectURL(u)}return h&&!c},OS=(l,n)=>()=>{if(n===null)return Promise.resolve(!1);const s=new n(1,1,44100),r=l(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(u=>{s.oncomplete=()=>{r.disconnect(),u(s.currentTime!==0)},s.startRendering()})},CS=()=>new DOMException("","UnknownError"),RS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},DS=(l,n,s,r,u,h,c)=>class extends l{constructor(m,p){const v=u(m),_={...RS,...p},S=s(v,_),b=h(v)?r():null;super(m,!0,S,b),this._isCurveNullified=!1,this._nativeWaveShaperNode=S,c(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(m){if(m===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(m.length<2)throw n();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=m}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(m){this._nativeWaveShaperNode.oversample=m}},MS=(l,n,s)=>()=>{const r=new WeakMap,u=async(h,c)=>{let d=n(h);if(!$e(d,c)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,curve:d.curve,oversample:d.oversample};d=l(c,p)}return r.set(c,d),Ia(d)?await s(h,c,d.inputs[0]):await s(h,c,d),d};return{render(h,c){const d=r.get(c);return d!==void 0?Promise.resolve(d):u(h,c)}}},kS=()=>typeof window>"u"?null:window,US=(l,n)=>s=>{s.copyFromChannel=(r,u,h=0)=>{const c=l(h),d=l(u);if(d>=s.numberOfChannels)throw n();const m=s.length,p=s.getChannelData(d),v=r.length;for(let _=c<0?-c:0;_+c<m&&_<v;_+=1)r[_]=p[_+c]},s.copyToChannel=(r,u,h=0)=>{const c=l(h),d=l(u);if(d>=s.numberOfChannels)throw n();const m=s.length,p=s.getChannelData(d),v=r.length;for(let _=c<0?-c:0;_+c<m&&_<v;_+=1)p[_+c]=r[_]}},zS=l=>n=>{n.copyFromChannel=(s=>(r,u,h=0)=>{const c=l(h),d=l(u);if(c<n.length)return s.call(n,r,d,c)})(n.copyFromChannel),n.copyToChannel=(s=>(r,u,h=0)=>{const c=l(h),d=l(u);if(c<n.length)return s.call(n,r,d,c)})(n.copyToChannel)},VS=l=>(n,s)=>{const r=s.createBuffer(1,1,44100);n.buffer===null&&(n.buffer=r),l(n,"buffer",u=>()=>{const h=u.call(n);return h===r?null:h},u=>h=>u.call(n,h===null?r:h))},BS=(l,n)=>(s,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw l()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw l()}});const u=s.createBufferSource();n(r,()=>{const d=r.numberOfInputs;for(let m=0;m<d;m+=1)u.connect(r,0,m)},()=>u.disconnect(r))},t0=(l,n,s)=>l.copyFromChannel===void 0?l.getChannelData(s)[0]:(l.copyFromChannel(n,s),n[0]),e0=l=>{if(l===null)return!1;const n=l.length;return n%2!==0?l[Math.floor(n/2)]!==0:l[n/2-1]+l[n/2]!==0},il=(l,n,s,r)=>{let u=l;for(;!u.hasOwnProperty(n);)u=Object.getPrototypeOf(u);const{get:h,set:c}=Object.getOwnPropertyDescriptor(u,n);Object.defineProperty(l,n,{get:s(h),set:r(c)})},LS=l=>({...l,outputChannelCount:l.outputChannelCount!==void 0?l.outputChannelCount:l.numberOfInputs===1&&l.numberOfOutputs===1?[l.channelCount]:Array.from({length:l.numberOfOutputs},()=>1)}),qS=l=>({...l,channelCount:l.numberOfOutputs}),jS=l=>{const{imag:n,real:s}=l;return n===void 0?s===void 0?{...l,imag:[0,0],real:[0,0]}:{...l,imag:Array.from(s,()=>0),real:s}:s===void 0?{...l,imag:n,real:Array.from(n,()=>0)}:{...l,imag:n,real:s}},n0=(l,n,s)=>{try{l.setValueAtTime(n,s)}catch(r){if(r.code!==9)throw r;n0(l,n,s+1e-7)}},IS=l=>{const n=l.createBufferSource();n.start();try{n.start()}catch{return!0}return!1},HS=l=>{const n=l.createBufferSource(),s=l.createBuffer(1,1,44100);n.buffer=s;try{n.start(0,1)}catch{return!1}return!0},GS=l=>{const n=l.createBufferSource();n.start();try{n.stop()}catch{return!1}return!0},Xh=l=>{const n=l.createOscillator();try{n.start(-1)}catch(s){return s instanceof RangeError}return!1},i0=l=>{const n=l.createBuffer(1,1,44100),s=l.createBufferSource();s.buffer=n,s.start(),s.stop();try{return s.stop(),!0}catch{return!1}},Zh=l=>{const n=l.createOscillator();try{n.stop(-1)}catch(s){return s instanceof RangeError}return!1},YS=l=>{const{port1:n,port2:s}=new MessageChannel;try{n.postMessage(l)}finally{n.close(),s.close()}},FS=l=>{l.start=(n=>(s=0,r=0,u)=>{const h=l.buffer,c=h===null?r:Math.min(h.duration,r);h!==null&&c>h.duration-.5/l.context.sampleRate?n.call(l,s,0,0):n.call(l,s,c,u)})(l.start)},s0=(l,n)=>{const s=n.createGain();l.connect(s);const r=(u=>()=>{u.call(l,s),l.removeEventListener("ended",r)})(l.disconnect);l.addEventListener("ended",r),Ha(l,s),l.stop=(u=>{let h=!1;return(c=0)=>{if(h)try{u.call(l,c)}catch{s.gain.setValueAtTime(0,c)}else u.call(l,c),h=!0}})(l.stop)},Ga=(l,n)=>s=>{const r={value:l};return Object.defineProperties(s,{currentTarget:r,target:r}),typeof n=="function"?n.call(l,s):n.handleEvent.call(l,s)},XS=fy(Fs),ZS=_y(Fs),QS=R1(Xo),a0=new WeakMap,PS=Q1(a0),Zn=r1(new Map,new WeakMap),li=kS(),r0=AT(Zn,oi),Qh=Z1(sn),Qe=vS(sn,Qh,Hs),WS=xy(r0,ce,Qe),ue=K1(Fo),Mi=KT(li),se=pT(Mi),l0=new WeakMap,o0=j1(Ga),sl=OT(li),Ph=cT(sl),Wh=hT(li),u0=fT(li),Wr=RT(li),Oe=Qy(dy(Vg),vy(XS,ZS,Bo,QS,Lo,sn,PS,Kr,ce,Fs,Ri,Hs,Do),Zn,aT(Oh,Lo,sn,ce,Qr,Ri),oi,Zo,an,w1(Bo,Oh,sn,ce,Qr,ue,Ri,se),k1(l0,sn,Xn),o0,ue,Ph,Wh,u0,se,Wr),KS=by(Oe,WS,oi,r0,ue,se),Kh=new WeakSet,Ag=ET(li),c0=y1(new Uint32Array(1)),Jh=US(c0,oi),$h=zS(c0),h0=Ey(Kh,Zn,an,Ag,Mi,wS(Ag),Jh,$h),Qo=yy(fn),f0=_S(Qh,$r,Hs),ui=d1(f0),Ya=NT(Qo,Zn,IS,HS,GS,Xh,i0,Zh,FS,VS(il),s0),ci=gS(P1($r),f0),JS=Oy(ui,Ya,ce,ci,Qe),Qn=Py(py(Bg),l0,jh,Wy,ry,ly,oy,uy,cy,Eh,Ug,sl,n0),$S=Ny(Oe,JS,Qn,Ge,Ya,ue,se,Ga),tb=By(Oe,Ly,oi,Ge,CT(fn,il),ue,se,Qe),eb=a1(ui,Kg,ce,ci,Qe),Xs=SS(a0),nb=s1(Oe,Qn,eb,Zo,Kg,ue,se,Xs),ps=bT(Fs,Wh),ib=BS(Ge,ps),ms=BT(sl,ib),sb=u1(ms,ce,Qe),ab=o1(Oe,sb,ms,ue,se),rb=f1(el,ce,Qe),lb=h1(Oe,rb,el,ue,se,qS),ob=jT(Qo,Ya,fn,ps),Fa=qT(Qo,Zn,ob,Xh,Zh),ub=_1(ui,Fa,ce,ci,Qe),cb=v1(Oe,Qn,ub,Fa,ue,se,Ga),d0=IT(an,il),hb=b1(d0,ce,Qe),fb=S1(Oe,hb,d0,ue,se,Xs),db=C1(ui,Jg,ce,ci,Qe),pb=O1(Oe,Qn,db,Jg,ue,se,Xs),p0=HT(an),mb=B1(ui,p0,ce,ci,Qe),gb=V1(Oe,Qn,mb,p0,an,ue,se,Xs),vb=F1(ui,fn,ce,ci,Qe),_b=Y1(Oe,Qn,vb,fn,ue,se),yb=XT(Zo,Ge,nl,an),Po=yS(Zn,fn,nl,OS(fn,Mi)),Tb=sT(Ya,ce,Mi,Qe,Po),Sb=GT(yb),bb=nT(Oe,Sb,Tb,ue,se,Xs),xb=qy(Qn,ms,Fa,nl,an,t0,se,il),m0=new WeakMap,Ab=ST(tb,xb,o0,se,m0,Ga),g0=JT(Qo,Zn,Xh,i0,Zh,s0),Eb=cS(ui,g0,ce,ci,Qe),wb=uS(Oe,Qn,g0,Eb,ue,se,Ga),v0=m1(Ya),Nb=aS(v0,Ge,fn,e0,ps),Wo=sS(v0,Ge,Nb,e0,ps,sl,il),Ob=tS(Bo,Ge,ms,fn,nl,Wo,an,Lo,t0,ps),_0=$T(Ob),Cb=dS(ui,ms,Fa,fn,_0,ce,Mi,ci,Qe,Po),Rb=fS(Oe,Qn,_0,Cb,ue,se,Xs),Db=eS(oi),Mb=mS(Db,ue,new WeakSet,jS),kb=iS(ms,el,fn,Wo,an,ps),y0=nS(kb,an),Ub=ES(ui,y0,ce,ci,Qe),zb=AS(Oe,Qn,y0,Ub,ue,se),Vb=MS(Wo,ce,Qe),Bb=DS(Oe,Ge,Wo,Vb,ue,se,Xs),T0=mT(li),tf=I1(li),S0=new WeakMap,Lb=J1(S0,Mi),qb=T0?gy(Zn,an,q1(li),tf,H1(hy),ue,Lb,se,Wr,new WeakMap,new WeakMap,NS(Wr,Mi),li):void 0,jb=dT(Ph,se),Ib=E1(Kh,Zn,A1,L1,new WeakSet,ue,jb,zo,Pr,Jh,$h),b0=n1(qb,KS,h0,$S,nb,ab,lb,cb,fb,Ib,pb,gb,_b,bb,Ab,wb,Rb,Mb,zb,Bb),Hb=gT(Oe,ZT,ue,se),Gb=_T(Oe,QT,ue,se),Yb=yT(Oe,PT,ue,se),Fb=WT(Ge,se),Xb=TT(Oe,Fb,ue),Zb=Vy(b0,Ge,an,CS,Hb,Gb,Yb,Xb,sl),ef=$1(m0),Qb=Ty(ef),x0=p1(oi),Pb=D1(ef),A0=U1(oi),E0=new WeakMap,Wb=X1(E0,Xn),Kb=VT(x0,oi,Ge,ms,el,Fa,fn,nl,an,A0,tf,Wb,ps),Jb=MT(Ge,Kb,fn,an,ps),$b=e1(ui,x0,Ya,ms,el,Fa,fn,Pb,A0,tf,ce,Wr,Mi,ci,Qe,Po),tx=W1(S0),ex=TS(E0),Eg=T0?Jy(Qb,Oe,Qn,$b,Jb,sn,tx,ue,se,Wr,LS,ex,YS,Ga):void 0,nx=x1(an,Mi),ix=bS(Kh,Zn,Qh,ef,Po,zo,Jh,$h),sx=lS(b0,Zn,Ge,nx,ix),ax=rT(Fo,Ph),rx=lT(qh,Wh),lx=oT(jh,u0),ox=uT(Fo,se);function Vn(l){return l===void 0}function Gt(l){return l!==void 0}function ux(l){return typeof l=="function"}function cs(l){return typeof l=="number"}function js(l){return Object.prototype.toString.call(l)==="[object Object]"&&l.constructor===Object}function cx(l){return typeof l=="boolean"}function An(l){return Array.isArray(l)}function Di(l){return typeof l=="string"}function wo(l){return Di(l)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(l)}function Ct(l,n){if(!l)throw new Error(n)}function hs(l,n,s=1/0){if(!(n<=l&&l<=s))throw new RangeError(`Value must be within [${n}, ${s}], got: ${l}`)}function w0(l){!l.isOffline&&l.state!=="running"&&Ko('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let N0=!1,wg=!1;function Ng(l){N0=l}function hx(l){Vn(l)&&N0&&!wg&&(wg=!0,Ko("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let O0=console;function fx(...l){O0.log(...l)}function Ko(...l){O0.warn(...l)}function dx(l){return new Zb(l)}function px(l,n,s){return new sx(l,n,s)}const bn=typeof self=="object"?self:null,mx=bn&&(bn.hasOwnProperty("AudioContext")||bn.hasOwnProperty("webkitAudioContext"));function gx(l,n,s){return Ct(Gt(Eg),"AudioWorkletNode only works in a secure context (https or localhost)"),new(l instanceof bn?.BaseAudioContext?bn?.AudioWorkletNode:Eg)(l,n,s)}function Pn(l,n,s,r){var u=arguments.length,h=u<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,s):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(l,n,s,r);else for(var d=l.length-1;d>=0;d--)(c=l[d])&&(h=(u<3?c(h):u>3?c(n,s,h):c(n,s))||h);return u>3&&h&&Object.defineProperty(n,s,h),h}function Ue(l,n,s,r){function u(h){return h instanceof s?h:new s(function(c){c(h)})}return new(s||(s=Promise))(function(h,c){function d(v){try{p(r.next(v))}catch(_){c(_)}}function m(v){try{p(r.throw(v))}catch(_){c(_)}}function p(v){v.done?h(v.value):u(v.value).then(d,m)}p((r=r.apply(l,n||[])).next())})}class vx{constructor(n,s,r,u){this._callback=n,this._type=s,this._minimumUpdateInterval=Math.max(128/(u||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const n=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),s=URL.createObjectURL(n),r=new Worker(s);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(n){var s;this._updateInterval=Math.max(n,this._minimumUpdateInterval),this._type==="worker"&&((s=this._worker)===null||s===void 0||s.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(n){this._disposeClock(),this._type=n,this._createClock()}dispose(){this._disposeClock()}}function Gs(l){return lx(l)}function us(l){return rx(l)}function Mo(l){return ox(l)}function Oa(l){return ax(l)}function _x(l){return l instanceof h0}function yx(l,n){return l==="value"||Gs(n)||us(n)||_x(n)}function Is(l,...n){if(!n.length)return l;const s=n.shift();if(js(l)&&js(s))for(const r in s)yx(r,s[r])?l[r]=s[r]:js(s[r])?(l[r]||Object.assign(l,{[r]:{}}),Is(l[r],s[r])):Object.assign(l,{[r]:s[r]});return Is(l,...n)}function Tx(l,n){return l.length===n.length&&l.every((s,r)=>n[r]===s)}function Mt(l,n,s=[],r){const u={},h=Array.from(n);if(js(h[0])&&r&&!Reflect.has(h[0],r)&&(Object.keys(h[0]).some(d=>Reflect.has(l,d))||(Is(u,{[r]:h[0]}),s.splice(s.indexOf(r),1),h.shift())),h.length===1&&js(h[0]))Is(u,h[0]);else for(let c=0;c<s.length;c++)Gt(h[c])&&(u[s[c]]=h[c]);return Is(l,u)}function Sx(l){return l.constructor.getDefaults()}function ka(l,n){return Vn(l)?n:l}function kh(l,n){return n.forEach(s=>{Reflect.has(l,s)&&delete l[s]}),l}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class ki{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...n){(this.debug||bn&&this.toString()===bn.TONE_DEBUG_CLASS)&&fx(this,...n)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}ki.version=kg;const nf=1e-6;function Va(l,n){return l>n+nf}function Uh(l,n){return Va(l,n)||Gn(l,n)}function Ho(l,n){return l+nf<n}function Gn(l,n){return Math.abs(l-n)<nf}function bx(l,n,s){return Math.max(Math.min(l,s),n)}class Bn extends ki{constructor(){super(),this.name="Timeline",this._timeline=[];const n=Mt(Bn.getDefaults(),arguments,["memory"]);this.memory=n.memory,this.increasing=n.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(n){if(Ct(Reflect.has(n,"time"),"Timeline: events must have a time attribute"),n.time=n.time.valueOf(),this.increasing&&this.length){const s=this._timeline[this.length-1];Ct(Uh(n.time,s.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(n)}else{const s=this._search(n.time);this._timeline.splice(s+1,0,n)}if(this.length>this.memory){const s=this.length-this.memory;this._timeline.splice(0,s)}return this}remove(n){const s=this._timeline.indexOf(n);return s!==-1&&this._timeline.splice(s,1),this}get(n,s="time"){const r=this._search(n,s);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(n,s="time"){const r=this._search(n,s);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(n){const s=this._timeline.length;if(s>0&&this._timeline[s-1].time<n)return this._timeline[s-1];const r=this._search(n);return r-1>=0?this._timeline[r-1]:null}cancel(n){if(this._timeline.length>1){let s=this._search(n);if(s>=0)if(Gn(this._timeline[s].time,n)){for(let r=s;r>=0&&Gn(this._timeline[r].time,n);r--)s=r;this._timeline=this._timeline.slice(0,s)}else this._timeline=this._timeline.slice(0,s+1);else this._timeline=[]}else this._timeline.length===1&&Uh(this._timeline[0].time,n)&&(this._timeline=[]);return this}cancelBefore(n){const s=this._search(n);return s>=0&&(this._timeline=this._timeline.slice(s+1)),this}previousEvent(n){const s=this._timeline.indexOf(n);return s>0?this._timeline[s-1]:null}_search(n,s="time"){if(this._timeline.length===0)return-1;let r=0;const u=this._timeline.length;let h=u;if(u>0&&this._timeline[u-1][s]<=n)return u-1;for(;r<h;){let c=Math.floor(r+(h-r)/2);const d=this._timeline[c],m=this._timeline[c+1];if(Gn(d[s],n)){for(let p=c;p<this._timeline.length;p++){const v=this._timeline[p];if(Gn(v[s],n))c=p;else break}return c}else{if(Ho(d[s],n)&&Va(m[s],n))return c;Va(d[s],n)?h=c:r=c+1}}return-1}_iterate(n,s=0,r=this._timeline.length-1){this._timeline.slice(s,r+1).forEach(n)}forEach(n){return this._iterate(n),this}forEachBefore(n,s){const r=this._search(n);return r!==-1&&this._iterate(s,0,r),this}forEachAfter(n,s){const r=this._search(n);return this._iterate(s,r+1),this}forEachBetween(n,s,r){let u=this._search(n),h=this._search(s);return u!==-1&&h!==-1?(this._timeline[u].time!==n&&(u+=1),this._timeline[h].time===s&&(h-=1),this._iterate(r,u,h)):u===-1&&this._iterate(r,0,h),this}forEachFrom(n,s){let r=this._search(n);for(;r>=0&&this._timeline[r].time>=n;)r--;return this._iterate(s,r+1),this}forEachAtTime(n,s){const r=this._search(n);if(r!==-1&&Gn(this._timeline[r].time,n)){let u=r;for(let h=r;h>=0&&Gn(this._timeline[h].time,n);h--)u=h;this._iterate(h=>{s(h)},u,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const C0=[];function Jo(l){C0.push(l)}function xx(l){C0.forEach(n=>n(l))}const R0=[];function $o(l){R0.push(l)}function Ax(l){R0.forEach(n=>n(l))}class al extends ki{constructor(){super(...arguments),this.name="Emitter"}on(n,s){return n.split(/\W+/).forEach(u=>{Vn(this._events)&&(this._events={}),this._events.hasOwnProperty(u)||(this._events[u]=[]),this._events[u].push(s)}),this}once(n,s){const r=(...u)=>{s(...u),this.off(n,r)};return this.on(n,r),this}off(n,s){return n.split(/\W+/).forEach(u=>{if(Vn(this._events)&&(this._events={}),this._events.hasOwnProperty(u))if(Vn(s))this._events[u]=[];else{const h=this._events[u];for(let c=h.length-1;c>=0;c--)h[c]===s&&h.splice(c,1)}}),this}emit(n,...s){if(this._events&&this._events.hasOwnProperty(n)){const r=this._events[n].slice(0);for(let u=0,h=r.length;u<h;u++)r[u].apply(this,s)}return this}static mixin(n){["on","once","off","emit"].forEach(s=>{const r=Object.getOwnPropertyDescriptor(al.prototype,s);Object.defineProperty(n.prototype,s,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class D0 extends al{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class rl extends D0{constructor(){var n,s;super(),this.name="Context",this._constants=new Map,this._timeouts=new Bn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=Mt(rl.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((n=arguments[0])===null||n===void 0?void 0:n.latencyHint)||""):(this._context=dx({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new vx(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((s=arguments[0])===null||s===void 0)&&s.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(xx(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(n,s,r){return this._context.createBuffer(n,s,r)}createChannelMerger(n){return this._context.createChannelMerger(n)}createChannelSplitter(n){return this._context.createChannelSplitter(n)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(n){return this._context.createDelay(n)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(n,s){return this._context.createIIRFilter(n,s)}createPanner(){return this._context.createPanner()}createPeriodicWave(n,s,r){return this._context.createPeriodicWave(n,s,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(n){return Ct(Oa(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(n)}createMediaElementSource(n){return Ct(Oa(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(n)}createMediaStreamDestination(){return Ct(Oa(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(n){return this._context.decodeAudioData(n)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(n){Ct(!this._initialized,"The listener cannot be set after initialization."),this._listener=n}get transport(){return this.initialize(),this._transport}set transport(n){Ct(!this._initialized,"The transport cannot be set after initialization."),this._transport=n}get draw(){return this.initialize(),this._draw}set draw(n){Ct(!this._initialized,"Draw cannot be set after initialization."),this._draw=n}get destination(){return this.initialize(),this._destination}set destination(n){Ct(!this._initialized,"The destination cannot be set after initialization."),this._destination=n}createAudioWorkletNode(n,s){return gx(this.rawContext,n,s)}addAudioWorkletModule(n){return Ue(this,void 0,void 0,function*(){Ct(Gt(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(n)),yield this._workletPromise})}workletsAreReady(){return Ue(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(n){this._ticker.updateInterval=n}get clockSource(){return this._ticker.type}set clockSource(n){this._ticker.type=n}get lookAhead(){return this._lookAhead}set lookAhead(n){this._lookAhead=n,this.updateInterval=n?n/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Oa(this._context)?this._context.resume():Promise.resolve()}close(){return Ue(this,void 0,void 0,function*(){Oa(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&Ax(this)})}getConstant(n){if(this._constants.has(n))return this._constants.get(n);{const s=this._context.createBuffer(1,128,this._context.sampleRate),r=s.getChannelData(0);for(let h=0;h<r.length;h++)r[h]=n;const u=this._context.createBufferSource();return u.channelCount=1,u.channelCountMode="explicit",u.buffer=s,u.loop=!0,u.start(0),this._constants.set(n,u),u}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(n=>this._constants[n].disconnect()),this.close(),this}_timeoutLoop(){const n=this.now();this._timeouts.forEachBefore(n,s=>{s.callback(),this._timeouts.remove(s)})}setTimeout(n,s){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:n,id:this._timeoutIds,time:r+s}),this._timeoutIds}clearTimeout(n){return this._timeouts.forEach(s=>{s.id===n&&this._timeouts.remove(s)}),this}clearInterval(n){return this.clearTimeout(n)}setInterval(n,s){const r=++this._timeoutIds,u=()=>{const h=this.now();this._timeouts.add({callback:()=>{n(),u()},id:r,time:h+s})};return u(),r}}class Ex extends D0{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(n,s,r){return{}}createChannelMerger(n){return{}}createChannelSplitter(n){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(n){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(n,s){return{}}createPanner(){return{}}createPeriodicWave(n,s,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(n){return{}}createMediaElementSource(n){return{}}createMediaStreamDestination(){return{}}decodeAudioData(n){return Promise.resolve({})}createAudioWorkletNode(n,s){return{}}get rawContext(){return{}}addAudioWorkletModule(n){return Ue(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(n,s){return 0}clearTimeout(n){return this}setInterval(n,s){return 0}clearInterval(n){return this}getConstant(n){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(n){}get destination(){return{}}set destination(n){}now(){return 0}immediate(){return 0}}function xe(l,n){An(n)?n.forEach(s=>xe(l,s)):Object.defineProperty(l,n,{enumerable:!0,writable:!1})}function M0(l,n){An(n)?n.forEach(s=>M0(l,s)):Object.defineProperty(l,n,{writable:!0})}const ie=()=>{};class fe extends ki{constructor(){super(),this.name="ToneAudioBuffer",this.onload=ie;const n=Mt(fe.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=n.reverse,this.onload=n.onload,Di(n.url)?this.load(n.url).catch(n.onerror):n.url&&this.set(n.url)}static getDefaults(){return{onerror:ie,onload:ie,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Yn().sampleRate}set(n){return n instanceof fe?n.loaded?this._buffer=n.get():n.onload=()=>{this.set(n),this.onload(this)}:this._buffer=n,this._reversed&&this._reverse(),this}get(){return this._buffer}load(n){return Ue(this,void 0,void 0,function*(){const s=fe.load(n).then(r=>{this.set(r),this.onload(this)});fe.downloads.push(s);try{yield s}finally{const r=fe.downloads.indexOf(s);fe.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(n){const s=An(n)&&n[0].length>0,r=s?n.length:1,u=s?n[0].length:n.length,h=Yn(),c=h.createBuffer(r,u,h.sampleRate),d=!s&&r===1?[n]:n;for(let m=0;m<r;m++)c.copyToChannel(d[m],m);return this._buffer=c,this}toMono(n){if(cs(n))this.fromArray(this.toArray(n));else{let s=new Float32Array(this.length);const r=this.numberOfChannels;for(let u=0;u<r;u++){const h=this.toArray(u);for(let c=0;c<h.length;c++)s[c]+=h[c]}s=s.map(u=>u/r),this.fromArray(s)}return this}toArray(n){if(cs(n))return this.getChannelData(n);if(this.numberOfChannels===1)return this.toArray(0);{const s=[];for(let r=0;r<this.numberOfChannels;r++)s[r]=this.getChannelData(r);return s}}getChannelData(n){return this._buffer?this._buffer.getChannelData(n):new Float32Array(0)}slice(n,s=this.duration){Ct(this.loaded,"Buffer is not loaded");const r=Math.floor(n*this.sampleRate),u=Math.floor(s*this.sampleRate);Ct(r<u,"The start time must be less than the end time");const h=u-r,c=Yn().createBuffer(this.numberOfChannels,h,this.sampleRate);for(let d=0;d<this.numberOfChannels;d++)c.copyToChannel(this.getChannelData(d).subarray(r,u),d);return new fe(c)}_reverse(){if(this.loaded)for(let n=0;n<this.numberOfChannels;n++)this.getChannelData(n).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(n){this._reversed!==n&&(this._reversed=n,this._reverse())}static fromArray(n){return new fe().fromArray(n)}static fromUrl(n){return Ue(this,void 0,void 0,function*(){return yield new fe().load(n)})}static load(n){return Ue(this,void 0,void 0,function*(){const s=fe.baseUrl===""||fe.baseUrl.endsWith("/")?fe.baseUrl:fe.baseUrl+"/",r=yield fetch(s+n);if(!r.ok)throw new Error(`could not load url: ${n}`);const u=yield r.arrayBuffer();return yield Yn().decodeAudioData(u)})}static supportsType(n){const s=n.split("."),r=s[s.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Ue(this,void 0,void 0,function*(){for(yield Promise.resolve();fe.downloads.length;)yield fe.downloads[0]})}}fe.baseUrl="";fe.downloads=[];class sf extends rl{constructor(){super({clockSource:"offline",context:Mo(arguments[0])?arguments[0]:px(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Mo(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Mo(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(n){return Ue(this,void 0,void 0,function*(){let s=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,s++;const r=Math.floor(this.sampleRate/128);n&&s%r===0&&(yield new Promise(u=>setTimeout(u,1)))}})}render(){return Ue(this,arguments,void 0,function*(n=!0){yield this.workletsAreReady(),yield this._renderClock(n);const s=yield this._context.startRendering();return new fe(s)})}close(){return Promise.resolve()}}const k0=new Ex;let Ls=k0;function Yn(){return Ls===k0&&mx&&wx(new rl),Ls}function wx(l,n=!1){n&&Ls.dispose(),Oa(l)?Ls=new rl(l):Mo(l)?Ls=new sf(l):Ls=l}function Nx(){return Ls.resume()}if(bn&&!bn.TONE_SILENCE_LOGGING){const n=` * Tone.js v${kg} * `;console.log(`%c${n}`,"background: #000; color: #fff")}function Ox(l){return Math.pow(10,l/20)}function Cx(l){return 20*(Math.log(l)/Math.LN10)}function U0(l){return Math.pow(2,l/12)}let tu=440;function Rx(){return tu}function Dx(l){tu=l}function qs(l){return Math.round(z0(l))}function z0(l){return 69+12*Math.log2(l/tu)}function V0(l){return tu*Math.pow(2,(l-69)/12)}class af extends ki{constructor(n,s,r){super(),this.defaultUnits="s",this._val=s,this._units=r,this.context=n,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:n=>this._frequencyToUnits(parseFloat(n)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:n=>this._ticksToUnits(parseInt(n,10)),regexp:/^(\d+)i$/i},m:{method:n=>this._beatsToUnits(parseInt(n,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(n,s)=>{const r=parseInt(n,10),u=s==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*u:this._beatsToUnits(4/r)*u},regexp:/^(\d+)n(\.?)$/i},number:{method:n=>this._expressions[this.defaultUnits].method.call(this,n),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:n=>this._secondsToUnits(parseFloat(n)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:n=>parseInt(n,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:n=>{const s=parseInt(n,10);return this._beatsToUnits(8/(Math.floor(s)*3))},regexp:/^(\d+)t$/i},tr:{method:(n,s,r)=>{let u=0;return n&&n!=="0"&&(u+=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),s&&s!=="0"&&(u+=this._beatsToUnits(parseFloat(s))),r&&r!=="0"&&(u+=this._beatsToUnits(parseFloat(r)/4)),u},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof af&&this.fromType(this._val),Vn(this._val))return this._noArg();if(Di(this._val)&&Vn(this._units)){for(const n in this._expressions)if(this._expressions[n].regexp.test(this._val.trim())){this._units=n;break}}else if(js(this._val)){let n=0;for(const s in this._val)if(Gt(this._val[s])){const r=this._val[s],u=new this.constructor(this.context,s).valueOf()*r;n+=u}return n}if(Gt(this._units)){const n=this._expressions[this._units],s=this._val.toString().trim().match(n.regexp);return s?n.method.apply(this,s.slice(1)):n.method.call(this,this._val)}else return Di(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(n){return 1/n}_beatsToUnits(n){return 60/this._getBpm()*n}_secondsToUnits(n){return n}_ticksToUnits(n){return n*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(n){switch(this._units=void 0,this.defaultUnits){case"s":this._val=n.toSeconds();break;case"i":this._val=n.toTicks();break;case"hz":this._val=n.toFrequency();break;case"midi":this._val=n.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Fn extends af{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:n=>this._now()+new this.constructor(this.context,n).valueOf(),regexp:/^\+(.+)/},quantize:{method:n=>{const s=new Fn(this.context,n).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(s))},regexp:/^@(.+)/}})}quantize(n,s=1){const r=new this.constructor(this.context,n).valueOf(),u=this.valueOf(),d=Math.round(u/r)*r-u;return u+d*s}toNotation(){const n=this.toSeconds(),s=["1m"];for(let h=1;h<9;h++){const c=Math.pow(2,h);s.push(c+"n."),s.push(c+"n"),s.push(c+"t")}s.push("0");let r=s[0],u=new Fn(this.context,s[0]).toSeconds();return s.forEach(h=>{const c=new Fn(this.context,h).toSeconds();Math.abs(c-n)<Math.abs(u-n)&&(r=h,u=c)}),r}toBarsBeatsSixteenths(){const n=this._beatsToUnits(1);let s=this.valueOf()/n;s=parseFloat(s.toFixed(4));const r=Math.floor(s/this._getTimeSignature());let u=s%1*4;s=Math.floor(s)%this._getTimeSignature();const h=u.toString();return h.length>3&&(u=parseFloat(parseFloat(h).toFixed(3))),[r,s,u].join(":")}toTicks(){const n=this._beatsToUnits(1);return this.valueOf()/n*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return qs(this.toFrequency())}_now(){return this.context.now()}}class xn extends Fn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Rx()}static set A4(n){Dx(n)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(n){return this.defaultUnits==="midi"?n:xn.mtof(n)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(n,s){const u=Mx[n.toLowerCase()]+(parseInt(s,10)+1)*12;return this.defaultUnits==="midi"?u:xn.mtof(u)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(n,s,r){let u=1;return n&&n!=="0"&&(u*=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),s&&s!=="0"&&(u*=this._beatsToUnits(parseFloat(s))),r&&r!=="0"&&(u*=this._beatsToUnits(parseFloat(r)/4)),u}}})}transpose(n){return new xn(this.context,this.valueOf()*U0(n))}harmonize(n){return n.map(s=>this.transpose(s))}toMidi(){return qs(this.valueOf())}toNote(){const n=this.toFrequency(),s=Math.log2(n/xn.A4);let r=Math.round(12*s)+57;const u=Math.floor(r/12);return u<0&&(r+=-12*u),kx[r%12]+u.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const n=this._beatsToUnits(1),s=this.valueOf()/n;return Math.floor(s*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(n){return n}_ticksToUnits(n){return 1/(n*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(n){return 1/super._beatsToUnits(n)}_secondsToUnits(n){return 1/n}static mtof(n){return V0(n)}static ftom(n){return qs(n)}}const Mx={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},kx=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Zr extends Fn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class hn extends ki{constructor(){super();const n=Mt(hn.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=n.context}static getDefaults(){return{context:Yn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(n){return hx(n),new Fn(this.context,n).toSeconds()}toFrequency(n){return new xn(this.context,n).toFrequency()}toTicks(n){return new Zr(this.context,n).toTicks()}_getPartialProperties(n){const s=this.get();return Object.keys(s).forEach(r=>{Vn(n[r])&&delete s[r]}),s}get(){const n=Sx(this);return Object.keys(n).forEach(s=>{if(Reflect.has(this,s)){const r=this[s];Gt(r)&&Gt(r.value)&&Gt(r.setValueAtTime)?n[s]=r.value:r instanceof hn?n[s]=r._getPartialProperties(n[s]):An(r)||cs(r)||Di(r)||cx(r)?n[s]=r:delete n[s]}}),n}set(n){return Object.keys(n).forEach(s=>{Reflect.has(this,s)&&Gt(this[s])&&(this[s]&&Gt(this[s].value)&&Gt(this[s].setValueAtTime)?this[s].value!==n[s]&&(this[s].value=n[s]):this[s]instanceof hn?this[s].set(n[s]):this[s]=n[s])}),this}}class rf extends Bn{constructor(n="stopped"){super(),this.name="StateTimeline",this._initial=n,this.setStateAtTime(this._initial,0)}getValueAtTime(n){const s=this.get(n);return s!==null?s.state:this._initial}setStateAtTime(n,s,r){return hs(s,0),this.add(Object.assign({},r,{state:n,time:s})),this}getLastState(n,s){const r=this._search(s);for(let u=r;u>=0;u--){const h=this._timeline[u];if(h.state===n)return h}}getNextState(n,s){const r=this._search(s);if(r!==-1)for(let u=r;u<this._timeline.length;u++){const h=this._timeline[u];if(h.state===n)return h}}}class me extends hn{constructor(){const n=Mt(me.getDefaults(),arguments,["param","units","convert"]);for(super(n),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Ct(Gt(n.param)&&(Gs(n.param)||n.param instanceof me),"param must be an AudioParam");!Gs(n.param);)n.param=n.param._param;this._swappable=Gt(n.swappable)?n.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=n.param,this.input.connect(this._param)):this._param=this.input=n.param,this._events=new Bn(1e3),this._initialValue=this._param.defaultValue,this.units=n.units,this.convert=n.convert,this._minValue=n.minValue,this._maxValue=n.maxValue,Gt(n.value)&&n.value!==this._toType(this._initialValue)&&this.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(hn.getDefaults(),{convert:!0,units:"number"})}get value(){const n=this.now();return this.getValueAtTime(n)}set value(n){this.cancelScheduledValues(this.now()),this.setValueAtTime(n,this.now())}get minValue(){return Gt(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Gt(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(n,s){return this.units===s}_assertRange(n){return Gt(this.maxValue)&&Gt(this.minValue)&&hs(n,this._fromType(this.minValue),this._fromType(this.maxValue)),n}_fromType(n){return this.convert&&!this.overridden?this._is(n,"time")?this.toSeconds(n):this._is(n,"decibels")?Ox(n):this._is(n,"frequency")?this.toFrequency(n):n:this.overridden?0:n}_toType(n){return this.convert&&this.units==="decibels"?Cx(n):n}setValueAtTime(n,s){const r=this.toSeconds(s),u=this._fromType(n);return Ct(isFinite(u)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._assertRange(u),this.log(this.units,"setValueAtTime",n,r),this._events.add({time:r,type:"setValueAtTime",value:u}),this._param.setValueAtTime(u,r),this}getValueAtTime(n){const s=Math.max(this.toSeconds(n),0),r=this._events.getAfter(s),u=this._events.get(s);let h=this._initialValue;if(u===null)h=this._initialValue;else if(u.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const c=this._events.getBefore(u.time);let d;c===null?d=this._initialValue:d=c.value,u.type==="setTargetAtTime"&&(h=this._exponentialApproach(u.time,d,u.value,u.constant,s))}else if(r===null)h=u.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let c=u.value;if(u.type==="setTargetAtTime"){const d=this._events.getBefore(u.time);d===null?c=this._initialValue:c=d.value}r.type==="linearRampToValueAtTime"?h=this._linearInterpolate(u.time,c,r.time,r.value,s):h=this._exponentialInterpolate(u.time,c,r.time,r.value,s)}else h=u.value;return this._toType(h)}setRampPoint(n){n=this.toSeconds(n);let s=this.getValueAtTime(n);return this.cancelAndHoldAtTime(n),this._fromType(s)===0&&(s=this._toType(this._minOutput)),this.setValueAtTime(s,n),this}linearRampToValueAtTime(n,s){const r=this._fromType(n),u=this.toSeconds(s);return Ct(isFinite(r)&&isFinite(u),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._assertRange(r),this._events.add({time:u,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",n,u),this._param.linearRampToValueAtTime(r,u),this}exponentialRampToValueAtTime(n,s){let r=this._fromType(n);r=Gn(r,0)?this._minOutput:r,this._assertRange(r);const u=this.toSeconds(s);return Ct(isFinite(r)&&isFinite(u),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._events.add({time:u,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",n,u),this._param.exponentialRampToValueAtTime(r,u),this}exponentialRampTo(n,s,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(n,r+this.toSeconds(s)),this}linearRampTo(n,s,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(n,r+this.toSeconds(s)),this}targetRampTo(n,s,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(n,r,s),this}exponentialApproachValueAtTime(n,s,r){s=this.toSeconds(s),r=this.toSeconds(r);const u=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(n,s,u),this.cancelAndHoldAtTime(s+r*.9),this.linearRampToValueAtTime(n,s+r),this}setTargetAtTime(n,s,r){const u=this._fromType(n);Ct(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const h=this.toSeconds(s);return this._assertRange(u),Ct(isFinite(u)&&isFinite(h),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._events.add({constant:r,time:h,type:"setTargetAtTime",value:u}),this.log(this.units,"setTargetAtTime",n,h,r),this._param.setTargetAtTime(u,h,r),this}setValueCurveAtTime(n,s,r,u=1){r=this.toSeconds(r),s=this.toSeconds(s);const h=this._fromType(n[0])*u;this.setValueAtTime(this._toType(h),s);const c=r/(n.length-1);for(let d=1;d<n.length;d++){const m=this._fromType(n[d])*u;this.linearRampToValueAtTime(this._toType(m),s+d*c)}return this}cancelScheduledValues(n){const s=this.toSeconds(n);return Ct(isFinite(s),`Invalid argument to cancelScheduledValues: ${JSON.stringify(n)}`),this._events.cancel(s),this._param.cancelScheduledValues(s),this.log(this.units,"cancelScheduledValues",s),this}cancelAndHoldAtTime(n){const s=this.toSeconds(n),r=this._fromType(this.getValueAtTime(s));Ct(isFinite(s),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(n)}`),this.log(this.units,"cancelAndHoldAtTime",s,"value="+r);const u=this._events.get(s),h=this._events.getAfter(s);return u&&Gn(u.time,s)?h?(this._param.cancelScheduledValues(h.time),this._events.cancel(h.time)):(this._param.cancelAndHoldAtTime(s),this._events.cancel(s+this.sampleTime)):h&&(this._param.cancelScheduledValues(h.time),this._events.cancel(h.time),h.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),s):h.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),s)),this._events.add({time:s,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,s),this}rampTo(n,s=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(n,s,r):this.linearRampTo(n,s,r),this}apply(n){const s=this.context.currentTime;n.setValueAtTime(this.getValueAtTime(s),s);const r=this._events.get(s);if(r&&r.type==="setTargetAtTime"){const u=this._events.getAfter(r.time),h=u?u.time:s+2,c=(h-s)/10;for(let d=s;d<h;d+=c)n.linearRampToValueAtTime(this.getValueAtTime(d),d)}return this._events.forEachAfter(this.context.currentTime,u=>{u.type==="cancelScheduledValues"?n.cancelScheduledValues(u.time):u.type==="setTargetAtTime"?n.setTargetAtTime(u.value,u.time,u.constant):n[u.type](u.value,u.time)}),this}setParam(n){Ct(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const s=this.input;return s.disconnect(this._param),this.apply(n),this._param=n,s.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(n,s,r,u,h){return r+(s-r)*Math.exp(-(h-n)/u)}_linearInterpolate(n,s,r,u,h){return s+(u-s)*((h-n)/(r-n))}_exponentialInterpolate(n,s,r,u,h){return s*Math.pow(u/s,(h-n)/(r-n))}}class It extends hn{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Gt(this.input)?Gs(this.input)||this.input instanceof me?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Gt(this.output)?this.output.numberOfOutputs:0}_isAudioNode(n){return Gt(n)&&(n instanceof It||us(n))}_getInternalNodes(){const n=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&n.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&n.push(this.output),n}_setChannelProperties(n){this._getInternalNodes().forEach(r=>{r.channelCount=n.channelCount,r.channelCountMode=n.channelCountMode,r.channelInterpretation=n.channelInterpretation})}_getChannelProperties(){const n=this._getInternalNodes();Ct(n.length>0,"ToneAudioNode does not have any internal nodes");const s=n[0];return{channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(n){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCount:n}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(n){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCountMode:n}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(n){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelInterpretation:n}))}connect(n,s=0,r=0){return Xa(this,n,s,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Ko("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(n,s=0,r=0){return Ux(this,n,s,r),this}chain(...n){return zh(this,...n),this}fan(...n){return n.forEach(s=>this.connect(s)),this}dispose(){return super.dispose(),Gt(this.input)&&(this.input instanceof It?this.input.dispose():us(this.input)&&this.input.disconnect()),Gt(this.output)&&(this.output instanceof It?this.output.dispose():us(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function zh(...l){const n=l.shift();l.reduce((s,r)=>(s instanceof It?s.connect(r):us(s)&&Xa(s,r),r),n)}function Xa(l,n,s=0,r=0){for(Ct(Gt(l),"Cannot connect from undefined node"),Ct(Gt(n),"Cannot connect to undefined node"),(n instanceof It||us(n))&&Ct(n.numberOfInputs>0,"Cannot connect to node with no inputs"),Ct(l.numberOfOutputs>0,"Cannot connect from node with no outputs");n instanceof It||n instanceof me;)Gt(n.input)&&(n=n.input);for(;l instanceof It;)Gt(l.output)&&(l=l.output);Gs(n)?l.connect(n,s):l.connect(n,s,r)}function Ux(l,n,s=0,r=0){if(Gt(n))for(;n instanceof It;)n=n.input;for(;!us(l);)Gt(l.output)&&(l=l.output);Gs(n)?l.disconnect(n,s):us(n)?l.disconnect(n,s,r):l.disconnect()}class Je extends It{constructor(){const n=Mt(Je.getDefaults(),arguments,["gain","units"]);super(n),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new me({context:this.context,convert:n.convert,param:this._gainNode.gain,units:n.units,value:n.gain,minValue:n.minValue,maxValue:n.maxValue}),xe(this,"gain")}static getDefaults(){return Object.assign(It.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Ba extends It{constructor(n){super(n),this.onended=ie,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Je({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(s){const r=this.toSeconds(s);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=n.fadeIn,this._fadeOut=n.fadeOut,this._curve=n.curve,this.onended=n.onended}static getDefaults(){return Object.assign(It.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:ie})}_startGain(n,s=1){Ct(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=n+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,n),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(s,n+r):this._gainNode.gain.exponentialApproachValueAtTime(s,n,r)):this._gainNode.gain.setValueAtTime(s,n),this}stop(n){return this.log("stop",n),this._stopGain(this.toSeconds(n)),this}_stopGain(n){Ct(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const s=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(n)+s,this._stopTime=Math.max(this._stopTime,this.now()),s>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,s,n):this._gainNode.gain.targetRampTo(0,s,n):(this._gainNode.gain.cancelAndHoldAtTime(n),this._gainNode.gain.setValueAtTime(0,n)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?s*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==ie&&(this.onended(this),this.onended=ie,!this.context.isOffline)){const n=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(n):setTimeout(n,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Ct(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=ie,this}}class lf extends Ba{constructor(){const n=Mt(lf.getDefaults(),arguments,["offset"]);super(n),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Xa(this._source,this._gainNode),this.offset=new me({context:this.context,convert:n.convert,param:this._source.offset,units:n.units,value:n.offset,minValue:n.minValue,maxValue:n.maxValue})}static getDefaults(){return Object.assign(Ba.getDefaults(),{convert:!0,offset:1,units:"number"})}start(n){const s=this.toSeconds(n);return this.log("start",s),this._startGain(s),this._source.start(s),this}_stopSource(n){this._source.stop(n)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Ye extends It{constructor(){const n=Mt(Ye.getDefaults(),arguments,["value","units"]);super(n),this.name="Signal",this.override=!0,this.output=this._constantSource=new lf({context:this.context,convert:n.convert,offset:n.value,units:n.units,minValue:n.minValue,maxValue:n.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(It.getDefaults(),{convert:!0,units:"number",value:0})}connect(n,s=0,r=0){return of(this,n,s,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(n,s){return this._param.setValueAtTime(n,s),this}getValueAtTime(n){return this._param.getValueAtTime(n)}setRampPoint(n){return this._param.setRampPoint(n),this}linearRampToValueAtTime(n,s){return this._param.linearRampToValueAtTime(n,s),this}exponentialRampToValueAtTime(n,s){return this._param.exponentialRampToValueAtTime(n,s),this}exponentialRampTo(n,s,r){return this._param.exponentialRampTo(n,s,r),this}linearRampTo(n,s,r){return this._param.linearRampTo(n,s,r),this}targetRampTo(n,s,r){return this._param.targetRampTo(n,s,r),this}exponentialApproachValueAtTime(n,s,r){return this._param.exponentialApproachValueAtTime(n,s,r),this}setTargetAtTime(n,s,r){return this._param.setTargetAtTime(n,s,r),this}setValueCurveAtTime(n,s,r,u){return this._param.setValueCurveAtTime(n,s,r,u),this}cancelScheduledValues(n){return this._param.cancelScheduledValues(n),this}cancelAndHoldAtTime(n){return this._param.cancelAndHoldAtTime(n),this}rampTo(n,s,r){return this._param.rampTo(n,s,r),this}get value(){return this._param.value}set value(n){this._param.value=n}get convert(){return this._param.convert}set convert(n){this._param.convert=n}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(n){this._param.overridden=n}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(n){return this._param.apply(n),this}}function of(l,n,s,r){(n instanceof me||Gs(n)||n instanceof Ye&&n.override)&&(n.cancelScheduledValues(0),n.setValueAtTime(0,0),n instanceof Ye&&(n.overridden=!0)),Xa(l,n,s,r)}class uf extends me{constructor(){const n=Mt(uf.getDefaults(),arguments,["value"]);super(n),this.name="TickParam",this._events=new Bn(1/0),this._multiplier=1,this._multiplier=n.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(n.value)}),this.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(me.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(n,s,r){s=this.toSeconds(s),this.setRampPoint(s);const u=this._fromType(n),h=this._events.get(s),c=Math.round(Math.max(1/r,1));for(let d=0;d<=c;d++){const m=r*d+s,p=this._exponentialApproach(h.time,h.value,u,r,m);this.linearRampToValueAtTime(this._toType(p),m)}return this}setValueAtTime(n,s){const r=this.toSeconds(s);super.setValueAtTime(n,s);const u=this._events.get(r),h=this._events.previousEvent(u),c=this._getTicksUntilEvent(h,r);return u.ticks=Math.max(c,0),this}linearRampToValueAtTime(n,s){const r=this.toSeconds(s);super.linearRampToValueAtTime(n,s);const u=this._events.get(r),h=this._events.previousEvent(u),c=this._getTicksUntilEvent(h,r);return u.ticks=Math.max(c,0),this}exponentialRampToValueAtTime(n,s){s=this.toSeconds(s);const r=this._fromType(n),u=this._events.get(s),h=Math.round(Math.max((s-u.time)*10,1)),c=(s-u.time)/h;for(let d=0;d<=h;d++){const m=c*d+u.time,p=this._exponentialInterpolate(u.time,u.value,s,r,m);this.linearRampToValueAtTime(this._toType(p),m)}return this}_getTicksUntilEvent(n,s){if(n===null)n={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Vn(n.ticks)){const c=this._events.previousEvent(n);n.ticks=this._getTicksUntilEvent(c,n.time)}const r=this._fromType(this.getValueAtTime(n.time));let u=this._fromType(this.getValueAtTime(s));const h=this._events.get(s);return h&&h.time===s&&h.type==="setValueAtTime"&&(u=this._fromType(this.getValueAtTime(s-this.sampleTime))),.5*(s-n.time)*(r+u)+n.ticks}getTicksAtTime(n){const s=this.toSeconds(n),r=this._events.get(s);return Math.max(this._getTicksUntilEvent(r,s),0)}getDurationOfTicks(n,s){const r=this.toSeconds(s),u=this.getTicksAtTime(s);return this.getTimeOfTick(u+n)-r}getTimeOfTick(n){const s=this._events.get(n,"ticks"),r=this._events.getAfter(n,"ticks");if(s&&s.ticks===n)return s.time;if(s&&r&&r.type==="linearRampToValueAtTime"&&s.value!==r.value){const u=this._fromType(this.getValueAtTime(s.time)),c=(this._fromType(this.getValueAtTime(r.time))-u)/(r.time-s.time),d=Math.sqrt(Math.pow(u,2)-2*c*(s.ticks-n)),m=(-u+d)/c,p=(-u-d)/c;return(m>0?m:p)+s.time}else return s?s.value===0?1/0:s.time+(n-s.ticks)/s.value:n/this._initialValue}ticksToTime(n,s){return this.getDurationOfTicks(n,s)}timeToTicks(n,s){const r=this.toSeconds(s),u=this.toSeconds(n),h=this.getTicksAtTime(r);return this.getTicksAtTime(r+u)-h}_fromType(n){return this.units==="bpm"&&this.multiplier?1/(60/n/this.multiplier):super._fromType(n)}_toType(n){return this.units==="bpm"&&this.multiplier?n/this.multiplier*60:super._toType(n)}get multiplier(){return this._multiplier}set multiplier(n){const s=this.value;this._multiplier=n,this.cancelScheduledValues(0),this.setValueAtTime(s,0)}}class cf extends Ye{constructor(){const n=Mt(cf.getDefaults(),arguments,["value"]);super(n),this.name="TickSignal",this.input=this._param=new uf({context:this.context,convert:n.convert,multiplier:n.multiplier,param:this._constantSource.offset,units:n.units,value:n.value})}static getDefaults(){return Object.assign(Ye.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(n,s){return this._param.ticksToTime(n,s)}timeToTicks(n,s){return this._param.timeToTicks(n,s)}getTimeOfTick(n){return this._param.getTimeOfTick(n)}getDurationOfTicks(n,s){return this._param.getDurationOfTicks(n,s)}getTicksAtTime(n){return this._param.getTicksAtTime(n)}get multiplier(){return this._param.multiplier}set multiplier(n){this._param.multiplier=n}dispose(){return super.dispose(),this._param.dispose(),this}}class hf extends hn{constructor(){const n=Mt(hf.getDefaults(),arguments,["frequency"]);super(n),this.name="TickSource",this._state=new rf,this._tickOffset=new Bn,this._ticksAtTime=new Bn,this._secondsAtTime=new Bn,this.frequency=new cf({context:this.context,units:n.units,value:n.frequency}),xe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},hn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(n,s){const r=this.toSeconds(n);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),Gt(s)&&this.setTicksAtTime(s,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(n){const s=this.toSeconds(n);if(this._state.getValueAtTime(s)==="stopped"){const r=this._state.get(s);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(s),this._state.setStateAtTime("stopped",s),this.setTicksAtTime(0,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}pause(n){const s=this.toSeconds(n);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}cancel(n){return n=this.toSeconds(n),this._state.cancel(n),this._tickOffset.cancel(n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getTicksAtTime(n){const s=this.toSeconds(n),r=this._state.getLastState("stopped",s),u=this._ticksAtTime.get(s),h={state:"paused",time:s};this._state.add(h);let c=u||r,d=u?u.ticks:0,m=null;return this._state.forEachBetween(c.time,s+this.sampleTime,p=>{let v=c.time;const _=this._tickOffset.get(p.time);_&&_.time>=c.time&&(d=_.ticks,v=_.time),c.state==="started"&&p.state!=="started"&&(d+=this.frequency.getTicksAtTime(p.time)-this.frequency.getTicksAtTime(v),p.time!==h.time&&(m={state:p.state,time:p.time,ticks:d})),c=p}),this._state.remove(h),m&&this._ticksAtTime.add(m),d}get ticks(){return this.getTicksAtTime(this.now())}set ticks(n){this.setTicksAtTime(n,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(n){const s=this.now(),r=this.frequency.timeToTicks(n,s);this.setTicksAtTime(r,s)}getSecondsAtTime(n){n=this.toSeconds(n);const s=this._state.getLastState("stopped",n),r={state:"paused",time:n};this._state.add(r);const u=this._secondsAtTime.get(n);let h=u||s,c=u?u.seconds:0,d=null;return this._state.forEachBetween(h.time,n+this.sampleTime,m=>{let p=h.time;const v=this._tickOffset.get(m.time);v&&v.time>=h.time&&(c=v.seconds,p=v.time),h.state==="started"&&m.state!=="started"&&(c+=m.time-p,m.time!==r.time&&(d={state:m.state,time:m.time,seconds:c})),h=m}),this._state.remove(r),d&&this._secondsAtTime.add(d),c}setTicksAtTime(n,s){return s=this.toSeconds(s),this._tickOffset.cancel(s),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(n,s),ticks:n,time:s}),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}getStateAtTime(n){return n=this.toSeconds(n),this._state.getValueAtTime(n)}getTimeOfTick(n,s=this.now()){const r=this._tickOffset.get(s),u=this._state.get(s),h=Math.max(r.time,u.time),c=this.frequency.getTicksAtTime(h)+n-r.ticks;return this.frequency.getTimeOfTick(c)}forEachTickBetween(n,s,r){let u=this._state.get(n);this._state.forEachBetween(n,s,c=>{u&&u.state==="started"&&c.state!=="started"&&this.forEachTickBetween(Math.max(u.time,n),c.time-this.sampleTime,r),u=c});let h=null;if(u&&u.state==="started"){const c=Math.max(u.time,n),d=this.frequency.getTicksAtTime(c),m=this.frequency.getTicksAtTime(u.time),p=d-m;let v=Math.ceil(p)-p;v=Gn(v,1)?0:v;let _=this.frequency.getTimeOfTick(d+v);for(;_<s;){try{r(_,Math.round(this.getTicksAtTime(_)))}catch(S){h=S;break}_+=this.frequency.getDurationOfTicks(1,_)}}if(h)throw h;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class eu extends hn{constructor(){const n=Mt(eu.getDefaults(),arguments,["callback","frequency"]);super(n),this.name="Clock",this.callback=ie,this._lastUpdate=0,this._state=new rf("stopped"),this._boundLoop=this._loop.bind(this),this.callback=n.callback,this._tickSource=new hf({context:this.context,frequency:n.frequency,units:n.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,xe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(hn.getDefaults(),{callback:ie,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(n,s){w0(this.context);const r=this.toSeconds(n);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,s),r<this._lastUpdate&&this.emit("start",r,s)),this}stop(n){const s=this.toSeconds(n);return this.log("stop",s),this._state.cancel(s),this._state.setStateAtTime("stopped",s),this._tickSource.stop(s),s<this._lastUpdate&&this.emit("stop",s),this}pause(n){const s=this.toSeconds(n);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._tickSource.pause(s),s<this._lastUpdate&&this.emit("pause",s)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(n){this._tickSource.ticks=n}get seconds(){return this._tickSource.seconds}set seconds(n){this._tickSource.seconds=n}getSecondsAtTime(n){return this._tickSource.getSecondsAtTime(n)}setTicksAtTime(n,s){return this._tickSource.setTicksAtTime(n,s),this}getTimeOfTick(n,s=this.now()){return this._tickSource.getTimeOfTick(n,s)}getTicksAtTime(n){return this._tickSource.getTicksAtTime(n)}nextTickTime(n,s){const r=this.toSeconds(s),u=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(u+n,r)}_loop(){const n=this._lastUpdate,s=this.now();this._lastUpdate=s,this.log("loop",n,s),n!==s&&(this._state.forEachBetween(n,s,r=>{switch(r.state){case"started":const u=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,u);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(n,s,(r,u)=>{this.callback(r,u)}))}getStateAtTime(n){const s=this.toSeconds(n);return this._state.getValueAtTime(s)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}al.mixin(eu);class Za extends It{constructor(){const n=Mt(Za.getDefaults(),arguments,["volume"]);super(n),this.name="Volume",this.input=this.output=new Je({context:this.context,gain:n.volume,units:"decibels"}),this.volume=this.output.gain,xe(this,"volume"),this._unmutedVolume=n.volume,this.mute=n.mute}static getDefaults(){return Object.assign(It.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(n){!this.mute&&n?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!n&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class ff extends It{constructor(){const n=Mt(ff.getDefaults(),arguments);super(n),this.name="Destination",this.input=new Za({context:this.context}),this.output=new Je({context:this.context}),this.volume=this.input.volume,zh(this.input,this.output,this.context.rawContext.destination),this.mute=n.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(It.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(n){this.input.mute=n}chain(...n){return this.input.disconnect(),n.unshift(this.input),n.push(this.output),zh(...n),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Jo(l=>{l.destination=new ff({context:l})});$o(l=>{l.destination.dispose()});class zx extends It{constructor(){super(...arguments),this.name="Listener",this.positionX=new me({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new me({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new me({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new me({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new me({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new me({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new me({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new me({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new me({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(It.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Jo(l=>{l.listener=new zx({context:l})});$o(l=>{l.listener.dispose()});class df extends ki{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const n=Mt(df.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=n.baseUrl,Object.keys(n.urls).forEach(s=>{this._loadingCount++;const r=n.urls[s];this.add(s,r,this._bufferLoaded.bind(this,n.onload),n.onerror)})}static getDefaults(){return{baseUrl:"",onerror:ie,onload:ie,urls:{}}}has(n){return this._buffers.has(n.toString())}get(n){return Ct(this.has(n),`ToneAudioBuffers has no buffer named: ${n}`),this._buffers.get(n.toString())}_bufferLoaded(n){this._loadingCount--,this._loadingCount===0&&n&&n()}get loaded(){return Array.from(this._buffers).every(([n,s])=>s.loaded)}add(n,s,r=ie,u=ie){return Di(s)?(this.baseUrl&&s.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(n.toString(),new fe(this.baseUrl+s,r,u))):this._buffers.set(n.toString(),new fe(s,r,u)),this}dispose(){return super.dispose(),this._buffers.forEach(n=>n.dispose()),this._buffers.clear(),this}}class Go extends xn{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(n){return qs(super._frequencyToUnits(n))}_ticksToUnits(n){return qs(super._ticksToUnits(n))}_beatsToUnits(n){return qs(super._beatsToUnits(n))}_secondsToUnits(n){return qs(super._secondsToUnits(n))}toMidi(){return this.valueOf()}toFrequency(){return V0(this.toMidi())}transpose(n){return new Go(this.context,this.toMidi()+n)}}class Da extends Zr{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(n){return this._getPPQ()*n}_secondsToUnits(n){return Math.floor(n/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(n){return n}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Vx extends hn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Bn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(n,s){return this._events.add({callback:n,time:this.toSeconds(s)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(n){return this._events.cancel(this.toSeconds(n)),this}_drawLoop(){const n=this.context.currentTime;this._events.forEachBefore(n+this.anticipation,s=>{n-s.time<=this.expiration&&s.callback(),this._events.remove(s)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Jo(l=>{l.draw=new Vx({context:l})});$o(l=>{l.draw.dispose()});class Bx extends ki{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(n){Ct(Gt(n.time),"Events must have a time property"),Ct(Gt(n.duration),"Events must have a duration parameter"),n.time=n.time.valueOf();let s=new Lx(n.time,n.time+n.duration,n);for(this._root===null?this._root=s:this._root.insert(s),this._length++;s!==null;)s.updateHeight(),s.updateMax(),this._rebalance(s),s=s.parent;return this}remove(n){if(this._root!==null){const s=[];this._root.search(n.time,s);for(const r of s)if(r.event===n){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(n){return this.forEachFrom(n,s=>this.remove(s)),this}_setRoot(n){this._root=n,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(n,s){n.parent!==null?(n.isLeftChild()?n.parent.left=s:n.parent.right=s,this._rebalance(n.parent)):this._setRoot(s)}_removeNode(n){if(n.left===null&&n.right===null)this._replaceNodeInParent(n,null);else if(n.right===null)this._replaceNodeInParent(n,n.left);else if(n.left===null)this._replaceNodeInParent(n,n.right);else{const s=n.getBalance();let r,u=null;if(s>0)if(n.left.right===null)r=n.left,r.right=n.right,u=r;else{for(r=n.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,u=r.parent,r.left=n.left,r.right=n.right)}else if(n.right.left===null)r=n.right,r.left=n.left,u=r;else{for(r=n.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,u=r.parent,r.left=n.left,r.right=n.right)}n.parent!==null?n.isLeftChild()?n.parent.left=r:n.parent.right=r:this._setRoot(r),u&&this._rebalance(u)}n.dispose()}_rotateLeft(n){const s=n.parent,r=n.isLeftChild(),u=n.right;u&&(n.right=u.left,u.left=n),s!==null?r?s.left=u:s.right=u:this._setRoot(u)}_rotateRight(n){const s=n.parent,r=n.isLeftChild(),u=n.left;u&&(n.left=u.right,u.right=n),s!==null?r?s.left=u:s.right=u:this._setRoot(u)}_rebalance(n){const s=n.getBalance();s>1&&n.left?n.left.getBalance()<0?this._rotateLeft(n.left):this._rotateRight(n):s<-1&&n.right&&(n.right.getBalance()>0?this._rotateRight(n.right):this._rotateLeft(n))}get(n){if(this._root!==null){const s=[];if(this._root.search(n,s),s.length>0){let r=s[0];for(let u=1;u<s.length;u++)s[u].low>r.low&&(r=s[u]);return r.event}}return null}forEach(n){if(this._root!==null){const s=[];this._root.traverse(r=>s.push(r)),s.forEach(r=>{r.event&&n(r.event)})}return this}forEachAtTime(n,s){if(this._root!==null){const r=[];this._root.search(n,r),r.forEach(u=>{u.event&&s(u.event)})}return this}forEachFrom(n,s){if(this._root!==null){const r=[];this._root.searchAfter(n,r),r.forEach(u=>{u.event&&s(u.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(n=>n.dispose()),this._root=null,this}}class Lx{constructor(n,s,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=n,this.high=s,this.max=this.high}insert(n){n.low<=this.low?this.left===null?this.left=n:this.left.insert(n):this.right===null?this.right=n:this.right.insert(n)}search(n,s){n>this.max||(this.left!==null&&this.left.search(n,s),this.low<=n&&this.high>n&&s.push(this),!(this.low>n)&&this.right!==null&&this.right.search(n,s))}searchAfter(n,s){this.low>=n&&(s.push(this),this.left!==null&&this.left.searchAfter(n,s)),this.right!==null&&this.right.searchAfter(n,s)}traverse(n){n(this),this.left!==null&&this.left.traverse(n),this.right!==null&&this.right.traverse(n)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let n=0;return this.left!==null&&this.right!==null?n=this.left.height-this.right.height:this.left!==null?n=this.left.height+1:this.right!==null&&(n=-(this.right.height+1)),n}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(n){this._left=n,n!==null&&(n.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(n){this._right=n,n!==null&&(n.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class qx extends ki{constructor(n){super(),this.name="TimelineValue",this._timeline=new Bn({memory:10}),this._initialValue=n}set(n,s){return this._timeline.add({value:n,time:s}),this}get(n){const s=this._timeline.get(n);return s?s.value:this._initialValue}}class La extends It{constructor(){super(Mt(La.getDefaults(),arguments,["context"]))}connect(n,s=0,r=0){return of(this,n,s,r),this}}class ll extends La{constructor(){const n=Mt(ll.getDefaults(),arguments,["mapping","length"]);super(n),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,An(n.mapping)||n.mapping instanceof Float32Array?this.curve=Float32Array.from(n.mapping):ux(n.mapping)&&this.setMap(n.mapping,n.length)}static getDefaults(){return Object.assign(Ye.getDefaults(),{length:1024})}setMap(n,s=1024){const r=new Float32Array(s);for(let u=0,h=s;u<h;u++){const c=u/(h-1)*2-1;r[u]=n(c,u)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(n){this._shaper.curve=n}get oversample(){return this._shaper.oversample}set oversample(n){const s=["none","2x","4x"].some(r=>r.includes(n));Ct(s,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=n}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class pf extends La{constructor(){const n=Mt(pf.getDefaults(),arguments,["value"]);super(n),this.name="Pow",this._exponentScaler=this.input=this.output=new ll({context:this.context,mapping:this._expFunc(n.value),length:8192}),this._exponent=n.value}static getDefaults(){return Object.assign(La.getDefaults(),{value:1})}_expFunc(n){return s=>Math.pow(Math.abs(s),n)}get value(){return this._exponent}set value(n){this._exponent=n,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class fs{constructor(n,s){this.id=fs._eventId++,this._remainderTime=0;const r=Object.assign(fs.getDefaults(),s);this.transport=n,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:ie,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(n){if(this.callback){const s=this.transport.bpm.getDurationOfTicks(1,n);this.callback(n+this._remainderTime*s),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}fs._eventId=0;class mf extends fs{constructor(n,s){super(n,s),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(mf.getDefaults(),s);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},fs.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(n){this._createEvents(n),super.invoke(n)}_createEvent(){return Ho(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Da(this.context,this._nextTick).toSeconds()):-1}_createEvents(n){Ho(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Da(this.context,this._nextTick).toSeconds()))}_restart(n){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const s=this.transport.getTicksAtTime(n);Va(s,this.time)&&(this._nextTick=this.floatTime+Math.ceil((s-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class nu extends hn{constructor(){const n=Mt(nu.getDefaults(),arguments);super(n),this.name="Transport",this._loop=new qx(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Bn,this._repeatedEvents=new Bx,this._syncedSignals=[],this._swingAmount=0,this._ppq=n.ppq,this._clock=new eu({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=n.ppq,this.bpm.setValueAtTime(n.bpm,0),xe(this,"bpm"),this._timeSignature=n.timeSignature,this._swingTicks=n.ppq/2}static getDefaults(){return Object.assign(hn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(n,s){if(this._loop.get(n)&&s>=this._loopEnd&&(this.emit("loopEnd",n),this._clock.setTicksAtTime(this._loopStart,n),s=this._loopStart,this.emit("loopStart",n,this._clock.getSecondsAtTime(n)),this.emit("loop",n)),this._swingAmount>0&&s%this._ppq!==0&&s%(this._swingTicks*2)!==0){const r=s%(this._swingTicks*2)/(this._swingTicks*2),u=Math.sin(r*Math.PI)*this._swingAmount;n+=new Da(this.context,this._swingTicks*2/3).toSeconds()*u}Ng(!0),this._timeline.forEachAtTime(s,r=>r.invoke(n)),Ng(!1)}schedule(n,s){const r=new fs(this,{callback:n,time:new Zr(this.context,s).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(n,s,r,u=1/0){const h=new mf(this,{callback:n,duration:new Fn(this.context,u).toTicks(),interval:new Fn(this.context,s).toTicks(),time:new Zr(this.context,r).toTicks()});return this._addEvent(h,this._repeatedEvents)}scheduleOnce(n,s){const r=new fs(this,{callback:n,once:!0,time:new Zr(this.context,s).toTicks()});return this._addEvent(r,this._timeline)}clear(n){if(this._scheduledEvents.hasOwnProperty(n)){const s=this._scheduledEvents[n.toString()];s.timeline.remove(s.event),s.event.dispose(),delete this._scheduledEvents[n.toString()]}return this}_addEvent(n,s){return this._scheduledEvents[n.id.toString()]={event:n,timeline:s},s.add(n),n.id}cancel(n=0){const s=this.toTicks(n);return this._timeline.forEachFrom(s,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(s,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(n,s)=>{s=new Da(this.context,s).toSeconds(),this.emit("start",n,s)}),this._clock.on("stop",n=>{this.emit("stop",n)}),this._clock.on("pause",n=>{this.emit("pause",n)})}get state(){return this._clock.getStateAtTime(this.now())}start(n,s){this.context.resume();let r;return Gt(s)&&(r=this.toTicks(s)),this._clock.start(n,r),this}stop(n){return this._clock.stop(n),this}pause(n){return this._clock.pause(n),this}toggle(n){return n=this.toSeconds(n),this._clock.getStateAtTime(n)!=="started"?this.start(n):this.stop(n),this}get timeSignature(){return this._timeSignature}set timeSignature(n){An(n)&&(n=n[0]/n[1]*4),this._timeSignature=n}get loopStart(){return new Fn(this.context,this._loopStart,"i").toSeconds()}set loopStart(n){this._loopStart=this.toTicks(n)}get loopEnd(){return new Fn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(n){this._loopEnd=this.toTicks(n)}get loop(){return this._loop.get(this.now())}set loop(n){this._loop.set(n,this.now())}setLoopPoints(n,s){return this.loopStart=n,this.loopEnd=s,this}get swing(){return this._swingAmount}set swing(n){this._swingAmount=n}get swingSubdivision(){return new Da(this.context,this._swingTicks).toNotation()}set swingSubdivision(n){this._swingTicks=this.toTicks(n)}get position(){const n=this.now(),s=this._clock.getTicksAtTime(n);return new Da(this.context,s).toBarsBeatsSixteenths()}set position(n){const s=this.toTicks(n);this.ticks=s}get seconds(){return this._clock.seconds}set seconds(n){const s=this.now(),r=this._clock.frequency.timeToTicks(n,s);this.ticks=r}get progress(){if(this.loop){const n=this.now();return(this._clock.getTicksAtTime(n)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(n){if(this._clock.ticks!==n){const s=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(s),u=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,s),h=s+u;this.emit("stop",h),this._clock.setTicksAtTime(n,h),this.emit("start",h,this._clock.getSecondsAtTime(h))}else this.emit("ticks",s),this._clock.setTicksAtTime(n,s)}}getTicksAtTime(n){return this._clock.getTicksAtTime(n)}getSecondsAtTime(n){return this._clock.getSecondsAtTime(n)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(n){this._clock.frequency.multiplier=n}nextSubdivision(n){if(n=this.toTicks(n),this.state!=="started")return 0;{const s=this.now(),r=this.getTicksAtTime(s),u=n-r%n;return this._clock.nextTickTime(u,s)}}syncSignal(n,s){const r=this.now();let u=this.bpm,h=1/(60/u.getValueAtTime(r)/this.PPQ),c=[];if(n.units==="time"){const m=.015625/h,p=new Je(m),v=new pf(-1),_=new Je(m);u.chain(p,v,_),u=_,h=1/h,c=[p,v,_]}s||(n.getValueAtTime(r)!==0?s=n.getValueAtTime(r)/h:s=0);const d=new Je(s);return u.connect(d),d.connect(n._param),c.push(d),this._syncedSignals.push({initial:n.value,nodes:c,signal:n}),n.value=0,this}unsyncSignal(n){for(let s=this._syncedSignals.length-1;s>=0;s--){const r=this._syncedSignals[s];r.signal===n&&(r.nodes.forEach(u=>u.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(s,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),M0(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}al.mixin(nu);Jo(l=>{l.transport=new nu({context:l})});$o(l=>{l.transport.dispose()});class En extends It{constructor(n){super(n),this.input=void 0,this._state=new rf("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=ie,this._syncedStop=ie,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Za({context:this.context,mute:n.mute,volume:n.volume}),this.volume=this._volume.volume,xe(this,"volume"),this.onstop=n.onstop}static getDefaults(){return Object.assign(It.getDefaults(),{mute:!1,onstop:ie,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(n){this._volume.mute=n}_clampToCurrentTime(n){return this._synced?n:Math.max(n,this.context.currentTime)}start(n,s,r){let u=Vn(n)&&this._synced?this.context.transport.seconds:this.toSeconds(n);if(u=this._clampToCurrentTime(u),!this._synced&&this._state.getValueAtTime(u)==="started")Ct(Va(u,this._state.get(u).time),"Start time must be strictly greater than previous start time"),this._state.cancel(u),this._state.setStateAtTime("started",u),this.log("restart",u),this.restart(u,s,r);else if(this.log("start",u),this._state.setStateAtTime("started",u),this._synced){const h=this._state.get(u);h&&(h.offset=this.toSeconds(ka(s,0)),h.duration=r?this.toSeconds(r):void 0);const c=this.context.transport.schedule(d=>{this._start(d,s,r)},u);this._scheduled.push(c),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>u&&this._syncedStart(this.now(),this.context.transport.seconds)}else w0(this.context),this._start(u,s,r);return this}stop(n){let s=Vn(n)&&this._synced?this.context.transport.seconds:this.toSeconds(n);if(s=this._clampToCurrentTime(s),this._state.getValueAtTime(s)==="started"||Gt(this._state.getNextState("started",s))){if(this.log("stop",s),!this._synced)this._stop(s);else{const r=this.context.transport.schedule(this._stop.bind(this),s);this._scheduled.push(r)}this._state.cancel(s),this._state.setStateAtTime("stopped",s)}return this}restart(n,s,r){return n=this.toSeconds(n),this._state.getValueAtTime(n)==="started"&&(this._state.cancel(n),this._restart(n,s,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(n,s)=>{if(Va(s,0)){const r=this._state.get(s);if(r&&r.state==="started"&&r.time!==s){const u=s-this.toSeconds(r.time);let h;r.duration&&(h=this.toSeconds(r.duration)-u),this._start(n,this.toSeconds(r.offset)+u,h)}}},this._syncedStop=n=>{const s=this.context.transport.getSecondsAtTime(Math.max(n-this.sampleTime,0));this._state.getValueAtTime(s)==="started"&&this._stop(n)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(n=>this.context.transport.clear(n)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=ie,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class iu extends Ba{constructor(){const n=Mt(iu.getDefaults(),arguments,["url","onload"]);super(n),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Xa(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new me({context:this.context,param:this._source.playbackRate,units:"positive",value:n.playbackRate}),this.loop=n.loop,this.loopStart=n.loopStart,this.loopEnd=n.loopEnd,this._buffer=new fe(n.url,n.onload,n.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Ba.getDefaults(),{url:new fe,loop:!1,loopEnd:0,loopStart:0,onload:ie,onerror:ie,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(n){this._fadeIn=n}get fadeOut(){return this._fadeOut}set fadeOut(n){this._fadeOut=n}get curve(){return this._curve}set curve(n){this._curve=n}start(n,s,r,u=1){Ct(this.buffer.loaded,"buffer is either not set or not loaded");const h=this.toSeconds(n);this._startGain(h,u),this.loop?s=ka(s,this.loopStart):s=ka(s,0);let c=Math.max(this.toSeconds(s),0);if(this.loop){const d=this.toSeconds(this.loopEnd)||this.buffer.duration,m=this.toSeconds(this.loopStart),p=d-m;Uh(c,d)&&(c=(c-m)%p+m),Gn(c,this.buffer.duration)&&(c=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Ho(c,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(h,c)),Gt(r)){let d=this.toSeconds(r);d=Math.max(d,0),this.stop(h+d)}return this}_stopSource(n){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(n)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(n){this._source.loopStart=this.toSeconds(n)}get loopEnd(){return this._source.loopEnd}set loopEnd(n){this._source.loopEnd=this.toSeconds(n)}get buffer(){return this._buffer}set buffer(n){this._buffer.set(n)}get loop(){return this._source.loop}set loop(n){this._source.loop=n,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Zs(l,n){return Ue(this,void 0,void 0,function*(){const s=n/l.context.sampleRate,r=new sf(1,s,l.context.sampleRate);return new l.constructor(Object.assign(l.get(),{frequency:2/s,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class gf extends Ba{constructor(){const n=Mt(gf.getDefaults(),arguments,["frequency","type"]);super(n),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Xa(this._oscillator,this._gainNode),this.type=n.type,this.frequency=new me({context:this.context,param:this._oscillator.frequency,units:"frequency",value:n.frequency}),this.detune=new me({context:this.context,param:this._oscillator.detune,units:"cents",value:n.detune}),xe(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ba.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(n){const s=this.toSeconds(n);return this.log("start",s),this._startGain(s),this._oscillator.start(s),this}_stopSource(n){this._oscillator.stop(n)}setPeriodicWave(n){return this._oscillator.setPeriodicWave(n),this}get type(){return this._oscillator.type}set type(n){this._oscillator.type=n}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class ke extends En{constructor(){const n=Mt(ke.getDefaults(),arguments,["frequency","type"]);super(n),this.name="Oscillator",this._oscillator=null,this.frequency=new Ye({context:this.context,units:"frequency",value:n.frequency}),xe(this,"frequency"),this.detune=new Ye({context:this.context,units:"cents",value:n.detune}),xe(this,"detune"),this._partials=n.partials,this._partialCount=n.partialCount,this._type=n.type,n.partialCount&&n.type!=="custom"&&(this._type=this.baseType+n.partialCount.toString()),this.phase=n.phase}static getDefaults(){return Object.assign(En.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(n){const s=this.toSeconds(n),r=new gf({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(s)}_stop(n){const s=this.toSeconds(n);this._oscillator&&this._oscillator.stop(s)}_restart(n){const s=this.toSeconds(n);return this.log("restart",s),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(s),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return ke._periodicWaveCache.find(s=>s.phase===this._phase&&Tx(s.partials,this._partials));{const n=ke._periodicWaveCache.find(s=>s.type===this._type&&s.phase===this._phase);return this._partialCount=n?n.partialCount:this._partialCount,n}}get type(){return this._type}set type(n){this._type=n;const s=["sine","square","sawtooth","triangle"].indexOf(n)!==-1;if(this._phase===0&&s)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=n);else{const r=this._getCachedPeriodicWave();if(Gt(r)){const{partials:u,wave:h}=r;this._wave=h,this._partials=u,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[u,h]=this._getRealImaginary(n,this._phase),c=this.context.createPeriodicWave(u,h);this._wave=c,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),ke._periodicWaveCache.push({imag:h,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:u,type:this._type,wave:this._wave}),ke._periodicWaveCache.length>100&&ke._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(n){this.partialCount&&this._type!=="custom"&&n!=="custom"?this.type=n+this.partialCount:this.type=n}get partialCount(){return this._partialCount}set partialCount(n){hs(n,0);let s=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(s=r[1]),this._type!=="custom")n===0?this.type=s:this.type=s+n.toString();else{const u=new Float32Array(n);this._partials.forEach((h,c)=>u[c]=h),this._partials=Array.from(u),this.type=this._type}}_getRealImaginary(n,s){let u=2048;const h=new Float32Array(u),c=new Float32Array(u);let d=1;if(n==="custom"){if(d=this._partials.length+1,this._partialCount=this._partials.length,u=d,this._partials.length===0)return[h,c]}else{const m=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(n);m?(d=parseInt(m[2],10)+1,this._partialCount=parseInt(m[2],10),n=m[1],d=Math.max(d,2),u=d):this._partialCount=0,this._partials=[]}for(let m=1;m<u;++m){const p=2/(m*Math.PI);let v;switch(n){case"sine":v=m<=d?1:0,this._partials[m-1]=v;break;case"square":v=m&1?2*p:0,this._partials[m-1]=v;break;case"sawtooth":v=p*(m&1?1:-1),this._partials[m-1]=v;break;case"triangle":m&1?v=2*(p*p)*(m-1>>1&1?-1:1):v=0,this._partials[m-1]=v;break;case"custom":v=this._partials[m-1];break;default:throw new TypeError("Oscillator: invalid type: "+n)}v!==0?(h[m]=-v*Math.sin(s*m),c[m]=v*Math.cos(s*m)):(h[m]=0,c[m]=0)}return[h,c]}_inverseFFT(n,s,r){let u=0;const h=n.length;for(let c=0;c<h;c++)u+=n[c]*Math.cos(c*r)+s[c]*Math.sin(c*r);return u}getInitialValue(){const[n,s]=this._getRealImaginary(this._type,0);let r=0;const u=Math.PI*2,h=32;for(let c=0;c<h;c++)r=Math.max(this._inverseFFT(n,s,c/h*u),r);return bx(-this._inverseFFT(n,s,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(n){this._phase=n*Math.PI/180,this.type=this._type}asArray(){return Ue(this,arguments,void 0,function*(n=1024){return Zs(this,n)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}ke._periodicWaveCache=[];class jx extends La{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new ll({context:this.context,mapping:n=>(n+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class qa extends Ye{constructor(){const n=Mt(qa.getDefaults(),arguments,["value"]);super(n),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Je({context:this.context,minValue:n.minValue,maxValue:n.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(Ye.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class su extends En{constructor(){const n=Mt(su.getDefaults(),arguments,["frequency","type","modulationType"]);super(n),this.name="AMOscillator",this._modulationScale=new jx({context:this.context}),this._modulationNode=new Je({context:this.context}),this._carrier=new ke({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase,type:n.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new ke({context:this.context,phase:n.phase,type:n.modulationType}),this.harmonicity=new qa({context:this.context,units:"positive",value:n.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),xe(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ke.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(n){this._modulator.start(n),this._carrier.start(n)}_stop(n){this._modulator.stop(n),this._carrier.stop(n)}_restart(n){this._modulator.restart(n),this._carrier.restart(n)}get type(){return this._carrier.type}set type(n){this._carrier.type=n}get baseType(){return this._carrier.baseType}set baseType(n){this._carrier.baseType=n}get partialCount(){return this._carrier.partialCount}set partialCount(n){this._carrier.partialCount=n}get modulationType(){return this._modulator.type}set modulationType(n){this._modulator.type=n}get phase(){return this._carrier.phase}set phase(n){this._carrier.phase=n,this._modulator.phase=n}get partials(){return this._carrier.partials}set partials(n){this._carrier.partials=n}asArray(){return Ue(this,arguments,void 0,function*(n=1024){return Zs(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class au extends En{constructor(){const n=Mt(au.getDefaults(),arguments,["frequency","type","modulationType"]);super(n),this.name="FMOscillator",this._modulationNode=new Je({context:this.context,gain:0}),this._carrier=new ke({context:this.context,detune:n.detune,frequency:0,onstop:()=>this.onstop(this),phase:n.phase,type:n.type}),this.detune=this._carrier.detune,this.frequency=new Ye({context:this.context,units:"frequency",value:n.frequency}),this._modulator=new ke({context:this.context,phase:n.phase,type:n.modulationType}),this.harmonicity=new qa({context:this.context,units:"positive",value:n.harmonicity}),this.modulationIndex=new qa({context:this.context,units:"positive",value:n.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),xe(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ke.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(n){this._modulator.start(n),this._carrier.start(n)}_stop(n){this._modulator.stop(n),this._carrier.stop(n)}_restart(n){return this._modulator.restart(n),this._carrier.restart(n),this}get type(){return this._carrier.type}set type(n){this._carrier.type=n}get baseType(){return this._carrier.baseType}set baseType(n){this._carrier.baseType=n}get partialCount(){return this._carrier.partialCount}set partialCount(n){this._carrier.partialCount=n}get modulationType(){return this._modulator.type}set modulationType(n){this._modulator.type=n}get phase(){return this._carrier.phase}set phase(n){this._carrier.phase=n,this._modulator.phase=n}get partials(){return this._carrier.partials}set partials(n){this._carrier.partials=n}asArray(){return Ue(this,arguments,void 0,function*(n=1024){return Zs(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class ol extends En{constructor(){const n=Mt(ol.getDefaults(),arguments,["frequency","width"]);super(n),this.name="PulseOscillator",this._widthGate=new Je({context:this.context,gain:0}),this._thresh=new ll({context:this.context,mapping:s=>s<=0?-1:1}),this.width=new Ye({context:this.context,units:"audioRange",value:n.width}),this._triangle=new ke({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),xe(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(En.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(n){n=this.toSeconds(n),this._triangle.start(n),this._widthGate.gain.setValueAtTime(1,n)}_stop(n){n=this.toSeconds(n),this._triangle.stop(n),this._widthGate.gain.cancelScheduledValues(n),this._widthGate.gain.setValueAtTime(0,n)}_restart(n){this._triangle.restart(n),this._widthGate.gain.cancelScheduledValues(n),this._widthGate.gain.setValueAtTime(1,n)}get phase(){return this._triangle.phase}set phase(n){this._triangle.phase=n}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(n){this._triangle.type=n}asArray(){return Ue(this,arguments,void 0,function*(n=1024){return Zs(this,n)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class ru extends En{constructor(){const n=Mt(ru.getDefaults(),arguments,["frequency","type","spread"]);super(n),this.name="FatOscillator",this._oscillators=[],this.frequency=new Ye({context:this.context,units:"frequency",value:n.frequency}),this.detune=new Ye({context:this.context,units:"cents",value:n.detune}),this._spread=n.spread,this._type=n.type,this._phase=n.phase,this._partials=n.partials,this._partialCount=n.partialCount,this.count=n.count,xe(this,["frequency","detune"])}static getDefaults(){return Object.assign(ke.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(n){n=this.toSeconds(n),this._forEach(s=>s.start(n))}_stop(n){n=this.toSeconds(n),this._forEach(s=>s.stop(n))}_restart(n){this._forEach(s=>s.restart(n))}_forEach(n){for(let s=0;s<this._oscillators.length;s++)n(this._oscillators[s],s)}get type(){return this._type}set type(n){this._type=n,this._forEach(s=>s.type=n)}get spread(){return this._spread}set spread(n){if(this._spread=n,this._oscillators.length>1){const s=-n/2,r=n/(this._oscillators.length-1);this._forEach((u,h)=>u.detune.value=s+r*h)}}get count(){return this._oscillators.length}set count(n){if(hs(n,1),this._oscillators.length!==n){this._forEach(s=>s.dispose()),this._oscillators=[];for(let s=0;s<n;s++){const r=new ke({context:this.context,volume:-6-n*1.1,type:this._type,phase:this._phase+s/n*360,partialCount:this._partialCount,onstop:s===0?()=>this.onstop(this):ie});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[s]=r}this.spread=this._spread,this.state==="started"&&this._forEach(s=>s.start())}}get phase(){return this._phase}set phase(n){this._phase=n,this._forEach((s,r)=>s.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(n){this._forEach(s=>s.baseType=n),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this._type="custom",this._forEach(s=>s.partials=n))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(n){this._partialCount=n,this._forEach(s=>s.partialCount=n),this._type=this._oscillators[0].type}asArray(){return Ue(this,arguments,void 0,function*(n=1024){return Zs(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(n=>n.dispose()),this}}class lu extends En{constructor(){const n=Mt(lu.getDefaults(),arguments,["frequency","modulationFrequency"]);super(n),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new qa({context:this.context,value:2}),this._pulse=new ol({context:this.context,frequency:n.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new ke({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),xe(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(En.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(n){n=this.toSeconds(n),this._modulator.start(n),this._pulse.start(n)}_stop(n){n=this.toSeconds(n),this._modulator.stop(n),this._pulse.stop(n)}_restart(n){this._modulator.restart(n),this._pulse.restart(n)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(n){this._modulator.phase=n}asArray(){return Ue(this,arguments,void 0,function*(n=1024){return Zs(this,n)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Og={am:su,fat:ru,fm:au,oscillator:ke,pulse:ol,pwm:lu};class Yo extends En{constructor(){const n=Mt(Yo.getDefaults(),arguments,["frequency","type"]);super(n),this.name="OmniOscillator",this.frequency=new Ye({context:this.context,units:"frequency",value:n.frequency}),this.detune=new Ye({context:this.context,units:"cents",value:n.detune}),xe(this,["frequency","detune"]),this.set(n)}static getDefaults(){return Object.assign(ke.getDefaults(),au.getDefaults(),su.getDefaults(),ru.getDefaults(),ol.getDefaults(),lu.getDefaults())}_start(n){this._oscillator.start(n)}_stop(n){this._oscillator.stop(n)}_restart(n){return this._oscillator.restart(n),this}get type(){let n="";return["am","fm","fat"].some(s=>this._sourceType===s)&&(n=this._sourceType),n+this._oscillator.type}set type(n){n.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(2)):n.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(2)):n.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(3)):n==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):n==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=n)}get partials(){return this._oscillator.partials}set partials(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=n)}get partialCount(){return this._oscillator.partialCount}set partialCount(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=n)}set(n){return Reflect.has(n,"type")&&n.type&&(this.type=n.type),super.set(n),this}_createNewOscillator(n){if(n!==this._sourceType){this._sourceType=n;const s=Og[n],r=this.now();if(this._oscillator){const u=this._oscillator;u.stop(r),this.context.setTimeout(()=>u.dispose(),this.blockTime)}this._oscillator=new s({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(n){this._oscillator.phase=n}get sourceType(){return this._sourceType}set sourceType(n){let s="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(s=this._oscillator.type),n==="fm"?this.type="fm"+s:n==="am"?this.type="am"+s:n==="fat"?this.type="fat"+s:n==="oscillator"?this.type=s:n==="pulse"?this.type="pulse":n==="pwm"&&(this.type="pwm")}_getOscType(n,s){return n instanceof Og[s]}get baseType(){return this._oscillator.baseType}set baseType(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&n!=="pulse"&&n!=="pwm"&&(this._oscillator.baseType=n)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(n){this._getOscType(this._oscillator,"fat")&&cs(n)&&(this._oscillator.count=n)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(n){this._getOscType(this._oscillator,"fat")&&cs(n)&&(this._oscillator.spread=n)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(n){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Di(n)&&(this._oscillator.modulationType=n)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Ue(this,arguments,void 0,function*(n=1024){return Zs(this,n)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function B0(l,n=1/0){const s=new WeakMap;return function(r,u){Reflect.defineProperty(r,u,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(h){hs(h,l,n),s.set(this,h)}})}}function Ui(l,n=1/0){const s=new WeakMap;return function(r,u){Reflect.defineProperty(r,u,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(h){hs(this.toSeconds(h),l,n),s.set(this,h)}})}}class ou extends En{constructor(){const n=Mt(ou.getDefaults(),arguments,["url","onload"]);super(n),this.name="Player",this._activeSources=new Set,this._buffer=new fe({onload:this._onload.bind(this,n.onload),onerror:n.onerror,reverse:n.reverse,url:n.url}),this.autostart=n.autostart,this._loop=n.loop,this._loopStart=n.loopStart,this._loopEnd=n.loopEnd,this._playbackRate=n.playbackRate,this.fadeIn=n.fadeIn,this.fadeOut=n.fadeOut}static getDefaults(){return Object.assign(En.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:ie,onerror:ie,playbackRate:1,reverse:!1})}load(n){return Ue(this,void 0,void 0,function*(){return yield this._buffer.load(n),this._onload(),this})}_onload(n=ie){n(),this.autostart&&this.start()}_onSourceEnd(n){this.onstop(this),this._activeSources.delete(n),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(n,s,r){return super.start(n,s,r),this}_start(n,s,r){this._loop?s=ka(s,this._loopStart):s=ka(s,0);const u=this.toSeconds(s),h=r;r=ka(r,Math.max(this._buffer.duration-u,0));let c=this.toSeconds(r);c=c/this._playbackRate,n=this.toSeconds(n);const d=new iu({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(n+c),this._state.setStateAtTime("stopped",n+c,{implicitEnd:!0})),this._activeSources.add(d),this._loop&&Vn(h)?d.start(n,u):d.start(n,u,c-this.toSeconds(this.fadeOut))}_stop(n){const s=this.toSeconds(n);this._activeSources.forEach(r=>r.stop(s))}restart(n,s,r){return super.restart(n,s,r),this}_restart(n,s,r){var u;(u=[...this._activeSources].pop())===null||u===void 0||u.stop(n),this._start(n,s,r)}seek(n,s){const r=this.toSeconds(s);if(this._state.getValueAtTime(r)==="started"){const u=this.toSeconds(n);this._stop(r),this._start(r,u)}return this}setLoopPoints(n,s){return this.loopStart=n,this.loopEnd=s,this}get loopStart(){return this._loopStart}set loopStart(n){this._loopStart=n,this.buffer.loaded&&hs(this.toSeconds(n),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopStart=n})}get loopEnd(){return this._loopEnd}set loopEnd(n){this._loopEnd=n,this.buffer.loaded&&hs(this.toSeconds(n),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopEnd=n})}get buffer(){return this._buffer}set buffer(n){this._buffer.set(n)}get loop(){return this._loop}set loop(n){if(this._loop!==n&&(this._loop=n,this._activeSources.forEach(s=>{s.loop=n}),n)){const s=this._state.getNextState("stopped",this.now());s&&this._state.cancel(s.time)}}get playbackRate(){return this._playbackRate}set playbackRate(n){this._playbackRate=n;const s=this.now(),r=this._state.getNextState("stopped",s);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(u=>u.cancelStop())),this._activeSources.forEach(u=>{u.playbackRate.setValueAtTime(n,s)})}get reverse(){return this._buffer.reverse}set reverse(n){this._buffer.reverse=n}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(n=>n.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Pn([Ui(0)],ou.prototype,"fadeIn",void 0);Pn([Ui(0)],ou.prototype,"fadeOut",void 0);class gs extends It{constructor(){const n=Mt(gs.getDefaults(),arguments,["attack","decay","sustain","release"]);super(n),this.name="Envelope",this._sig=new Ye({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=n.attack,this.decay=n.decay,this.sustain=n.sustain,this.release=n.release,this.attackCurve=n.attackCurve,this.releaseCurve=n.releaseCurve,this.decayCurve=n.decayCurve}static getDefaults(){return Object.assign(It.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(n,s){if(Di(n))return n;{let r;for(r in No)if(No[r][s]===n)return r;return n}}_setCurve(n,s,r){if(Di(r)&&Reflect.has(No,r)){const u=No[r];js(u)?n!=="_decayCurve"&&(this[n]=u[s]):this[n]=u}else if(An(r)&&n!=="_decayCurve")this[n]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(n){this._setCurve("_attackCurve","In",n)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(n){this._setCurve("_releaseCurve","Out",n)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(n){this._setCurve("_decayCurve","Out",n)}triggerAttack(n,s=1){this.log("triggerAttack",n,s),n=this.toSeconds(n);let u=this.toSeconds(this.attack);const h=this.toSeconds(this.decay),c=this.getValueAtTime(n);if(c>0){const d=1/u;u=(1-c)/d}if(u<this.sampleTime)this._sig.cancelScheduledValues(n),this._sig.setValueAtTime(s,n);else if(this._attackCurve==="linear")this._sig.linearRampTo(s,u,n);else if(this._attackCurve==="exponential")this._sig.targetRampTo(s,u,n);else{this._sig.cancelAndHoldAtTime(n);let d=this._attackCurve;for(let m=1;m<d.length;m++)if(d[m-1]<=c&&c<=d[m]){d=this._attackCurve.slice(m),d[0]=c;break}this._sig.setValueCurveAtTime(d,n,u,s)}if(h&&this.sustain<1){const d=s*this.sustain,m=n+u;this.log("decay",m),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(d,h+m):this._sig.exponentialApproachValueAtTime(d,m,h)}return this}triggerRelease(n){this.log("triggerRelease",n),n=this.toSeconds(n);const s=this.getValueAtTime(n);if(s>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,n):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,n):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,n):(Ct(An(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(n),this._sig.setValueCurveAtTime(this._releaseCurve,n,r,s))}return this}getValueAtTime(n){return this._sig.getValueAtTime(n)}triggerAttackRelease(n,s,r=1){return s=this.toSeconds(s),this.triggerAttack(s,r),this.triggerRelease(s+this.toSeconds(n)),this}cancel(n){return this._sig.cancelScheduledValues(this.toSeconds(n)),this}connect(n,s=0,r=0){return of(this,n,s,r),this}asArray(){return Ue(this,arguments,void 0,function*(n=1024){const s=n/this.context.sampleRate,r=new sf(1,s,this.context.sampleRate),u=this.toSeconds(this.attack)+this.toSeconds(this.decay),h=u+this.toSeconds(this.release),c=h*.1,d=h+c,m=new this.constructor(Object.assign(this.get(),{attack:s*this.toSeconds(this.attack)/d,decay:s*this.toSeconds(this.decay)/d,release:s*this.toSeconds(this.release)/d,context:r}));return m._sig.toDestination(),m.triggerAttackRelease(s*(u+c)/d,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Pn([Ui(0)],gs.prototype,"attack",void 0);Pn([Ui(0)],gs.prototype,"decay",void 0);Pn([B0(0,1)],gs.prototype,"sustain",void 0);Pn([Ui(0)],gs.prototype,"release",void 0);const No=(()=>{let n,s;const r=[];for(n=0;n<128;n++)r[n]=Math.sin(n/127*(Math.PI/2));const u=[],h=6.4;for(n=0;n<127;n++){s=n/127;const S=Math.sin(s*(Math.PI*2)*h-Math.PI/2)+1;u[n]=S/10+s*.83}u[127]=1;const c=[],d=5;for(n=0;n<128;n++)c[n]=Math.ceil(n/127*d)/d;const m=[];for(n=0;n<128;n++)s=n/127,m[n]=.5*(1-Math.cos(Math.PI*s));const p=[];for(n=0;n<128;n++){s=n/127;const S=Math.pow(s,3)*4+.2,T=Math.cos(S*Math.PI*2*s);p[n]=Math.abs(T*(1-s))}function v(S){const T=new Array(S.length);for(let b=0;b<S.length;b++)T[b]=1-S[b];return T}function _(S){return S.slice(0).reverse()}return{bounce:{In:v(p),Out:p},cosine:{In:r,Out:_(r)},exponential:"exponential",linear:"linear",ripple:{In:u,Out:v(u)},sine:{In:m,Out:v(m)},step:{In:c,Out:v(c)}}})();class ds extends It{constructor(){const n=Mt(ds.getDefaults(),arguments);super(n),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=s=>this._original_triggerRelease(s),this._volume=this.output=new Za({context:this.context,volume:n.volume}),this.volume=this._volume.volume,xe(this,"volume")}static getDefaults(){return Object.assign(It.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let n=!1;return this._synced||(this._synced=!0,n=!0),n}_syncMethod(n,s){const r=this["_original_"+n]=this[n];this[n]=(...u)=>{const h=u[s],c=this.context.transport.schedule(d=>{u[s]=d,r.apply(this,u)},h);this._scheduledEvents.push(c)}}unsync(){return this._scheduledEvents.forEach(n=>this.context.transport.clear(n)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(n,s,r,u){const h=this.toSeconds(r),c=this.toSeconds(s);return this.triggerAttack(n,h,u),this.triggerRelease(h+c),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ys extends ds{constructor(){const n=Mt(Ys.getDefaults(),arguments);super(n),this.portamento=n.portamento,this.onsilence=n.onsilence}static getDefaults(){return Object.assign(ds.getDefaults(),{detune:0,onsilence:ie,portamento:0})}triggerAttack(n,s,r=1){this.log("triggerAttack",n,s,r);const u=this.toSeconds(s);return this._triggerEnvelopeAttack(u,r),this.setNote(n,u),this}triggerRelease(n){this.log("triggerRelease",n);const s=this.toSeconds(n);return this._triggerEnvelopeRelease(s),this}setNote(n,s){const r=this.toSeconds(s),u=n instanceof xn?n.toFrequency():n;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const h=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(u,h,r)}else this.frequency.setValueAtTime(u,r);return this}}Pn([Ui(0)],Ys.prototype,"portamento",void 0);class vf extends gs{constructor(){super(Mt(vf.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Je({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ja extends Ys{constructor(){const n=Mt(ja.getDefaults(),arguments);super(n),this.name="Synth",this.oscillator=new Yo(Object.assign({context:this.context,detune:n.detune,onstop:()=>this.onsilence(this)},n.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new vf(Object.assign({context:this.context},n.envelope)),this.oscillator.chain(this.envelope,this.output),xe(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ys.getDefaults(),{envelope:Object.assign(kh(gs.getDefaults(),Object.keys(It.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(kh(Yo.getDefaults(),[...Object.keys(En.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(n,s){if(this.envelope.triggerAttack(n,s),this.oscillator.start(n),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),u=this.toSeconds(this.envelope.decay);this.oscillator.stop(n+r+u)}}_triggerEnvelopeRelease(n){this.envelope.triggerRelease(n),this.oscillator.stop(n+this.toSeconds(this.envelope.release))}getLevelAtTime(n){return n=this.toSeconds(n),this.envelope.getValueAtTime(n)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class uu extends ja{constructor(){const n=Mt(uu.getDefaults(),arguments);super(n),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=n.pitchDecay,this.octaves=n.octaves,xe(this,["oscillator","envelope"])}static getDefaults(){return Is(Ys.getDefaults(),ja.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(n,s){const r=this.toSeconds(s),u=this.toFrequency(n instanceof xn?n.toFrequency():n),h=u*this.octaves;return this.oscillator.frequency.setValueAtTime(h,r),this.oscillator.frequency.exponentialRampToValueAtTime(u,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Pn([B0(0)],uu.prototype,"octaves",void 0);Pn([Ui(0)],uu.prototype,"pitchDecay",void 0);const L0=new Set;function _f(l){L0.add(l)}function q0(l,n){const s=`registerProcessor("${l}", ${n})`;L0.add(s)}const Ix=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;_f(Ix);const Hx=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;_f(Hx);const Gx=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;_f(Gx);const Yx="feedback-comb-filter",Fx=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;q0(Yx,Fx);class yf extends ds{constructor(){const n=Mt(yf.getDefaults(),arguments,["voice","options"]);super(n),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=u=>this.releaseAll(u),Ct(!cs(n.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const s=n.voice.getDefaults();this.options=Object.assign(s,n.options),this.voice=n.voice,this.maxPolyphony=n.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(ds.getDefaults(),{maxPolyphony:32,options:{},voice:ja})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(n){this._availableVoices.push(n);const s=this._activeVoices.findIndex(r=>r.voice===n);this._activeVoices.splice(s,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const n=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Ct(n instanceof Ys,"Voice must extend Monophonic class"),n.connect(this.output),this._voices.push(n),n}else Ko("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const n=this._availableVoices.shift(),s=this._voices.indexOf(n);this._voices.splice(s,1),this.context.isOffline||n.dispose()}}_triggerAttack(n,s,r){n.forEach(u=>{const h=new Go(this.context,u).toMidi(),c=this._getNextAvailableVoice();c&&(c.triggerAttack(u,s,r),this._activeVoices.push({midi:h,voice:c,released:!1}),this.log("triggerAttack",u,s))})}_triggerRelease(n,s){n.forEach(r=>{const u=new Go(this.context,r).toMidi(),h=this._activeVoices.find(({midi:c,released:d})=>c===u&&!d);h&&(h.voice.triggerRelease(s),h.released=!0,this.log("triggerRelease",r,s))})}_scheduleEvent(n,s,r,u){Ct(!this.disposed,"Synth was already disposed"),r<=this.now()?n==="attack"?this._triggerAttack(s,r,u):this._triggerRelease(s,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(n,s,r,u)},r-this.now())}triggerAttack(n,s,r){Array.isArray(n)||(n=[n]);const u=this.toSeconds(s);return this._scheduleEvent("attack",n,u,r),this}triggerRelease(n,s){Array.isArray(n)||(n=[n]);const r=this.toSeconds(s);return this._scheduleEvent("release",n,r),this}triggerAttackRelease(n,s,r,u){const h=this.toSeconds(r);if(this.triggerAttack(n,h,u),An(s)){Ct(An(n),"If the duration is an array, the notes must also be an array"),n=n;for(let c=0;c<n.length;c++){const d=s[Math.min(c,s.length-1)],m=this.toSeconds(d);Ct(m>0,"The duration must be greater than 0"),this.triggerRelease(n[c],h+m)}}else{const c=this.toSeconds(s);Ct(c>0,"The duration must be greater than 0"),this.triggerRelease(n,h+c)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(n){const s=kh(n,["onsilence","context"]);return this.options=Is(this.options,s),this._voices.forEach(r=>r.set(s)),this._dummyVoice.set(s),this}get(){return this._dummyVoice.get()}releaseAll(n){const s=this.toSeconds(n);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(s)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(n=>n.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class ul extends ds{constructor(){const n=Mt(ul.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(n),this.name="Sampler",this._activeSources=new Map;const s={};Object.keys(n.urls).forEach(r=>{const u=parseInt(r,10);if(Ct(wo(r)||cs(u)&&isFinite(u),`url key is neither a note or midi pitch: ${r}`),wo(r)){const h=new xn(this.context,r).toMidi();s[h]=n.urls[r]}else cs(u)&&isFinite(u)&&(s[u]=n.urls[u])}),this._buffers=new df({urls:s,onload:n.onload,baseUrl:n.baseUrl,onerror:n.onerror}),this.attack=n.attack,this.release=n.release,this.curve=n.curve,this._buffers.loaded&&Promise.resolve().then(n.onload)}static getDefaults(){return Object.assign(ds.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:ie,onerror:ie,release:.1,urls:{}})}_findClosest(n){let r=0;for(;r<96;){if(this._buffers.has(n+r))return-r;if(this._buffers.has(n-r))return r;r++}throw new Error(`No available buffers for note: ${n}`)}triggerAttack(n,s,r=1){return this.log("triggerAttack",n,s,r),Array.isArray(n)||(n=[n]),n.forEach(u=>{const h=z0(new xn(this.context,u).toFrequency()),c=Math.round(h),d=h-c,m=this._findClosest(c),p=c-m,v=this._buffers.get(p),_=U0(m+d),S=new iu({url:v,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:_}).connect(this.output);S.start(s,0,v.duration/_,r),An(this._activeSources.get(c))||this._activeSources.set(c,[]),this._activeSources.get(c).push(S),S.onended=()=>{if(this._activeSources&&this._activeSources.has(c)){const T=this._activeSources.get(c),b=T.indexOf(S);b!==-1&&T.splice(b,1)}}}),this}triggerRelease(n,s){return this.log("triggerRelease",n,s),Array.isArray(n)||(n=[n]),n.forEach(r=>{const u=new xn(this.context,r).toMidi();if(this._activeSources.has(u)&&this._activeSources.get(u).length){const h=this._activeSources.get(u);s=this.toSeconds(s),h.forEach(c=>{c.stop(s)}),this._activeSources.set(u,[])}}),this}releaseAll(n){const s=this.toSeconds(n);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(s)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(n,s,r,u=1){const h=this.toSeconds(r);return this.triggerAttack(n,h,u),An(s)?(Ct(An(n),"notes must be an array when duration is array"),n.forEach((c,d)=>{const m=s[Math.min(d,s.length-1)];this.triggerRelease(c,h+this.toSeconds(m))})):this.triggerRelease(n,h+this.toSeconds(s)),this}add(n,s,r){if(Ct(wo(n)||isFinite(n),`note must be a pitch or midi: ${n}`),wo(n)){const u=new xn(this.context,n).toMidi();this._buffers.add(u,s,r)}else this._buffers.add(n,s,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(n=>{n.forEach(s=>s.dispose())}),this._activeSources.clear(),this}}Pn([Ui(0)],ul.prototype,"attack",void 0);Pn([Ui(0)],ul.prototype,"release",void 0);class Tf extends It{constructor(){const n=Mt(Tf.getDefaults(),arguments,["pan"]);super(n),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new me({context:this.context,param:this._panner.pan,value:n.pan,minValue:-1,maxValue:1}),this._panner.channelCount=n.channelCount,this._panner.channelCountMode="explicit",xe(this,"pan")}static getDefaults(){return Object.assign(It.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const Xx="bit-crusher",Zx=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;q0(Xx,Zx);class Me extends It{constructor(){const n=Mt(Me.getDefaults(),arguments,["solo"]);super(n),this.name="Solo",this.input=this.output=new Je({context:this.context}),Me._allSolos.has(this.context)||Me._allSolos.set(this.context,new Set),Me._allSolos.get(this.context).add(this),this.solo=n.solo}static getDefaults(){return Object.assign(It.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(n){n?this._addSolo():this._removeSolo(),Me._allSolos.get(this.context).forEach(s=>s._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Me._soloed.has(this.context)||Me._soloed.set(this.context,new Set),Me._soloed.get(this.context).add(this)}_removeSolo(){Me._soloed.has(this.context)&&Me._soloed.get(this.context).delete(this)}_isSoloed(){return Me._soloed.has(this.context)&&Me._soloed.get(this.context).has(this)}_noSolos(){return!Me._soloed.has(this.context)||Me._soloed.has(this.context)&&Me._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Me._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Me._allSolos=new Map;Me._soloed=new Map;class Sf extends It{constructor(){const n=Mt(Sf.getDefaults(),arguments,["pan","volume"]);super(n),this.name="PanVol",this._panner=this.input=new Tf({context:this.context,pan:n.pan,channelCount:n.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Za({context:this.context,volume:n.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=n.mute,xe(this,["pan","volume"])}static getDefaults(){return Object.assign(It.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(n){this._volume.mute=n}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Ma extends It{constructor(){const n=Mt(Ma.getDefaults(),arguments,["volume","pan"]);super(n),this.name="Channel",this._solo=this.input=new Me({solo:n.solo,context:this.context}),this._panVol=this.output=new Sf({context:this.context,pan:n.pan,volume:n.volume,mute:n.mute,channelCount:n.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),xe(this,["pan","volume"])}static getDefaults(){return Object.assign(It.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(n){this._solo.solo=n}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(n){this._panVol.mute=n}_getBus(n){return Ma.buses.has(n)||Ma.buses.set(n,new Je({context:this.context})),Ma.buses.get(n)}send(n,s=0){const r=this._getBus(n),u=new Je({context:this.context,units:"decibels",gain:s});return this.connect(u),u.connect(r),u}receive(n){return this._getBus(n).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Ma.buses=new Map;Yn().transport;Yn().destination;Yn().destination;Yn().listener;Yn().draw;const Xr=Yn();function Qx(l){const n=l||window.fluidCanvas||document.getElementsByTagName("canvas")[0];Qa();let s=window.fluidConfig||{SIM_RESOLUTION:128,DYE_RESOLUTION:1024,CAPTURE_RESOLUTION:512,DENSITY_DISSIPATION:1,VELOCITY_DISSIPATION:.2,PRESSURE:.8,PRESSURE_ITERATIONS:20,CURL:30,SPLAT_RADIUS:.25,SPLAT_FORCE:6e3,SHADING:!0,COLORFUL:!0,COLOR_UPDATE_SPEED:10,PAUSED:!1,BACK_COLOR:{r:0,g:0,b:0},TRANSPARENT:!1,BLOOM:!1,BLOOM_ITERATIONS:8,BLOOM_RESOLUTION:256,BLOOM_INTENSITY:.8,BLOOM_THRESHOLD:.6,BLOOM_SOFT_KNEE:.7,SUNRAYS:!1,SUNRAYS_RESOLUTION:196,SUNRAYS_WEIGHT:1};Object.defineProperty(s,"PAUSED",{value:!1,writable:!1,configurable:!1});function r(){this.id=-1,this.texcoordX=0,this.texcoordY=0,this.prevTexcoordX=0,this.prevTexcoordY=0,this.deltaX=0,this.deltaY=0,this.down=!1,this.moved=!1,this.color=[30,0,300]}let u=[],h=[];u.push(new r);const{gl:c,ext:d}=m(n);_()&&(s.DYE_RESOLUTION=512),d.supportLinearFiltering||(s.DYE_RESOLUTION=512,s.SHADING=!1,s.BLOOM=!1,s.SUNRAYS=!1);function m(w){const L={alpha:!0,depth:!1,stencil:!1,antialias:!1,preserveDrawingBuffer:!1};let z=w.getContext("webgl2",L);const et=!!z;et||(z=w.getContext("webgl",L)||w.getContext("experimental-webgl",L));let yt,Dt;et?(z.getExtension("EXT_color_buffer_float"),Dt=z.getExtension("OES_texture_float_linear")):(yt=z.getExtension("OES_texture_half_float"),Dt=z.getExtension("OES_texture_half_float_linear")),z.clearColor(0,0,0,1);const Nt=et?z.HALF_FLOAT:yt.HALF_FLOAT_OES;let Qt,Wt,wn;return et?(Qt=p(z,z.RGBA16F,z.RGBA,Nt),Wt=p(z,z.RG16F,z.RG,Nt),wn=p(z,z.R16F,z.RED,Nt)):(Qt=p(z,z.RGBA,z.RGBA,Nt),Wt=p(z,z.RGBA,z.RGBA,Nt),wn=p(z,z.RGBA,z.RGBA,Nt)),{gl:z,ext:{formatRGBA:Qt,formatRG:Wt,formatR:wn,halfFloatTexType:Nt,supportLinearFiltering:Dt}}}function p(w,L,z,et){if(!v(w,L,z,et))switch(L){case w.R16F:return p(w,w.RG16F,w.RG,et);case w.RG16F:return p(w,w.RGBA16F,w.RGBA,et);default:return null}return{internalFormat:L,format:z}}function v(w,L,z,et){let yt=w.createTexture();w.bindTexture(w.TEXTURE_2D,yt),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.NEAREST),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,w.NEAREST),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),w.texImage2D(w.TEXTURE_2D,0,L,4,4,0,z,et,null);let Dt=w.createFramebuffer();return w.bindFramebuffer(w.FRAMEBUFFER,Dt),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,yt,0),w.checkFramebufferStatus(w.FRAMEBUFFER)==w.FRAMEBUFFER_COMPLETE}function _(){return/Mobi|Android/i.test(navigator.userAgent)}class S{constructor(L,z){this.vertexShader=L,this.fragmentShaderSource=z,this.programs=[],this.activeProgram=null,this.uniforms=[]}setKeywords(L){let z=0;for(let yt=0;yt<L.length;yt++)z+=pl(L[yt]);let et=this.programs[z];if(et==null){let yt=E(c.FRAGMENT_SHADER,this.fragmentShaderSource,L);et=b(this.vertexShader,yt),this.programs[z]=et}et!=this.activeProgram&&(this.uniforms=A(et),this.activeProgram=et)}bind(){c.useProgram(this.activeProgram)}}class T{constructor(L,z){this.uniforms={},this.program=b(L,z),this.uniforms=A(this.program)}bind(){c.useProgram(this.program)}}function b(w,L){let z=c.createProgram();return c.attachShader(z,w),c.attachShader(z,L),c.linkProgram(z),c.getProgramParameter(z,c.LINK_STATUS)||console.trace(c.getProgramInfoLog(z)),z}function A(w){let L=[],z=c.getProgramParameter(w,c.ACTIVE_UNIFORMS);for(let et=0;et<z;et++){let yt=c.getActiveUniform(w,et).name;L[yt]=c.getUniformLocation(w,yt)}return L}function E(w,L,z){L=R(L,z);const et=c.createShader(w);return c.shaderSource(et,L),c.compileShader(et),c.getShaderParameter(et,c.COMPILE_STATUS)||console.trace(c.getShaderInfoLog(et)),et}function R(w,L){if(L==null)return w;let z="";return L.forEach(et=>{z+="#define "+et+`
`}),z+w}const k=E(c.VERTEX_SHADER,`
    precision highp float;

    attribute vec2 aPosition;
    varying vec2 vUv;
    varying vec2 vL;
    varying vec2 vR;
    varying vec2 vT;
    varying vec2 vB;
    uniform vec2 texelSize;

    void main () {
        vUv = aPosition * 0.5 + 0.5;
        vL = vUv - vec2(texelSize.x, 0.0);
        vR = vUv + vec2(texelSize.x, 0.0);
        vT = vUv + vec2(0.0, texelSize.y);
        vB = vUv - vec2(0.0, texelSize.y);
        gl_Position = vec4(aPosition, 0.0, 1.0);
    }
`),q=E(c.VERTEX_SHADER,`
    precision highp float;

    attribute vec2 aPosition;
    varying vec2 vUv;
    varying vec2 vL;
    varying vec2 vR;
    uniform vec2 texelSize;

    void main () {
        vUv = aPosition * 0.5 + 0.5;
        float offset = 1.33333333;
        vL = vUv - texelSize * offset;
        vR = vUv + texelSize * offset;
        gl_Position = vec4(aPosition, 0.0, 1.0);
    }
`),P=E(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying vec2 vUv;
    varying vec2 vL;
    varying vec2 vR;
    uniform sampler2D uTexture;

    void main () {
        vec4 sum = texture2D(uTexture, vUv) * 0.29411764;
        sum += texture2D(uTexture, vL) * 0.35294117;
        sum += texture2D(uTexture, vR) * 0.35294117;
        gl_FragColor = sum;
    }
`),O=E(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying highp vec2 vUv;
    uniform sampler2D uTexture;

    void main () {
        gl_FragColor = texture2D(uTexture, vUv);
    }
`),j=E(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying highp vec2 vUv;
    uniform sampler2D uTexture;
    uniform float value;

    void main () {
        gl_FragColor = value * texture2D(uTexture, vUv);
    }
`),Y=E(c.FRAGMENT_SHADER,`
    precision mediump float;

    uniform vec4 color;

    void main () {
        gl_FragColor = color;
    }
`),U=E(c.FRAGMENT_SHADER,`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    uniform sampler2D uTexture;
    uniform float aspectRatio;

    #define SCALE 25.0

    void main () {
        vec2 uv = floor(vUv * SCALE * vec2(aspectRatio, 1.0));
        float v = mod(uv.x + uv.y, 2.0);
        v = v * 0.1 + 0.8;
        gl_FragColor = vec4(vec3(v), 1.0);
    }
`),st=`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    varying vec2 vL;
    varying vec2 vR;
    varying vec2 vT;
    varying vec2 vB;
    uniform sampler2D uTexture;
    uniform sampler2D uBloom;
    uniform sampler2D uSunrays;
    uniform sampler2D uDithering;
    uniform vec2 ditherScale;
    uniform vec2 texelSize;

    vec3 linearToGamma (vec3 color) {
        color = max(color, vec3(0));
        return max(1.055 * pow(color, vec3(0.416666667)) - 0.055, vec3(0));
    }

    void main () {
        vec3 c = texture2D(uTexture, vUv).rgb;

    #ifdef SHADING
        vec3 lc = texture2D(uTexture, vL).rgb;
        vec3 rc = texture2D(uTexture, vR).rgb;
        vec3 tc = texture2D(uTexture, vT).rgb;
        vec3 bc = texture2D(uTexture, vB).rgb;

        float dx = length(rc) - length(lc);
        float dy = length(tc) - length(bc);

        vec3 n = normalize(vec3(dx, dy, length(texelSize)));
        vec3 l = vec3(0.0, 0.0, 1.0);

        float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);
        c *= diffuse;
    #endif

    #ifdef BLOOM
        vec3 bloom = texture2D(uBloom, vUv).rgb;
    #endif

    #ifdef SUNRAYS
        float sunrays = texture2D(uSunrays, vUv).r;
        c *= sunrays;
    #ifdef BLOOM
        bloom *= sunrays;
    #endif
    #endif

    #ifdef BLOOM
        float noise = texture2D(uDithering, vUv * ditherScale).r;
        noise = noise * 2.0 - 1.0;
        bloom += noise / 255.0;
        bloom = linearToGamma(bloom);
        c += bloom;
    #endif

        float a = max(c.r, max(c.g, c.b));
        gl_FragColor = vec4(c, a);
    }
`,it=E(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying vec2 vUv;
    uniform sampler2D uTexture;
    uniform vec3 curve;
    uniform float threshold;

    void main () {
        vec3 c = texture2D(uTexture, vUv).rgb;
        float br = max(c.r, max(c.g, c.b));
        float rq = clamp(br - curve.x, 0.0, curve.y);
        rq = curve.z * rq * rq;
        c *= max(rq, br - threshold) / max(br, 0.0001);
        gl_FragColor = vec4(c, 0.0);
    }
`),tt=E(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying vec2 vL;
    varying vec2 vR;
    varying vec2 vT;
    varying vec2 vB;
    uniform sampler2D uTexture;

    void main () {
        vec4 sum = vec4(0.0);
        sum += texture2D(uTexture, vL);
        sum += texture2D(uTexture, vR);
        sum += texture2D(uTexture, vT);
        sum += texture2D(uTexture, vB);
        sum *= 0.25;
        gl_FragColor = sum;
    }
`),Q=E(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying vec2 vL;
    varying vec2 vR;
    varying vec2 vT;
    varying vec2 vB;
    uniform sampler2D uTexture;
    uniform float intensity;

    void main () {
        vec4 sum = vec4(0.0);
        sum += texture2D(uTexture, vL);
        sum += texture2D(uTexture, vR);
        sum += texture2D(uTexture, vT);
        sum += texture2D(uTexture, vB);
        sum *= 0.25;
        gl_FragColor = sum * intensity;
    }
`),ft=E(c.FRAGMENT_SHADER,`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    uniform sampler2D uTexture;

    void main () {
        vec4 c = texture2D(uTexture, vUv);
        float br = max(c.r, max(c.g, c.b));
        c.a = 1.0 - min(max(br * 20.0, 0.0), 0.8);
        gl_FragColor = c;
    }
`),ht=E(c.FRAGMENT_SHADER,`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    uniform sampler2D uTexture;
    uniform float weight;

    #define ITERATIONS 16

    void main () {
        float Density = 0.3;
        float Decay = 0.95;
        float Exposure = 0.7;

        vec2 coord = vUv;
        vec2 dir = vUv - 0.5;

        dir *= 1.0 / float(ITERATIONS) * Density;
        float illuminationDecay = 1.0;

        float color = texture2D(uTexture, vUv).a;

        for (int i = 0; i < ITERATIONS; i++)
        {
            coord -= dir;
            float col = texture2D(uTexture, coord).a;
            color += col * illuminationDecay * weight;
            illuminationDecay *= Decay;
        }

        gl_FragColor = vec4(color * Exposure, 0.0, 0.0, 1.0);
    }
`),_t=E(c.FRAGMENT_SHADER,`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    uniform sampler2D uTarget;
    uniform float aspectRatio;
    uniform vec3 color;
    uniform vec2 point;
    uniform float radius;

    void main () {
        vec2 p = vUv - point.xy;
        p.x *= aspectRatio;
        vec3 splat = exp(-dot(p, p) / radius) * color;
        vec3 base = texture2D(uTarget, vUv).xyz;
        gl_FragColor = vec4(base + splat, 1.0);
    }
`),D=E(c.FRAGMENT_SHADER,`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    uniform sampler2D uVelocity;
    uniform sampler2D uSource;
    uniform vec2 texelSize;
    uniform vec2 dyeTexelSize;
    uniform float dt;
    uniform float dissipation;

    vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {
        vec2 st = uv / tsize - 0.5;

        vec2 iuv = floor(st);
        vec2 fuv = fract(st);

        vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);
        vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);
        vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);
        vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);

        return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);
    }

    void main () {
    #ifdef MANUAL_FILTERING
        vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;
        vec4 result = bilerp(uSource, coord, dyeTexelSize);
    #else
        vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;
        vec4 result = texture2D(uSource, coord);
    #endif
        float decay = 1.0 + dissipation * dt;
        gl_FragColor = result / decay;
    }`,d.supportLinearFiltering?null:["MANUAL_FILTERING"]),X=E(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying highp vec2 vUv;
    varying highp vec2 vL;
    varying highp vec2 vR;
    varying highp vec2 vT;
    varying highp vec2 vB;
    uniform sampler2D uVelocity;

    void main () {
        float L = texture2D(uVelocity, vL).x;
        float R = texture2D(uVelocity, vR).x;
        float T = texture2D(uVelocity, vT).y;
        float B = texture2D(uVelocity, vB).y;

        vec2 C = texture2D(uVelocity, vUv).xy;
        if (vL.x < 0.0) { L = -C.x; }
        if (vR.x > 1.0) { R = -C.x; }
        if (vT.y > 1.0) { T = -C.y; }
        if (vB.y < 0.0) { B = -C.y; }

        float div = 0.5 * (R - L + T - B);
        gl_FragColor = vec4(div, 0.0, 0.0, 1.0);
    }
`),lt=E(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying highp vec2 vUv;
    varying highp vec2 vL;
    varying highp vec2 vR;
    varying highp vec2 vT;
    varying highp vec2 vB;
    uniform sampler2D uVelocity;

    void main () {
        float L = texture2D(uVelocity, vL).y;
        float R = texture2D(uVelocity, vR).y;
        float T = texture2D(uVelocity, vT).x;
        float B = texture2D(uVelocity, vB).x;
        float vorticity = R - L - T + B;
        gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);
    }
`),ct=E(c.FRAGMENT_SHADER,`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    varying vec2 vL;
    varying vec2 vR;
    varying vec2 vT;
    varying vec2 vB;
    uniform sampler2D uVelocity;
    uniform sampler2D uCurl;
    uniform float curl;
    uniform float dt;

    void main () {
        float L = texture2D(uCurl, vL).x;
        float R = texture2D(uCurl, vR).x;
        float T = texture2D(uCurl, vT).x;
        float B = texture2D(uCurl, vB).x;
        float C = texture2D(uCurl, vUv).x;

        vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));
        force /= length(force) + 0.0001;
        force *= curl * C;
        force.y *= -1.0;

        vec2 velocity = texture2D(uVelocity, vUv).xy;
        velocity += force * dt;
        velocity = min(max(velocity, -1000.0), 1000.0);
        gl_FragColor = vec4(velocity, 0.0, 1.0);
    }
`),x=E(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying highp vec2 vUv;
    varying highp vec2 vL;
    varying highp vec2 vR;
    varying highp vec2 vT;
    varying highp vec2 vB;
    uniform sampler2D uPressure;
    uniform sampler2D uDivergence;

    void main () {
        float L = texture2D(uPressure, vL).x;
        float R = texture2D(uPressure, vR).x;
        float T = texture2D(uPressure, vT).x;
        float B = texture2D(uPressure, vB).x;
        float C = texture2D(uPressure, vUv).x;
        float divergence = texture2D(uDivergence, vUv).x;
        float pressure = (L + R + B + T - divergence) * 0.25;
        gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);
    }
`),I=E(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying highp vec2 vUv;
    varying highp vec2 vL;
    varying highp vec2 vR;
    varying highp vec2 vT;
    varying highp vec2 vB;
    uniform sampler2D uPressure;
    uniform sampler2D uVelocity;

    void main () {
        float L = texture2D(uPressure, vL).x;
        float R = texture2D(uPressure, vR).x;
        float T = texture2D(uPressure, vT).x;
        float B = texture2D(uPressure, vB).x;
        vec2 velocity = texture2D(uVelocity, vUv).xy;
        velocity.xy -= vec2(R - L, T - B);
        gl_FragColor = vec4(velocity, 0.0, 1.0);
    }
`),Z=(c.bindBuffer(c.ARRAY_BUFFER,c.createBuffer()),c.bufferData(c.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),c.STATIC_DRAW),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,c.createBuffer()),c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),c.STATIC_DRAW),c.vertexAttribPointer(0,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(0),(w,L=!1)=>{w==null?(c.viewport(0,0,c.drawingBufferWidth,c.drawingBufferHeight),c.bindFramebuffer(c.FRAMEBUFFER,null)):(c.viewport(0,0,w.width,w.height),c.bindFramebuffer(c.FRAMEBUFFER,w.fbo)),L&&(c.clearColor(0,0,0,1),c.clear(c.COLOR_BUFFER_BIT)),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0)});let nt,at,gt,vt,kt,ut,ae=[],ge,Ce,Ae=vs("/LDR_LLL1_0.png");const Ee=new T(q,P),Wn=new T(k,O),dt=new T(k,j),bt=new T(k,Y),zt=new T(k,U),Xt=new T(k,it),Rt=new T(k,tt),rt=new T(k,Q),ot=new T(k,ft),J=new T(k,ht),At=new T(k,_t),pt=new T(k,D),Ht=new T(k,X),Lt=new T(k,lt),Yt=new T(k,ct),ve=new T(k,x),Zt=new T(k,I),Tt=new S(k,st);function re(){let w=Ln(s.SIM_RESOLUTION),L=Ln(s.DYE_RESOLUTION);const z=d.halfFloatTexType,et=d.formatRGBA,yt=d.formatRG,Dt=d.formatR,Nt=d.supportLinearFiltering?c.LINEAR:c.NEAREST;c.disable(c.BLEND),nt==null?nt=tn(L.width,L.height,et.internalFormat,et.format,z,Nt):nt=_e(nt,L.width,L.height,et.internalFormat,et.format,z,Nt),at==null?at=tn(w.width,w.height,yt.internalFormat,yt.format,z,Nt):at=_e(at,w.width,w.height,yt.internalFormat,yt.format,z,Nt),gt=Le(w.width,w.height,Dt.internalFormat,Dt.format,z,c.NEAREST),vt=Le(w.width,w.height,Dt.internalFormat,Dt.format,z,c.NEAREST),kt=tn(w.width,w.height,Dt.internalFormat,Dt.format,z,c.NEAREST),dn(),hi()}function dn(){let w=Ln(s.BLOOM_RESOLUTION);const L=d.halfFloatTexType,z=d.formatRGBA,et=d.supportLinearFiltering?c.LINEAR:c.NEAREST;ut=Le(w.width,w.height,z.internalFormat,z.format,L,et),ae.length=0;for(let yt=0;yt<s.BLOOM_ITERATIONS;yt++){let Dt=w.width>>yt+1,Nt=w.height>>yt+1;if(Dt<2||Nt<2)break;let Qt=Le(Dt,Nt,z.internalFormat,z.format,L,et);ae.push(Qt)}}function hi(){let w=Ln(s.SUNRAYS_RESOLUTION);const L=d.halfFloatTexType,z=d.formatR,et=d.supportLinearFiltering?c.LINEAR:c.NEAREST;ge=Le(w.width,w.height,z.internalFormat,z.format,L,et),Ce=Le(w.width,w.height,z.internalFormat,z.format,L,et)}function Le(w,L,z,et,yt,Dt){c.activeTexture(c.TEXTURE0);let Nt=c.createTexture();c.bindTexture(c.TEXTURE_2D,Nt),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,Dt),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,Dt),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.texImage2D(c.TEXTURE_2D,0,z,w,L,0,et,yt,null);let Qt=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,Qt),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,Nt,0),c.viewport(0,0,w,L),c.clear(c.COLOR_BUFFER_BIT);let Wt=1/w,wn=1/L;return{texture:Nt,fbo:Qt,width:w,height:L,texelSizeX:Wt,texelSizeY:wn,attach(ti){return c.activeTexture(c.TEXTURE0+ti),c.bindTexture(c.TEXTURE_2D,Nt),ti}}}function tn(w,L,z,et,yt,Dt){let Nt=Le(w,L,z,et,yt,Dt),Qt=Le(w,L,z,et,yt,Dt);return{width:w,height:L,texelSizeX:Nt.texelSizeX,texelSizeY:Nt.texelSizeY,get read(){return Nt},set read(Wt){Nt=Wt},get write(){return Qt},set write(Wt){Qt=Wt},swap(){let Wt=Nt;Nt=Qt,Qt=Wt}}}function Kn(w,L,z,et,yt,Dt,Nt){let Qt=Le(L,z,et,yt,Dt,Nt);return Wn.bind(),c.uniform1i(Wn.uniforms.uTexture,w.attach(0)),Z(Qt),Qt}function _e(w,L,z,et,yt,Dt,Nt){return w.width==L&&w.height==z||(w.read=Kn(w.read,L,z,et,yt,Dt,Nt),w.write=Le(L,z,et,yt,Dt,Nt),w.width=L,w.height=z,w.texelSizeX=1/L,w.texelSizeY=1/z),w}function vs(w){let L=c.createTexture();c.bindTexture(c.TEXTURE_2D,L),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT),c.texImage2D(c.TEXTURE_2D,0,c.RGB,1,1,0,c.RGB,c.UNSIGNED_BYTE,new Uint8Array([255,255,255]));let z={texture:L,width:1,height:1,attach(yt){return c.activeTexture(c.TEXTURE0+yt),c.bindTexture(c.TEXTURE_2D,L),yt}},et=new Image;return et.onload=()=>{z.width=et.width,z.height=et.height,c.bindTexture(c.TEXTURE_2D,L),c.texImage2D(c.TEXTURE_2D,0,c.RGB,c.RGB,c.UNSIGNED_BYTE,et)},et.src=w,z}function Jn(){let w=[];s.SHADING&&w.push("SHADING"),s.BLOOM&&w.push("BLOOM"),s.SUNRAYS&&w.push("SUNRAYS"),Tt.setKeywords(w)}Jn(),re();let _s=Date.now(),zi=0;Vi();function Vi(){const w=cu();Qa()&&re(),cl(w),Pa(),s.PAUSED||Wa(w),hl(null),requestAnimationFrame(Vi)}function cu(){let w=Date.now(),L=(w-_s)/1e3;return L=Math.min(L,.016666),_s=w,L}function Qa(){let w=pn(n.clientWidth),L=pn(n.clientHeight);return n.width!=w||n.height!=L?(n.width=w,n.height=L,!0):!1}function cl(w){s.COLORFUL&&(zi+=w*s.COLOR_UPDATE_SPEED,zi>=1&&(zi=pi(zi,0,1),u.forEach(L=>{L.color=ye()})))}function Pa(){h.length>0&&du(h.pop()),u.forEach(w=>{w.moved&&(w.moved=!1,fu(w))})}function Wa(w){c.disable(c.BLEND),Lt.bind(),c.uniform2f(Lt.uniforms.texelSize,at.texelSizeX,at.texelSizeY),c.uniform1i(Lt.uniforms.uVelocity,at.read.attach(0)),Z(vt),Yt.bind(),c.uniform2f(Yt.uniforms.texelSize,at.texelSizeX,at.texelSizeY),c.uniform1i(Yt.uniforms.uVelocity,at.read.attach(0)),c.uniform1i(Yt.uniforms.uCurl,vt.attach(1)),c.uniform1f(Yt.uniforms.curl,s.CURL),c.uniform1f(Yt.uniforms.dt,w),Z(at.write),at.swap(),Ht.bind(),c.uniform2f(Ht.uniforms.texelSize,at.texelSizeX,at.texelSizeY),c.uniform1i(Ht.uniforms.uVelocity,at.read.attach(0)),Z(gt),dt.bind(),c.uniform1i(dt.uniforms.uTexture,kt.read.attach(0)),c.uniform1f(dt.uniforms.value,s.PRESSURE),Z(kt.write),kt.swap(),ve.bind(),c.uniform2f(ve.uniforms.texelSize,at.texelSizeX,at.texelSizeY),c.uniform1i(ve.uniforms.uDivergence,gt.attach(0));for(let z=0;z<s.PRESSURE_ITERATIONS;z++)c.uniform1i(ve.uniforms.uPressure,kt.read.attach(1)),Z(kt.write),kt.swap();Zt.bind(),c.uniform2f(Zt.uniforms.texelSize,at.texelSizeX,at.texelSizeY),c.uniform1i(Zt.uniforms.uPressure,kt.read.attach(0)),c.uniform1i(Zt.uniforms.uVelocity,at.read.attach(1)),Z(at.write),at.swap(),pt.bind(),c.uniform2f(pt.uniforms.texelSize,at.texelSizeX,at.texelSizeY),d.supportLinearFiltering||c.uniform2f(pt.uniforms.dyeTexelSize,at.texelSizeX,at.texelSizeY);let L=at.read.attach(0);c.uniform1i(pt.uniforms.uVelocity,L),c.uniform1i(pt.uniforms.uSource,L),c.uniform1f(pt.uniforms.dt,w),c.uniform1f(pt.uniforms.dissipation,s.VELOCITY_DISSIPATION),Z(at.write),at.swap(),d.supportLinearFiltering||c.uniform2f(pt.uniforms.dyeTexelSize,nt.texelSizeX,nt.texelSizeY),c.uniform1i(pt.uniforms.uVelocity,at.read.attach(0)),c.uniform1i(pt.uniforms.uSource,nt.read.attach(1)),c.uniform1f(pt.uniforms.dissipation,s.DENSITY_DISSIPATION),Z(nt.write),nt.swap()}function hl(w){s.BLOOM&&Pe(nt.read,ut),s.SUNRAYS&&(Bi(nt.read,nt.write,ge),Ka(ge,Ce,1)),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),c.enable(c.BLEND),s.TRANSPARENT||hu(w,dl(s.BACK_COLOR)),s.TRANSPARENT&&$n(w),qe(w)}function hu(w,L){bt.bind(),c.uniform4f(bt.uniforms.color,L.r,L.g,L.b,1),Z(w)}function $n(w){zt.bind(),c.uniform1f(zt.uniforms.aspectRatio,n.width/n.height),Z(w)}function qe(w){let L=c.drawingBufferWidth,z=c.drawingBufferHeight;if(Tt.bind(),s.SHADING&&c.uniform2f(Tt.uniforms.texelSize,1/L,1/z),c.uniform1i(Tt.uniforms.uTexture,nt.read.attach(0)),s.BLOOM){c.uniform1i(Tt.uniforms.uBloom,ut.attach(1)),c.uniform1i(Tt.uniforms.uDithering,Ae.attach(2));let et=pu(Ae,L,z);c.uniform2f(Tt.uniforms.ditherScale,et.x,et.y)}s.SUNRAYS&&c.uniform1i(Tt.uniforms.uSunrays,ge.attach(3)),Z(w)}function Pe(w,L){if(ae.length<2)return;let z=L;c.disable(c.BLEND),Xt.bind();let et=s.BLOOM_THRESHOLD*s.BLOOM_SOFT_KNEE+1e-4,yt=s.BLOOM_THRESHOLD-et,Dt=et*2,Nt=.25/et;c.uniform3f(Xt.uniforms.curve,yt,Dt,Nt),c.uniform1f(Xt.uniforms.threshold,s.BLOOM_THRESHOLD),c.uniform1i(Xt.uniforms.uTexture,w.attach(0)),Z(z),Rt.bind();for(let Qt=0;Qt<ae.length;Qt++){let Wt=ae[Qt];c.uniform2f(Rt.uniforms.texelSize,z.texelSizeX,z.texelSizeY),c.uniform1i(Rt.uniforms.uTexture,z.attach(0)),Z(Wt),z=Wt}c.blendFunc(c.ONE,c.ONE),c.enable(c.BLEND);for(let Qt=ae.length-2;Qt>=0;Qt--){let Wt=ae[Qt];c.uniform2f(Rt.uniforms.texelSize,z.texelSizeX,z.texelSizeY),c.uniform1i(Rt.uniforms.uTexture,z.attach(0)),c.viewport(0,0,Wt.width,Wt.height),Z(Wt),z=Wt}c.disable(c.BLEND),rt.bind(),c.uniform2f(rt.uniforms.texelSize,z.texelSizeX,z.texelSizeY),c.uniform1i(rt.uniforms.uTexture,z.attach(0)),c.uniform1f(rt.uniforms.intensity,s.BLOOM_INTENSITY),Z(L)}function Bi(w,L,z){c.disable(c.BLEND),ot.bind(),c.uniform1i(ot.uniforms.uTexture,w.attach(0)),Z(L),J.bind(),c.uniform1f(J.uniforms.weight,s.SUNRAYS_WEIGHT),c.uniform1i(J.uniforms.uTexture,L.attach(0)),Z(z)}function Ka(w,L,z){Ee.bind();for(let et=0;et<z;et++)c.uniform2f(Ee.uniforms.texelSize,w.texelSizeX,0),c.uniform1i(Ee.uniforms.uTexture,w.attach(0)),Z(L),c.uniform2f(Ee.uniforms.texelSize,0,w.texelSizeY),c.uniform1i(Ee.uniforms.uTexture,L.attach(0)),Z(w)}function fu(w){let L=w.deltaX*s.SPLAT_FORCE,z=w.deltaY*s.SPLAT_FORCE;ys(w.texcoordX,w.texcoordY,L,z,w.color)}function du(w){for(let L=0;L<w;L++){const z=ye();z.r*=10,z.g*=10,z.b*=10;const et=Math.random(),yt=Math.random(),Dt=1e3*(Math.random()-.5),Nt=1e3*(Math.random()-.5);ys(et,yt,Dt,Nt,z)}}function ys(w,L,z,et,yt){At.bind(),c.uniform1i(At.uniforms.uTarget,at.read.attach(0)),c.uniform1f(At.uniforms.aspectRatio,n.width/n.height),c.uniform2f(At.uniforms.point,w,L),c.uniform3f(At.uniforms.color,z,et,0),c.uniform1f(At.uniforms.radius,Ts(s.SPLAT_RADIUS/100)),Z(at.write),at.swap(),c.uniform1i(At.uniforms.uTarget,nt.read.attach(0)),c.uniform3f(At.uniforms.color,yt.r,yt.g,yt.b),Z(nt.write),nt.swap()}window.splat=ys;function Ts(w){let L=n.width/n.height;return L>1&&(w*=L),w}n.addEventListener("mousedown",w=>{let L=pn(w.offsetX),z=pn(w.offsetY),et=u.find(yt=>yt.id==-1);et==null&&(et=new r),Qs(et,-1,L,z)}),n.addEventListener("mousemove",w=>{let L=u[0];if(!L.down)return;let z=pn(w.offsetX),et=pn(w.offsetY);fi(L,z,et)}),window.addEventListener("mouseup",()=>{di(u[0])}),n.addEventListener("touchstart",w=>{w.preventDefault();const L=w.targetTouches;for(;L.length>=u.length;)u.push(new r);for(let z=0;z<L.length;z++){let et=pn(L[z].pageX),yt=pn(L[z].pageY);Qs(u[z+1],L[z].identifier,et,yt)}}),n.addEventListener("touchmove",w=>{w.preventDefault();const L=w.targetTouches;for(let z=0;z<L.length;z++){let et=u[z+1];if(!et.down)continue;let yt=pn(L[z].pageX),Dt=pn(L[z].pageY);fi(et,yt,Dt)}},!1),window.addEventListener("touchend",w=>{const L=w.changedTouches;for(let z=0;z<L.length;z++){let et=u.find(yt=>yt.id==L[z].identifier);et!=null&&di(et)}});function Qs(w,L,z,et){w.id=L,w.down=!0,w.moved=!1,w.texcoordX=z/n.width,w.texcoordY=1-et/n.height,w.prevTexcoordX=w.texcoordX,w.prevTexcoordY=w.texcoordY,w.deltaX=0,w.deltaY=0,w.color=ye()}function fi(w,L,z){w.prevTexcoordX=w.texcoordX,w.prevTexcoordY=w.texcoordY,w.texcoordX=L/n.width,w.texcoordY=1-z/n.height,w.deltaX=Ss(w.texcoordX-w.prevTexcoordX),w.deltaY=Li(w.texcoordY-w.prevTexcoordY),w.moved=Math.abs(w.deltaX)>0||Math.abs(w.deltaY)>0}function di(w){w.down=!1}function Ss(w){let L=n.width/n.height;return L<1&&(w*=L),w}function Li(w){let L=n.width/n.height;return L>1&&(w/=L),w}function ye(){let w=fl(Math.random(),1,1);return w.r*=.15,w.g*=.15,w.b*=.15,w}function fl(w,L,z){let et,yt,Dt,Nt,Qt,Wt,wn,ti;switch(Nt=Math.floor(w*6),Qt=w*6-Nt,Wt=z*(1-L),wn=z*(1-Qt*L),ti=z*(1-(1-Qt)*L),Nt%6){case 0:et=z,yt=ti,Dt=Wt;break;case 1:et=wn,yt=z,Dt=Wt;break;case 2:et=Wt,yt=z,Dt=ti;break;case 3:et=Wt,yt=wn,Dt=z;break;case 4:et=ti,yt=Wt,Dt=z;break;case 5:et=z,yt=Wt,Dt=wn;break}return{r:et,g:yt,b:Dt}}function dl(w){return{r:w.r/255,g:w.g/255,b:w.b/255}}function pi(w,L,z){let et=z-L;return(w-L)%et+L}function Ln(w){let L=c.drawingBufferWidth/c.drawingBufferHeight;L<1&&(L=1/L);let z=Math.round(w),et=Math.round(w*L);return c.drawingBufferWidth>c.drawingBufferHeight?{width:et,height:z}:{width:z,height:et}}function pu(w,L,z){return{x:L/w.width,y:z/w.height}}function pn(w){let L=window.devicePixelRatio||1;return Math.floor(w*L)}function pl(w){if(w.length==0)return 0;let L=0;for(let z=0;z<w.length;z++)L=(L<<5)-L+w.charCodeAt(z),L|=0;return L}return{splat:ys,config:s,canvas:n}}function Px(l){const s=Qx(l).splat,r=[],u=500,h=5,c=.3;function d(){const S=Date.now()-u;for(;r.length>0&&r[0]<S;)r.shift()}function m(){d();const _=r.length;if(_<=h)return 1;const S=_-h,T=h*2;return 1-Math.min(S/T,1)*(1-c)}function p(_){const S=Math.random(),A=v(S,_,1);A.r*=.15,A.g*=.15,A.b*=.15;const E=m(),k=(8+_*4)*E;return A.r*=k,A.g*=k,A.b*=k,A}function v(_,S,T){let b,A,E,R,k,q,P,O;switch(R=Math.floor(_*6),k=_*6-R,q=T*(1-S),P=T*(1-k*S),O=T*(1-(1-k)*S),R%6){case 0:b=T,A=O,E=q;break;case 1:b=P,A=T,E=q;break;case 2:b=q,A=T,E=O;break;case 3:b=q,A=P,E=T;break;case 4:b=O,A=q,E=T;break;case 5:b=T,A=q,E=P;break}return{r:b,g:A,b:E}}return{triggerSplat:_=>{if(!s)return;r.push(Date.now());const S=Math.random(),T=Math.random(),b=1e3*(Math.random()-.5),A=1e3*(Math.random()-.5),E=p(_);s(S,T,b,A,E)},destroy:()=>{}}}const j0=mt.forwardRef(({className:l},n)=>{const s=mt.useRef(null),r=mt.useRef(null);return mt.useImperativeHandle(n,()=>({triggerSplat:u=>{r.current&&r.current.triggerSplat(u)}})),mt.useEffect(()=>(s.current&&requestAnimationFrame(()=>{r.current=Px(s.current)}),()=>{r.current&&r.current.destroy()}),[]),F.jsx("canvas",{ref:s,className:l,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})});j0.displayName="FluidCanvas";const Cg={MAJOR_SECOND:2,MINOR_SIXTH:8},Wx={MAJOR:[0,2,4,5,7,9,11],NATURAL_MINOR:[0,2,3,5,7,8,10],HARMONIC_MINOR:[0,2,3,5,7,8,11],PENTATONIC_MAJOR:[0,2,4,7,9],PENTATONIC_MINOR:[0,3,5,7,10],BLUES:[0,3,5,6,7,10],CHROMATIC:[0,1,2,3,4,5,6,7,8,9,10,11]},Kx={MAJOR_TRIAD:[0,4,7],MINOR_TRIAD:[0,3,7],DIMINISHED:[0,3,6],AUGMENTED:[0,4,8],MAJOR_SEVENTH:[0,4,7,11],DOMINANT_SEVENTH:[0,4,7,10],MINOR_SEVENTH:[0,3,7,10]},Jx={I_V_vi_IV:[0,7,9,5],I_IV_V:[0,5,7],ii_V_I:[2,7,0],I_vi_IV_V:[0,9,5,7],vi_IV_I_V:[9,5,0,7]},Hn={HISTORY:32,IOI_WIN:16,VEL_WIN:16,CHORD_WINDOW:250,EMA_ALPHA:.1,BOOST_POS:.15,BOOST_NEG:.02},Vh=(l,n,s)=>Math.max(n,Math.min(s,l)),Oo=(l,n,s)=>Vh((l-n)/(s-n),0,1);class $x{constructor(){this.reset()}reset(){this.noteHistory=[],this.timeHistory=[],this.rhythmPattern=[],this.velHistory=[],this.chordBuffer=[],this.chordBufferTime=0,this.chordHistory=[],this.scaleContext=null,this.tempo=null,this.ema=null,this.musicalityScore=0,this.metrics={melodicCoherence:0,harmonicProgression:0,rhythmicConsistency:0,scaleAdherence:0,phraseStructure:0,dynamicVariation:0}}processNote(n,s,r=.5){return this.noteHistory.push(n),this.timeHistory.push(s),this.noteHistory.length>Hn.HISTORY&&(this.noteHistory.shift(),this.timeHistory.shift()),this.updateRhythmicConsistency(s),this.updateMelodicCoherence(),this.updateScaleAdherence(),this.updateHarmonicProgression(),this.updatePhraseStructure(),this.updateDynamicVariation(r),this.calculateMusicalityScore(),{score:this.musicalityScore,metrics:{...this.metrics},excitement:this.calculateExcitementBoost()}}updateRhythmicConsistency(n){if(this.timeHistory.length<2)return;const s=n-this.timeHistory[this.timeHistory.length-2];this.rhythmPattern.push(s),this.rhythmPattern.length>Hn.IOI_WIN&&this.rhythmPattern.shift();const r=this.rhythmPattern.reduce((c,d)=>c+d,0)/this.rhythmPattern.length,u=this.rhythmPattern.reduce((c,d)=>c+(d-r)**2,0)/this.rhythmPattern.length,h=Math.sqrt(u)/r;this.metrics.rhythmicConsistency=1-Oo(h,.05,.35),this.tempo=6e4/r}updateMelodicCoherence(){if(this.noteHistory.length<2)return;const n=this.noteHistory.slice(-8),s=n.slice(1).map((p,v)=>Math.abs(p-n[v]));if(s.length===0)return;const r=s.filter(p=>p<=Cg.MAJOR_SECOND).length,u=s.filter(p=>p>=Cg.MINOR_SIXTH).length,h=new Set(s).size/s.length,c=r/s.length,d=u?Oo(u,0,4):0,m=1-h;this.metrics.melodicCoherence=Vh(.6*c+.3*m-.3*d,0,1)}updateScaleAdherence(){if(this.noteHistory.length===0)return;const n=Array(12).fill(0);this.noteHistory.slice(-Hn.HISTORY).forEach(r=>n[r%12]++);let s={name:null,fit:0};for(const[r,u]of Object.entries(Wx)){const h=u.reduce((c,d)=>c+n[d],0);h>s.fit&&(s={name:r,fit:h})}this.scaleContext=s.name,this.metrics.scaleAdherence=s.fit/this.noteHistory.length}detectChord(n){for(const[s,r]of Object.entries(Kx))for(const u of n)if(r.every(h=>n.has((u+h)%12)))return{name:s,root:u};return null}updateHarmonicProgression(){const n=this.timeHistory.at(-1),s=this.noteHistory.at(-1);if(n-this.chordBufferTime>Hn.CHORD_WINDOW){if(this.chordBuffer.length){const h=new Set(this.chordBuffer.map(d=>d%12)),c=this.detectChord(h);this.chordHistory.push(c)}this.chordBuffer=[s],this.chordBufferTime=n}else this.chordBuffer.push(s);const r=this.chordHistory.slice(-4).map(h=>h?h.root:null);let u=0;for(const h of Object.values(Jx)){const c=h.slice(0,r.length);if(JSON.stringify(c)===JSON.stringify(r)){u=r.length/h.length;break}}this.metrics.harmonicProgression=u}updatePhraseStructure(){if(!this.tempo||this.rhythmPattern.length<4)return;const n=this.rhythmPattern.reduce((h,c)=>h+c,0)/this.rhythmPattern.length,s=this.rhythmPattern.slice(-8).filter(h=>h>1.5*n),r=s.length?s[s.length-1]:0,u=4*(6e4/this.tempo);this.metrics.phraseStructure=1-Oo(Math.abs(r-u),0,u)}updateDynamicVariation(n){this.velHistory.push(n),this.velHistory.length>Hn.VEL_WIN&&this.velHistory.shift();const s=this.velHistory.reduce((h,c)=>h+c,0)/this.velHistory.length,r=this.velHistory.reduce((h,c)=>h+(c-s)**2,0)/this.velHistory.length,u=Math.sqrt(r)/s;this.metrics.dynamicVariation=1-Oo(Math.abs(u-.25),.2,.35)}calculateMusicalityScore(){const s=Object.entries({melodicCoherence:.25,harmonicProgression:.25,rhythmicConsistency:.2,scaleAdherence:.15,phraseStructure:.1,dynamicVariation:.05}).reduce((r,[u,h])=>r+h*this.metrics[u],0);this.musicalityScore=Math.round(s*100)}calculateExcitementBoost(){this.ema===null&&(this.ema=this.musicalityScore),this.ema=Hn.EMA_ALPHA*this.musicalityScore+(1-Hn.EMA_ALPHA)*this.ema;const n=this.musicalityScore-this.ema,s=Vh(n/100,-1,1);return s>0?s*Hn.BOOST_POS:s*Hn.BOOST_NEG}}const Rg=["C4","E4","G4","B4","C5","B4","G4","E4"],Dg=["D4","F4","A4","C5","D5","C5","A4","F4"],Co=(l,n)=>Array(n).fill(l).flat(),tA=[...Co(Rg,4),...Co(Dg,4),...Co(Rg,4),...Co(Dg,4)],I0=[{name:"Autoplayer Demo Song",sequence:tA}];function eA(l,n,s){const[r,u]=mt.useState(!1),h=mt.useRef([]),c=mt.useRef(new Set),d=()=>{h.current.forEach(v=>clearTimeout(v)),h.current=[]},m=mt.useCallback(()=>{c.current.forEach(v=>{const _=s.find(S=>S.note===v);_&&n.current&&n.current(_)}),c.current.clear(),d(),u(!1)},[s,n]),p=mt.useCallback((v=0,_=!0)=>{d(),c.current.forEach(b=>{const A=s.find(E=>E.note===b);A&&n.current&&n.current(A)}),c.current.clear();const S=I0[v];if(!S)return;c.current.clear(),u(!0);const T=400;S.sequence.forEach((b,A)=>{const E=setTimeout(()=>{const k=s.find(q=>q.note===b);if(console.log(`Autoplayer: Playing note ${b}, keyObj:`,k,"handleKeyPressRef.current:",!!l.current),k&&l.current)try{l.current(k,.8),c.current.add(b),console.log(`Autoplayer: Successfully triggered note ${b}`)}catch(q){console.error(`Autoplayer: Error playing note ${b}:`,q)}else k?l.current||console.error("Autoplayer: handleKeyPressRef.current is null!"):console.error(`Autoplayer: Could not find key for note ${b}`)},A*T),R=setTimeout(()=>{const k=s.find(q=>q.note===b);if(k&&n.current&&(n.current(k),c.current.delete(b)),A===S.sequence.length-1)if(_){const q=setTimeout(()=>{h.current.forEach(P=>clearTimeout(P)),h.current=[],c.current.clear(),u(!1),setTimeout(()=>p(v,_),0)},500);h.current.push(q)}else{const q=setTimeout(()=>{u(!1)},100);h.current.push(q)}},A*T+T*.9);h.current.push(E,R)})},[s,l,n]);return mt.useEffect(()=>()=>{c.current.forEach(v=>{const _=s.find(S=>S.note===v);_&&n.current&&n.current(_)}),c.current.clear(),d()},[s,n]),{autoPlaying:r,playSong:p,stopSong:m}}function nA({visible:l,autoPlaying:n,playSong:s,stopSong:r}){return l?F.jsxs("div",{className:"fixed left-1/2 transform -translate-x-1/2 top-20 bg-gray-900 bg-opacity-90 text-white p-4 rounded-lg z-40 text-sm font-mono",children:[F.jsx("h3",{className:"font-bold mb-3",children:"Autoplayer"}),I0.map((u,h)=>F.jsxs("div",{className:"flex items-center mb-2",children:[F.jsx("span",{className:"mr-4",children:u.name}),n?F.jsx("button",{onClick:r,className:"bg-red-600 hover:bg-red-700 px-3 py-1 rounded",children:"Stop"}):F.jsx("button",{onClick:()=>s(h,!0),className:"bg-green-600 hover:bg-green-700 px-3 py-1 rounded",children:"Play (Loop)"})]},h)),F.jsx("div",{className:"text-xs text-gray-400 mt-2",children:"Shift + ; to close | Shift + M to play demo song (loops)"})]}):null}const Ca=[{id:"welcome",content:F.jsxs("div",{className:"space-y-4",children:[F.jsx("p",{className:"text-4xl font-light",children:"Welcome to Musicolour"}),F.jsx("p",{className:"text-xl text-gray-300",children:"A demo is playing to show you how it works"})]})},{id:"behavior1",content:F.jsxs("p",{className:"text-3xl font-light leading-relaxed",children:["The better you play,",F.jsx("br",{}),"the more colorful it gets"]})},{id:"behavior2",content:F.jsxs("div",{className:"space-y-4",children:[F.jsx("p",{className:"text-2xl font-light",children:"The bar shows the machine's excitement"}),F.jsxs("div",{className:"flex items-center gap-4 text-xl",children:[F.jsx("span",{className:"text-green-400",children:"Green"}),F.jsx("span",{className:"text-gray-400",children:"="}),F.jsx("span",{children:"You're playing something good"})]}),F.jsxs("div",{className:"flex items-center gap-4 text-xl",children:[F.jsx("span",{className:"text-red-400",children:"Red"}),F.jsx("span",{className:"text-gray-400",children:"="}),F.jsx("span",{children:"Try something different"})]})]})},{id:"feedback",content:F.jsxs("p",{className:"text-3xl font-light leading-relaxed",children:["It learns from your rhythm",F.jsx("br",{}),"and responds with movement"]})},{id:"conversation",content:F.jsxs("p",{className:"text-3xl font-light leading-relaxed",children:["You're having a ",F.jsx("a",{href:"https://en.wikipedia.org/wiki/Conversation_theory",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-300",children:"conversation"}),F.jsx("br",{}),"with a machine through music"]})},{id:"shortcuts",title:"Quick shortcuts",content:F.jsxs("div",{className:"space-y-2 text-lg",children:[F.jsxs("div",{className:"flex items-center gap-3",children:[F.jsx("kbd",{className:"px-2 py-1 bg-white bg-opacity-20 rounded text-base font-mono",children:"Shift + K"}),F.jsx("span",{children:"Toggle keyboard"})]}),F.jsxs("div",{className:"flex items-center gap-3",children:[F.jsx("kbd",{className:"px-2 py-1 bg-white bg-opacity-20 rounded text-base font-mono",children:"Shift + M"}),F.jsx("span",{children:"Replay tutorial"})]}),F.jsxs("div",{className:"flex items-center gap-3",children:[F.jsx("kbd",{className:"px-2 py-1 bg-white bg-opacity-20 rounded text-base font-mono",children:"Shift + L"}),F.jsx("span",{children:"Model parameters"})]}),F.jsxs("div",{className:"flex items-center gap-3",children:[F.jsx("kbd",{className:"px-2 py-1 bg-white bg-opacity-20 rounded text-base font-mono",children:"Shift + P"}),F.jsx("span",{children:"Load MIDI file"})]})]})},{id:"credits",title:"Credits",content:F.jsxs("div",{className:"space-y-3 text-xl",children:[F.jsxs("div",{className:"text-gray-300",children:[F.jsx("span",{className:"text-white",children:"Built by"})," Gui Dávid"]}),F.jsxs("div",{className:"text-gray-300",children:[F.jsx("span",{className:"text-white",children:"Improved by"})," Igor Rocha"]}),F.jsxs("div",{className:"text-gray-300",children:[F.jsx("span",{className:"text-white",children:"Fluids by"})," Pavel Dobryakov"]}),F.jsxs("div",{className:"text-gray-300",children:[F.jsx("span",{className:"text-white",children:"Inspired by"})," Gordon Pask"]})]})}],Ro=Ca.find(l=>l.id==="shortcuts");function iA({onComplete:l,onSkip:n,onStart:s}){const[r,u]=mt.useState(0),[h,c]=mt.useState(!1),[d,m]=mt.useState(!0),p=mt.useRef(Date.now()),v=mt.useRef(!1),[_,S]=mt.useState(!1),T=()=>{try{localStorage.setItem("musicolour-tutorial-seen","true")}catch(A){console.error("Failed to save tutorial state:",A)}};if(mt.useEffect(()=>{!_&&s&&r===0&&(S(!0),s())},[_,s,r]),mt.useEffect(()=>{const A=setTimeout(()=>{c(!0)},100),R=setInterval(()=>{const k=Date.now()-p.current,q=Ca.length*7300;if(k>=q&&!v.current){v.current=!0,m(!1),T(),l&&l();return}const P=Math.floor(k/7300),O=k%7300;P<Ca.length&&(u(P),c(O<7e3))},50);return()=>{clearTimeout(A),clearInterval(R)}},[]),!d||r>=Ca.length)return null;const b=Ca[r];return F.jsxs(F.Fragment,{children:[F.jsx("button",{onClick:()=>{T(),n()},className:"fixed top-8 right-8 text-white text-4xl hover:text-gray-300 transition-all duration-200 hover:scale-110",style:{zIndex:1e5,backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"12px",fontFamily:"Arial, sans-serif",lineHeight:"1",textShadow:"0 2px 10px rgba(0, 0, 0, 0.5)"},"aria-label":"Skip tutorial",children:"×"}),F.jsx("div",{className:`fixed text-white transition-all duration-500 ${h?"opacity-100 transform translate-y-0":"opacity-0 transform -translate-y-4"}`,onClick:()=>{!_&&r===0&&s&&(S(!0),s())},style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',zIndex:99999,top:"50%",left:"50%",transform:`translate(-50%, -50%) ${h?"translateY(0)":"translateY(-16px)"}`,padding:"48px",maxWidth:"800px",textAlign:"center",textShadow:"0 2px 20px rgba(0, 0, 0, 0.8), 0 1px 3px rgba(0, 0, 0, 0.9)"},children:F.jsxs("div",{children:[b.title&&F.jsx("h3",{className:"text-xl font-medium mb-6 text-gray-300 uppercase tracking-wider",children:b.title}),b.content,F.jsx("div",{className:"flex justify-center gap-3 mt-16",children:Ca.map((A,E)=>F.jsx("div",{className:`h-1 rounded-full transition-all duration-500 ${E===r?"bg-white w-12":E<r?"bg-white bg-opacity-40 w-3":"bg-white bg-opacity-20 w-3"}`},E))})]})})]})}function sA({showParams:l,showDebug:n}){const[s,r]=mt.useState(!1),[u,h]=mt.useState(!1);return l||n?null:F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"fixed top-0 right-0 w-24 h-24",style:{zIndex:99},onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1)}),F.jsx("button",{onClick:()=>r(!s),onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),className:`fixed top-8 right-8 text-white text-4xl transition-all duration-200 hover:scale-110 ${u?"opacity-100":"opacity-0"} hover:text-gray-300`,style:{zIndex:100,backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"12px",fontFamily:"Arial, sans-serif",lineHeight:"1",textShadow:"0 2px 10px rgba(0, 0, 0, 0.5)",fontSize:"32px",pointerEvents:u?"auto":"none"},"aria-label":"Show keyboard shortcuts",children:"i"}),s&&Ro&&F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"fixed inset-0",style:{zIndex:98},onClick:()=>r(!1)}),F.jsx("div",{className:"fixed text-white",style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',zIndex:99,top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"48px",maxWidth:"800px",textAlign:"center",textShadow:"0 2px 20px rgba(0, 0, 0, 0.8), 0 1px 3px rgba(0, 0, 0, 0.9)",opacity:1,animation:"fadeInNoMove 0.3s ease-out"},children:F.jsxs("div",{children:[Ro.title&&F.jsx("h3",{className:"text-xl font-medium mb-6 text-gray-300 uppercase tracking-wider",children:Ro.title}),Ro.content]})})]})]})}const aA=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],rA=36,lA=61,oA={C4:"KeyQ","C#4":"Digit2",D4:"KeyW","D#4":"Digit3",E4:"KeyE",F4:"KeyR","F#4":"Digit5",G4:"KeyT","G#4":"Digit6",A4:"KeyY","A#4":"Digit7",B4:"KeyU",C5:"KeyI","C#5":"Digit9",D5:"KeyO","D#5":"Digit0",E5:"KeyP"},uA=()=>{const l=[];for(let n=0;n<lA;n++){const s=rA+n,r=Math.floor(s/12)-1,u=aA[s%12],h=`${u}${r}`,c=u.includes("#");l.push({note:h,type:c?"black":"white",keyCode:oA[h]||"",color:c?"#444":"#ccc"})}return l},ri=uA();function Mg({keyData:l,isPressed:n,onPress:s,onRelease:r,midiEnabled:u}){const h=l.type==="black",c=u?24:36,d=u?14:24,m=u?140:180,p=u?90:120;return F.jsxs("div",{className:`piano-key cursor-pointer transition-all duration-75 select-none relative flex flex-col justify-end items-center pb-1 shadow-md hover:shadow-lg ${h?"z-20":""}`,onMouseDown:s,onMouseUp:r,onMouseLeave:r,style:{width:h?`${d}px`:`${c}px`,height:h?`${p}px`:`${m}px`,backgroundColor:h?n?"#333":"#111":n?"#eee":"#fff",color:h?"#fff":"#000",border:h?"1px solid #000":"1px solid #ccc",borderBottomColor:l.color,borderBottomWidth:n?"4px":"2px",boxShadow:h?"0 2px 6px rgba(0,0,0,0.8), inset 0 1px 0 rgba(255,255,255,0.1)":"0 2px 6px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.8)"},children:[F.jsx("div",{className:`${u?"text-[8px]":"text-xs"} font-mono opacity-70 font-bold select-none`,children:l.note}),l.keyCode&&F.jsx("div",{className:`${u?"text-[8px]":"text-[10px]"} opacity-50 font-bold select-none`,children:l.keyCode.replace("Key","").replace("Digit","")})]})}function cA({excitement:l=0}){const[n,s]=mt.useState(l),[r,u]=mt.useState(l),h=mt.useRef(Date.now()),c=mt.useRef(Date.now()),d=mt.useRef(l),m=.3;mt.useEffect(()=>{u(l),l>d.current&&(c.current=Date.now()),d.current=l},[l]),mt.useEffect(()=>{let T;const b=()=>{const A=Date.now(),E=(A-h.current)/1e3;h.current=A,s(R=>{const k=r-R;if(Math.abs(k)<.001)return r;const q=m*E,P=Math.sign(k)*Math.min(Math.abs(k),q);return Math.max(0,Math.min(1,R+P))}),T=requestAnimationFrame(b)};return T=requestAnimationFrame(b),()=>{T&&cancelAnimationFrame(T)}},[r]);const p=n*100;let v="rgba(0, 0, 0, 0.3)";const _=r-n,S=Date.now()-c.current;return n<.01?v="rgba(100, 100, 100, 0.2)":S<300?v="rgba(0, 255, 0, 0.5)":_<0&&S>350?v="rgba(255, 0, 0, 0.3)":v="rgba(0, 0, 0, 0.2)",F.jsx("div",{className:"fixed left-0 top-0 h-full z-20",style:{width:"8px"},children:F.jsxs("div",{className:"relative w-full h-full bg-black bg-opacity-30",children:[F.jsx("div",{className:"absolute top-0 left-0 right-0",style:{height:`${100-p}%`,backgroundColor:v,transition:"background-color 0.5s ease-out",borderRadius:"999px"}}),F.jsx("div",{className:"absolute bottom-0 left-0 right-0",style:{height:`${p}%`,backgroundColor:"white",borderRadius:"999px"}})]})})}function hA({onKeyPress:l,onKeyRelease:n,pressedKeys:s,midiEnabled:r}){const u=r?24:36,h=r?14:24,c=r?ri:ri.filter(p=>p.keyCode!==""),d=c.filter(p=>p.type==="white"),m=c.filter(p=>p.type==="black");return F.jsx("div",{className:"piano-container flex justify-center items-end bg-transparent overflow-visible",children:F.jsxs("div",{className:"relative inline-flex",style:{transform:"perspective(800px) rotateX(5deg)",transformStyle:"preserve-3d"},children:[d.map(p=>F.jsx(Mg,{keyData:p,isPressed:s.has(p.note),onPress:()=>l(p),onRelease:()=>n(p),midiEnabled:r},p.note)),F.jsx("div",{className:"absolute top-0 left-0",style:{pointerEvents:"none"},children:m.map(p=>{const v=c.findIndex(T=>T.note===p.note),S=c.slice(0,v).filter(T=>T.type==="white").length*u-h/2;return F.jsx("div",{style:{left:`${S}px`,pointerEvents:"auto"},className:"absolute top-0 z-20",children:F.jsx(Mg,{keyData:p,isPressed:s.has(p.note),onPress:()=>l(p),onRelease:()=>n(p),midiEnabled:r})},p.note)})})]})})}function fA(){const[l,n]=mt.useState(new Set),s=mt.useRef(null),r=mt.useRef(new $x),[u,h]=mt.useState(!1),[c,d]=mt.useState(!1),[m,p]=mt.useState(!1),[v,_]=mt.useState(!0),[S,T]=mt.useState(!1),[b,A]=mt.useState(!1),[E,R]=mt.useState(!1),k=mt.useRef(null),q=mt.useRef(null),[P,O]=mt.useState(!1),[j,Y]=mt.useState({...Hn}),U=(rt,ot)=>{Hn[rt]=ot,Y(J=>({...J,[rt]:ot})),r.current&&(r.current.ema=null)},[st,it]=mt.useState(!1),[tt,Q]=mt.useState([]),[ft,ht]=mt.useState(!1),_t=mt.useRef(null),D=mt.useRef(null),X=mt.useRef(null),[lt,ct]=mt.useState({excitement:0,lastKeyPressTime:null,musicalityScore:0,musicalityMetrics:{melodicCoherence:0,harmonicProgression:0,rhythmicConsistency:0,scaleAdherence:0,phraseStructure:0,dynamicVariation:0}}),x=mt.useCallback(async()=>{if(!u)try{Xr.state==="suspended"&&await Xr.resume(),await Nx();const rt=Xr.createBuffer(1,1,22050),ot=Xr.createBufferSource();return ot.buffer=rt,ot.connect(Xr.destination),ot.start(),h(!0),console.log("Audio context started successfully"),!0}catch(rt){return console.log("Audio start failed, will retry on user interaction:",rt),!1}return!0},[u]),I=mt.useRef(lt);mt.useEffect(()=>{I.current=lt},[lt]),mt.useEffect(()=>{[0,100,500,1e3,2e3].forEach(pt=>{setTimeout(()=>{u||x()},pt)});const ot=()=>{!document.hidden&&!u&&x()};document.addEventListener("visibilitychange",ot);const J=()=>{u||x()};window.addEventListener("focus",J);const At=document.createElement("button");return At.style.position="absolute",At.style.left="-9999px",document.body.appendChild(At),setTimeout(()=>{try{At.click(),x()}catch{}finally{document.body.removeChild(At)}},50),()=>{document.removeEventListener("visibilitychange",ot),window.removeEventListener("focus",J)}},[x,u]);const Z=mt.useRef(null),nt=mt.useRef(!1),at=mt.useRef(new Set),gt=async rt=>{const ot=await rt.arrayBuffer(),J=new Uint8Array(ot);if(String.fromCharCode(...J.slice(0,4))!=="MThd")throw new Error("Invalid MIDI file");const pt=J[8]<<8|J[9],Ht=J[10]<<8|J[11],Lt=J[12]<<8|J[13];console.log("MIDI format:",pt,"tracks:",Ht,"division:",Lt);const Yt=[];let ve=Lt&32767,Zt=5e5,Tt=14;for(;Tt<J.length-4;)if(J[Tt]===77&&J[Tt+1]===84&&J[Tt+2]===114&&J[Tt+3]===107){Tt+=4;const re=J[Tt]<<24|J[Tt+1]<<16|J[Tt+2]<<8|J[Tt+3];Tt+=4;const dn=Tt+re;let hi=0,Le=0;for(;Tt<dn&&Tt<J.length;){let tn=0,Kn;do{if(Tt>=J.length)break;Kn=J[Tt++],tn=tn<<7|Kn&127}while(Kn&128);if(hi+=tn,Tt>=J.length)break;let _e=J[Tt];if(_e<128?_e=Le:(Le=_e,Tt++),(_e&240)===144&&Tt+1<J.length){const vs=J[Tt++],Jn=J[Tt++];if(Jn>0){const _s=hi/ve*(Zt/1e3);Yt.push({note:vs,time:Math.round(_s),velocity:Jn/127,channel:_e&15})}}else if((_e&240)===128&&Tt+1<J.length)Tt+=2;else if((_e&240)>=128&&(_e&240)<=224)(_e&240)===192||(_e&240)===208?Tt+=1:Tt+=2;else if(_e===255&&Tt+1<J.length){const vs=J[Tt++];if(Tt>=J.length)break;const Jn=J[Tt++];vs===81&&Jn===3&&Tt+2<J.length&&(Zt=J[Tt]<<16|J[Tt+1]<<8|J[Tt+2]),Tt+=Jn}else if(_e===240||_e===247){for(;Tt<J.length&&J[Tt]!==247;)Tt++;Tt<J.length&&Tt++}else Tt++}}else Tt++;if(console.log("Found",Yt.length,"notes"),Yt.length===0){console.log("Trying alternate parsing method...");for(let re=0;re<J.length-2;re++)(J[re]&240)===144&&J[re+2]>0&&Yt.push({note:J[re+1],time:Yt.length*100,velocity:J[re+2]/127,channel:J[re]&15});console.log("Alternate method found",Yt.length,"notes")}return Yt.sort((re,dn)=>re.time-dn.time)},vt=async rt=>{const ot=rt.target.files?.[0];if(ot){try{console.log("Loading MIDI file:",ot.name);const J=await gt(ot);if(console.log("Parsed notes:",J.length,"notes"),J.length>0&&console.log("First few notes:",J.slice(0,5)),J.length===0){console.warn("No notes found in MIDI file"),alert("No notes found in the MIDI file. Please try a different file.");return}bt(),window.midiFileCleanup&&(window.midiFileCleanup.forEach(At=>At()),window.midiFileCleanup=[]),setTimeout(()=>{kt(J)},100)}catch(J){console.error("Error loading MIDI file:",J),alert("Error loading MIDI file: "+J.message)}rt.target.value=""}},kt=rt=>{if(rt.length===0)return;console.log("Starting MIDI playback with",rt.length,"notes");let ot=0;const J=Date.now();let At=[];const pt=()=>{if(ot>=rt.length){console.log("MIDI playback completed, looping..."),ot=0,kt(rt);return}const Lt=rt[ot],Yt=Date.now()-J,ve=Math.max(0,Lt.time-Yt),Zt=setTimeout(()=>{const Tt=ut(Lt.note);if(Tt){const re=ri.find(dn=>dn.note===Tt);if(re&&Ae.current){Ae.current(re);const dn=100+Lt.velocity*200;setTimeout(()=>{Ee.current&&Ee.current(re)},dn)}}ot++,pt()},ve);At.push(Zt)},Ht=()=>{At.forEach(Lt=>clearTimeout(Lt)),At=[]};window.midiFileCleanup||(window.midiFileCleanup=[]),window.midiFileCleanup.push(Ht),pt()},ut=rt=>{const ot=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],J=Math.floor(rt/12)-1,At=rt%12;return`${ot[At]}${J}`};mt.useEffect(()=>{console.log("Initializing piano...");const rt=new yf(ja,{maxPolyphony:16,oscillator:{type:"triangle"},envelope:{attack:.02,decay:.4,sustain:.4,release:1}}).toDestination();rt.volume.value=-16,Z.current=rt,console.log("Piano initialized with fallback synth");const ot=new ul({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:"https://tonejs.github.io/audio/salamander/",onload:()=>{ot.volume.value=-16,Z.current&&Z.current.dispose(),Z.current=ot}}).toDestination();return()=>{Z.current&&Z.current.dispose(),rt.dispose(),ot.dispose()}},[]),mt.useEffect(()=>{const rt=J=>{if(J.code==="KeyD"&&J.shiftKey){d(pt=>!pt);return}if(J.code==="KeyK"&&J.shiftKey){_(pt=>!pt);return}if(J.code==="KeyL"&&J.shiftKey){p(pt=>!pt);return}if(J.code==="Semicolon"&&J.shiftKey){T(pt=>!pt);return}if(J.code==="KeyM"&&J.shiftKey){O(!0),_(!0);return}if(J.code==="KeyP"&&J.shiftKey){J.preventDefault(),X.current?.click();return}const At=ri.find(pt=>pt.keyCode===J.code);At&&!l.has(At.note)&&ge(At)},ot=J=>{const At=ri.find(pt=>pt.keyCode===J.code);At&&Ce(At)};return window.addEventListener("keydown",rt),window.addEventListener("keyup",ot),()=>{window.removeEventListener("keydown",rt),window.removeEventListener("keyup",ot)}});const ae=mt.useCallback((rt,ot=.5)=>{const J=Date.now(),At=r.current.processNote(rt,J,ot);ct(pt=>{const Ht=At.excitement,Lt=Math.max(0,Math.min(1,pt.excitement+Ht));return{...pt,excitement:Lt,lastKeyPressTime:J,musicalityScore:At.score,musicalityMetrics:At.metrics}})},[]);mt.useEffect(()=>{const rt=setInterval(()=>{ct(ot=>{const pt=Math.max(0,ot.excitement-33333333333333335e-21);return{...ot,excitement:pt}})},16);return()=>clearInterval(rt)},[]);const ge=mt.useCallback((rt,ot=null)=>{if(l.has(rt.note))return;if(console.log(`handleKeyPress called for ${rt.note}, audioStarted: ${u}, pianoRef: ${!!Z.current}`),u||x().catch(pt=>console.log("Audio start failed:",pt)),n(pt=>new Set([...pt,rt.note])),Z.current){console.log(`Triggering attack for ${rt.note}`);try{Z.current.triggerAttack(rt.note)}catch(pt){console.error(`Error triggering attack for ${rt.note}:`,pt)}}else console.error("pianoRef.current is null when trying to play note:",rt.note);const J=ri.findIndex(pt=>pt.note===rt.note),At=ot||.5+Math.random()*.5;if(ae(J,At),console.log("Checking fluid trigger, fluidCanvasRef:",!!s.current),s.current){const pt=I.current;let Ht=1;pt.excitement>.9?Ht=8:pt.excitement>.75?Ht=4:pt.excitement>.5?Ht=3:pt.excitement>.25&&(Ht=2),console.log("Triggering splats:",{excitement:pt.excitement,numSplats:Ht,musicalityScore:pt.musicalityScore});for(let Lt=0;Lt<Ht;Lt++)s.current.triggerSplat(pt.excitement);console.log(`Triggered ${Ht} splats`)}else console.warn("fluidCanvasRef.current is null")},[l,ae,x,u]),Ce=mt.useCallback(rt=>{n(ot=>{const J=new Set(ot);return J.delete(rt.note),J}),Z.current&&Z.current.triggerRelease(rt.note)},[]),Ae=mt.useRef(ge),Ee=mt.useRef(Ce);mt.useEffect(()=>{Ae.current=ge},[ge]),mt.useEffect(()=>{Ee.current=Ce},[Ce]),mt.useEffect(()=>((async()=>{try{if(navigator.requestMIDIAccess){const ot=await navigator.requestMIDIAccess();_t.current=ot;const J=pt=>{const[Ht,Lt,Yt]=pt.data,ve=Ht&240;if(ve===144&&Yt>0){const Zt=ut(Lt);if(Zt){at.current.delete(Zt);const Tt=ri.find(re=>re.note===Zt);Tt&&Ae.current&&Ae.current(Tt,Yt/127)}}else if(ve===128||ve===144&&Yt===0){const Zt=ut(Lt);if(!Zt)return;if(nt.current)at.current.add(Zt);else{const Tt=ri.find(re=>re.note===Zt);Tt&&Ee.current&&Ee.current(Tt)}}else ve===176&&Lt===64&&(Yt>=64?nt.current=!0:(nt.current=!1,at.current.forEach(Tt=>{const re=ri.find(dn=>dn.note===Tt);re&&Ee.current&&Ee.current(re)}),at.current.clear()))},At=[];for(const pt of ot.inputs.values())At.push(pt.name),pt.onmidimessage=J;Q(At),it(At.length>0),At.length>0&&(ht(!0),D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{ht(!1)},5e3)),ot.onstatechange=pt=>{if(console.log("MIDI device state changed:",pt.port.name,pt.port.state),pt.port.type==="input"&&pt.port.state==="connected"){const Lt=pt.port;Lt&&(Lt.onmidimessage=J)}const Ht=Array.from(ot.inputs.values()).map(Lt=>Lt.name);Q(Ht),it(Ht.length>0)}}else console.log("Web MIDI API not supported")}catch(ot){console.error("Failed to initialize MIDI:",ot)}})(),()=>{if(_t.current)for(const ot of _t.current.inputs.values())ot.onmidimessage=null}),[]);const{autoPlaying:Wn,playSong:dt,stopSong:bt}=eA(Ae,Ee,ri),zt=mt.useRef(dt);mt.useEffect(()=>{zt.current=dt},[dt]),mt.useEffect(()=>{localStorage.getItem("musicolour-tutorial-seen")==="true"||(O(!0),_(!0))},[]),mt.useEffect(()=>()=>{bt()},[bt]);const Xt=mt.useCallback(()=>{k.current&&clearTimeout(k.current),A(!0)},[]),Rt=mt.useCallback(()=>{k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{A(!1)},3e3)},[]);return mt.useEffect(()=>{v?(R(!1),q.current&&clearTimeout(q.current)):(q.current&&clearTimeout(q.current),q.current=setTimeout(()=>{R(!0),A(!0),k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{A(!1)},3e3)},1e3))},[v]),mt.useEffect(()=>()=>{k.current&&clearTimeout(k.current),q.current&&clearTimeout(q.current),D.current&&clearTimeout(D.current)},[]),mt.useEffect(()=>{const rt="MUSICOLOUR";let ot=-2;const J=()=>{const pt=rt.toLowerCase().split("");for(let Ht=0;Ht<pt.length;Ht++)(Ht===ot||Ht===ot+1)&&(pt[Ht]=pt[Ht].toUpperCase());document.title=pt.join(""),ot++,ot>rt.length&&(ot=-2)};document.title=rt;const At=setInterval(J,1e3);return()=>{clearInterval(At),document.title="MUSICOLOUR"}},[]),F.jsxs("div",{className:"w-full h-screen bg-black relative",children:[F.jsx("iframe",{src:"about:blank",style:{position:"absolute",width:0,height:0,border:0},onLoad:()=>{x()}}),F.jsxs("div",{className:"absolute top-6 left-20 z-10 text-white",children:[F.jsx("h1",{className:"text-3xl font-semibold tracking-tight mb-2",children:"MUSICOLOUR"}),F.jsxs("h3",{className:"font-light tracking-tight",children:["By ",F.jsx("a",{href:"https://www.linkedin.com/in/gdavidss/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-300",children:"Gui Dávid"}),". Inspired by ",F.jsx("a",{href:"https://en.wikipedia.org/wiki/Gordon_Pask",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-300",children:"Gordon Pask"}),"."]}),F.jsxs("div",{className:"text-xs text-gray-300 mt-1",children:["Made for the ",F.jsx("span",{className:"italic",children:F.jsx("a",{href:"https://partiful.com/e/KAyicRaedj3ORP1WfCsk",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-300",children:"San Francisco Cybernetics Symposium"})})]})]}),F.jsx(cA,{excitement:lt.excitement}),st&&F.jsxs("div",{className:`fixed right-4 top-4 bg-black bg-opacity-70 text-white p-2 rounded-lg z-30 text-xs font-mono transition-opacity duration-1000 ${ft?"opacity-100":"opacity-0 pointer-events-none"}`,children:[F.jsxs("div",{className:"flex items-center",children:[F.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),F.jsx("span",{children:"MIDI Connected"})]}),tt.length>0&&F.jsx("div",{className:"text-gray-400 mt-1",children:tt.join(", ")})]}),c&&F.jsxs("div",{className:`fixed right-4 ${ft?"top-24":"top-4"} bg-black bg-opacity-70 text-white p-4 rounded-lg z-30 text-xs font-mono transition-all duration-300`,children:[F.jsx("h3",{className:"font-bold mb-2",children:"Musicality Metrics"}),F.jsxs("div",{children:["Score: ",(lt.musicalityScore||0).toFixed(3)]}),Object.entries(lt.musicalityMetrics).map(([rt,ot])=>F.jsxs("div",{children:[rt,": ",(ot||0).toFixed(3)]},rt))]}),m&&F.jsxs("div",{className:"fixed right-4 top-4 bg-gray-800 bg-opacity-90 text-white p-4 pb-2 rounded-lg z-40 text-xs font-mono w-64 max-h-[90vh] overflow-y-auto overflow-x-clip",children:[F.jsx("h3",{className:"font-bold mb-3 text-sm mt-2",children:"Model Parameters"}),Object.entries(j).map(([rt,ot])=>{const J={HISTORY:{min:8,max:64,step:1},IOI_WIN:{min:4,max:32,step:1},VEL_WIN:{min:4,max:32,step:1},CHORD_WINDOW:{min:50,max:1e3,step:50},EMA_ALPHA:{min:.01,max:.5,step:.01},BOOST_POS:{min:.01,max:.2,step:.005},BOOST_NEG:{min:.005,max:.1,step:.005}}[rt];if(!J)return null;const At={HISTORY:"Memory Length",IOI_WIN:"Note Timing Window",VEL_WIN:"Velocity Window",CHORD_WINDOW:"Chord Detection Time",EMA_ALPHA:"Smoothing Factor",BOOST_POS:"Excitement Boost",BOOST_NEG:"Decay Rate"},pt={HISTORY:"How many notes the system remembers",IOI_WIN:"Time window for rhythm detection",VEL_WIN:"Sensitivity to volume changes",CHORD_WINDOW:"Time to detect chords",EMA_ALPHA:"How quickly system adapts (lower=slower)",BOOST_POS:"How much excitement increases",BOOST_NEG:"How fast excitement fades"};return F.jsxs("div",{className:"mb-4 relative",children:[F.jsxs("label",{className:"flex justify-between items-center mb-1 group",children:[F.jsxs("span",{className:"cursor-help flex items-center gap-1 relative group/title",children:[At[rt]||rt,F.jsx("span",{className:"text-gray-500 text-xs",children:"ⓘ"}),F.jsx("div",{className:"absolute left-0 bottom-full mb-1 opacity-0 group-hover/title:opacity-100 transition-opacity duration-200 z-50 pointer-events-none",children:F.jsxs("div",{className:"bg-black text-gray-200 text-xs rounded px-3 py-2 shadow-xl border border-gray-600 w-56 whitespace-normal",children:[pt[rt],F.jsx("div",{className:"absolute top-full left-4 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-black"})]})})]}),F.jsx("span",{className:"ml-2 text-right",children:rt==="CHORD_WINDOW"?`${ot}ms`:rt==="HISTORY"?`${ot} notes`:typeof ot=="number"?ot.toFixed(2):ot})]}),F.jsx("input",{type:"range",className:"w-full",value:ot,min:J.min,max:J.max,step:J.step,onChange:Ht=>{const Lt=parseFloat(Ht.target.value);["EMA_ALPHA","BOOST_POS","BOOST_NEG"].includes(rt)?U(rt,Lt):U(rt,Math.round(Lt))}})]},rt)})]}),F.jsx(nA,{visible:S,autoPlaying:Wn,playSong:dt,stopSong:bt}),P&&F.jsx(iA,{onComplete:()=>{O(!1),_(!1)},onSkip:()=>{O(!1),_(!1),bt(),window.midiFileCleanup&&(window.midiFileCleanup.forEach(rt=>rt()),window.midiFileCleanup=[])},onStart:async()=>{console.log("Tutorial onStart called");let rt=!1;for(let ot=0;ot<5&&(rt=await x(),console.log(`Audio start attempt ${ot+1}: ${rt}`),!rt);ot++)await new Promise(J=>setTimeout(J,200));if(!rt){console.warn("Audio context failed to start automatically");const ot=async J=>{J.preventDefault(),J.stopPropagation(),await x()&&(document.removeEventListener("click",ot,!0),setTimeout(()=>{zt.current&&zt.current(0,!1)},100))};document.addEventListener("click",ot,!0)}rt&&setTimeout(()=>{console.log("Starting demo playback"),console.log("Current refs:",{playSongRef:!!zt.current,handleKeyPressRef:!!Ae.current,handleKeyReleaseRef:!!Ee.current,pianoRef:!!Z.current}),zt.current&&(console.log("Calling playSong"),zt.current(0,!1))},1e3)}},"tutorial-cards"),!P&&F.jsx(sA,{showParams:m,showDebug:c}),F.jsx("div",{className:"absolute inset-0",style:{overflow:"hidden"},children:F.jsx(j0,{ref:s,className:""})}),F.jsx("div",{className:`fixed bottom-0 left-0 right-0 z-20 transition-transform duration-1000 overflow-visible ${v?"translate-y-0":"translate-y-full"}`,children:F.jsxs("div",{className:"p-4 overflow-visible",children:[F.jsx("div",{className:"flex justify-center mb-2",children:F.jsxs("button",{onClick:()=>{_(!v)},className:"bg-black bg-opacity-50 text-white w-10 h-6 rounded border border-white border-opacity-20 hover:bg-opacity-70 transition-all duration-200 flex items-center justify-center relative group",children:[F.jsx("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"currentColor",children:F.jsx("path",{d:"M8 12l-4-4h8z"})}),v&&F.jsx("span",{className:"absolute bottom-full mb-2 px-2 py-1 bg-black bg-opacity-80 text-white text-xs rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:"Shift + K"})]})}),F.jsx(hA,{onKeyPress:ge,onKeyRelease:Ce,pressedKeys:l,midiEnabled:st})]})}),!v&&E&&F.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-32 z-20",onMouseEnter:Xt,onMouseLeave:Rt}),!v&&E&&F.jsx("div",{className:"fixed bottom-4 left-0 right-0 flex justify-center z-30",onMouseEnter:Xt,onMouseLeave:Rt,children:F.jsxs("button",{onClick:()=>_(!0),className:`bg-black bg-opacity-50 text-white w-10 h-6 rounded border border-white border-opacity-20 hover:bg-opacity-70 flex items-center justify-center relative group transition-all duration-300 ${b?"opacity-100":"opacity-0 pointer-events-none"}`,children:[F.jsx("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"currentColor",children:F.jsx("path",{d:"M8 4l4 4H4z"})}),F.jsx("span",{className:"absolute bottom-full mb-2 px-2 py-1 bg-black bg-opacity-80 text-white text-xs rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:"Shift + K"})]})}),F.jsx("input",{ref:X,type:"file",accept:".mid,.midi",onChange:vt,style:{display:"none"}})]})}function dA(){return F.jsx(fA,{})}ny.createRoot(document.getElementById("root")).render(F.jsx(mt.StrictMode,{children:F.jsx(dA,{})}));
