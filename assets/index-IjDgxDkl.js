(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const c of h.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=s(u);fetch(u.href,h)}})();var vh={exports:{}},Hr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function X_(){if(Jm)return Hr;Jm=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,u,h){var c=null;if(h!==void 0&&(c=""+h),u.key!==void 0&&(c=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:l,type:r,key:c,ref:u!==void 0?u:null,props:h}}return Hr.Fragment=n,Hr.jsx=s,Hr.jsxs=s,Hr}var $m;function Z_(){return $m||($m=1,vh.exports=X_()),vh.exports}var Z=Z_(),_h={exports:{}},zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function Q_(){if(tg)return zt;tg=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function S(A){return A===null||typeof A!="object"?null:(A=_&&A[_]||A["@@iterator"],typeof A=="function"?A:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,E={};function x(A,j,W){this.props=A,this.context=j,this.refs=E,this.updater=W||T}x.prototype.isReactComponent={},x.prototype.setState=function(A,j){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,j,"setState")},x.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function C(){}C.prototype=x.prototype;function V(A,j,W){this.props=A,this.context=j,this.refs=E,this.updater=W||T}var H=V.prototype=new C;H.constructor=V,b(H,x.prototype),H.isPureReactComponent=!0;var K=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function Y(A,j,W,it,at,dt){return W=dt.ref,{$$typeof:l,type:A,key:j,ref:W!==void 0?W:null,props:dt}}function k(A,j){return Y(A.type,j,void 0,void 0,void 0,A.props)}function st(A){return typeof A=="object"&&A!==null&&A.$$typeof===l}function nt(A){var j={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(W){return j[W]})}var tt=/\/+/g;function Q(A,j){return typeof A=="object"&&A!==null&&A.key!=null?nt(""+A.key):j.toString(36)}function ft(){}function ht(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(ft,ft):(A.status="pending",A.then(function(j){A.status==="pending"&&(A.status="fulfilled",A.value=j)},function(j){A.status==="pending"&&(A.status="rejected",A.reason=j)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function vt(A,j,W,it,at){var dt=typeof A;(dt==="undefined"||dt==="boolean")&&(A=null);var mt=!1;if(A===null)mt=!0;else switch(dt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(A.$$typeof){case l:case n:mt=!0;break;case v:return mt=A._init,vt(mt(A._payload),j,W,it,at)}}if(mt)return at=at(A),mt=it===""?"."+Q(A,0):it,K(at)?(W="",mt!=null&&(W=mt.replace(tt,"$&/")+"/"),vt(at,j,W,"",function(Zt){return Zt})):at!=null&&(st(at)&&(at=k(at,W+(at.key==null||A&&A.key===at.key?"":(""+at.key).replace(tt,"$&/")+"/")+mt)),j.push(at)),1;mt=0;var Dt=it===""?".":it+":";if(K(A))for(var ut=0;ut<A.length;ut++)it=A[ut],dt=Dt+Q(it,ut),mt+=vt(it,j,W,dt,at);else if(ut=S(A),typeof ut=="function")for(A=ut.call(A),ut=0;!(it=A.next()).done;)it=it.value,dt=Dt+Q(it,ut++),mt+=vt(it,j,W,dt,at);else if(dt==="object"){if(typeof A.then=="function")return vt(ht(A),j,W,it,at);throw j=String(A),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return mt}function R(A,j,W){if(A==null)return A;var it=[],at=0;return vt(A,it,"","",function(dt){return j.call(W,dt,at++)}),it}function F(A){if(A._status===-1){var j=A._result;j=j(),j.then(function(W){(A._status===0||A._status===-1)&&(A._status=1,A._result=W)},function(W){(A._status===0||A._status===-1)&&(A._status=2,A._result=W)}),A._status===-1&&(A._status=0,A._result=j)}if(A._status===1)return A._result.default;throw A._result}var rt=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function lt(){}return zt.Children={map:R,forEach:function(A,j,W){R(A,function(){j.apply(this,arguments)},W)},count:function(A){var j=0;return R(A,function(){j++}),j},toArray:function(A){return R(A,function(j){return j})||[]},only:function(A){if(!st(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},zt.Component=x,zt.Fragment=s,zt.Profiler=u,zt.PureComponent=V,zt.StrictMode=r,zt.Suspense=m,zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,zt.__COMPILER_RUNTIME={__proto__:null,c:function(A){return O.H.useMemoCache(A)}},zt.cache=function(A){return function(){return A.apply(null,arguments)}},zt.cloneElement=function(A,j,W){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var it=b({},A.props),at=A.key,dt=void 0;if(j!=null)for(mt in j.ref!==void 0&&(dt=void 0),j.key!==void 0&&(at=""+j.key),j)!q.call(j,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&j.ref===void 0||(it[mt]=j[mt]);var mt=arguments.length-2;if(mt===1)it.children=W;else if(1<mt){for(var Dt=Array(mt),ut=0;ut<mt;ut++)Dt[ut]=arguments[ut+2];it.children=Dt}return Y(A.type,at,void 0,void 0,dt,it)},zt.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:h,_context:A},A},zt.createElement=function(A,j,W){var it,at={},dt=null;if(j!=null)for(it in j.key!==void 0&&(dt=""+j.key),j)q.call(j,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(at[it]=j[it]);var mt=arguments.length-2;if(mt===1)at.children=W;else if(1<mt){for(var Dt=Array(mt),ut=0;ut<mt;ut++)Dt[ut]=arguments[ut+2];at.children=Dt}if(A&&A.defaultProps)for(it in mt=A.defaultProps,mt)at[it]===void 0&&(at[it]=mt[it]);return Y(A,dt,void 0,void 0,null,at)},zt.createRef=function(){return{current:null}},zt.forwardRef=function(A){return{$$typeof:p,render:A}},zt.isValidElement=st,zt.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:F}},zt.memo=function(A,j){return{$$typeof:d,type:A,compare:j===void 0?null:j}},zt.startTransition=function(A){var j=O.T,W={};O.T=W;try{var it=A(),at=O.S;at!==null&&at(W,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(lt,rt)}catch(dt){rt(dt)}finally{O.T=j}},zt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},zt.use=function(A){return O.H.use(A)},zt.useActionState=function(A,j,W){return O.H.useActionState(A,j,W)},zt.useCallback=function(A,j){return O.H.useCallback(A,j)},zt.useContext=function(A){return O.H.useContext(A)},zt.useDebugValue=function(){},zt.useDeferredValue=function(A,j){return O.H.useDeferredValue(A,j)},zt.useEffect=function(A,j,W){var it=O.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(A,j)},zt.useId=function(){return O.H.useId()},zt.useImperativeHandle=function(A,j,W){return O.H.useImperativeHandle(A,j,W)},zt.useInsertionEffect=function(A,j){return O.H.useInsertionEffect(A,j)},zt.useLayoutEffect=function(A,j){return O.H.useLayoutEffect(A,j)},zt.useMemo=function(A,j){return O.H.useMemo(A,j)},zt.useOptimistic=function(A,j){return O.H.useOptimistic(A,j)},zt.useReducer=function(A,j,W){return O.H.useReducer(A,j,W)},zt.useRef=function(A){return O.H.useRef(A)},zt.useState=function(A){return O.H.useState(A)},zt.useSyncExternalStore=function(A,j,W){return O.H.useSyncExternalStore(A,j,W)},zt.useTransition=function(){return O.H.useTransition()},zt.version="19.1.0",zt}var eg;function Vh(){return eg||(eg=1,_h.exports=Q_()),_h.exports}var _t=Vh(),yh={exports:{}},Gr={},Th={exports:{}},Sh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function P_(){return ng||(ng=1,function(l){function n(R,F){var rt=R.length;R.push(F);t:for(;0<rt;){var lt=rt-1>>>1,A=R[lt];if(0<u(A,F))R[lt]=F,R[rt]=A,rt=lt;else break t}}function s(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var F=R[0],rt=R.pop();if(rt!==F){R[0]=rt;t:for(var lt=0,A=R.length,j=A>>>1;lt<j;){var W=2*(lt+1)-1,it=R[W],at=W+1,dt=R[at];if(0>u(it,rt))at<A&&0>u(dt,it)?(R[lt]=dt,R[at]=rt,lt=at):(R[lt]=it,R[W]=rt,lt=W);else if(at<A&&0>u(dt,rt))R[lt]=dt,R[at]=rt,lt=at;else break t}}return F}function u(R,F){var rt=R.sortIndex-F.sortIndex;return rt!==0?rt:R.id-F.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;l.unstable_now=function(){return h.now()}}else{var c=Date,p=c.now();l.unstable_now=function(){return c.now()-p}}var m=[],d=[],v=1,_=null,S=3,T=!1,b=!1,E=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function K(R){for(var F=s(d);F!==null;){if(F.callback===null)r(d);else if(F.startTime<=R)r(d),F.sortIndex=F.expirationTime,n(m,F);else break;F=s(d)}}function O(R){if(E=!1,K(R),!b)if(s(m)!==null)b=!0,q||(q=!0,Q());else{var F=s(d);F!==null&&vt(O,F.startTime-R)}}var q=!1,Y=-1,k=5,st=-1;function nt(){return x?!0:!(l.unstable_now()-st<k)}function tt(){if(x=!1,q){var R=l.unstable_now();st=R;var F=!0;try{t:{b=!1,E&&(E=!1,V(Y),Y=-1),T=!0;var rt=S;try{e:{for(K(R),_=s(m);_!==null&&!(_.expirationTime>R&&nt());){var lt=_.callback;if(typeof lt=="function"){_.callback=null,S=_.priorityLevel;var A=lt(_.expirationTime<=R);if(R=l.unstable_now(),typeof A=="function"){_.callback=A,K(R),F=!0;break e}_===s(m)&&r(m),K(R)}else r(m);_=s(m)}if(_!==null)F=!0;else{var j=s(d);j!==null&&vt(O,j.startTime-R),F=!1}}break t}finally{_=null,S=rt,T=!1}F=void 0}}finally{F?Q():q=!1}}}var Q;if(typeof H=="function")Q=function(){H(tt)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,ht=ft.port2;ft.port1.onmessage=tt,Q=function(){ht.postMessage(null)}}else Q=function(){C(tt,0)};function vt(R,F){Y=C(function(){R(l.unstable_now())},F)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(R){R.callback=null},l.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<R?Math.floor(1e3/R):5},l.unstable_getCurrentPriorityLevel=function(){return S},l.unstable_next=function(R){switch(S){case 1:case 2:case 3:var F=3;break;default:F=S}var rt=S;S=F;try{return R()}finally{S=rt}},l.unstable_requestPaint=function(){x=!0},l.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var rt=S;S=R;try{return F()}finally{S=rt}},l.unstable_scheduleCallback=function(R,F,rt){var lt=l.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?lt+rt:lt):rt=lt,R){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=rt+A,R={id:v++,callback:F,priorityLevel:R,startTime:rt,expirationTime:A,sortIndex:-1},rt>lt?(R.sortIndex=rt,n(d,R),s(m)===null&&R===s(d)&&(E?(V(Y),Y=-1):E=!0,vt(O,rt-lt))):(R.sortIndex=A,n(m,R),b||T||(b=!0,q||(q=!0,Q()))),R},l.unstable_shouldYield=nt,l.unstable_wrapCallback=function(R){var F=S;return function(){var rt=S;S=F;try{return R.apply(this,arguments)}finally{S=rt}}}}(Sh)),Sh}var ig;function W_(){return ig||(ig=1,Th.exports=P_()),Th.exports}var bh={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function K_(){if(sg)return Qe;sg=1;var l=Vh();function n(m){var d="https://react.dev/errors/"+m;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(m,d,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:_==null?null:""+_,children:m,containerInfo:d,implementation:v}}var c=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,d){if(m==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(m,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(n(299));return h(m,d,null,v)},Qe.flushSync=function(m){var d=c.T,v=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=d,r.p=v,r.d.f()}},Qe.preconnect=function(m,d){typeof m=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(m,d))},Qe.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Qe.preinit=function(m,d){if(typeof m=="string"&&d&&typeof d.as=="string"){var v=d.as,_=p(v,d.crossOrigin),S=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?r.d.S(m,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:T}):v==="script"&&r.d.X(m,{crossOrigin:_,integrity:S,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Qe.preinitModule=function(m,d){if(typeof m=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=p(d.as,d.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(m)},Qe.preload=function(m,d){if(typeof m=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,_=p(v,d.crossOrigin);r.d.L(m,v,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Qe.preloadModule=function(m,d){if(typeof m=="string")if(d){var v=p(d.as,d.crossOrigin);r.d.m(m,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(m)},Qe.requestFormReset=function(m){r.d.r(m)},Qe.unstable_batchedUpdates=function(m,d){return m(d)},Qe.useFormState=function(m,d,v){return c.H.useFormState(m,d,v)},Qe.useFormStatus=function(){return c.H.useHostTransitionStatus()},Qe.version="19.1.0",Qe}var ag;function J_(){if(ag)return bh.exports;ag=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),bh.exports=K_(),bh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function $_(){if(rg)return Gr;rg=1;var l=W_(),n=Vh(),s=J_();function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function c(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(r(188))}function m(t){var e=t.alternate;if(!e){if(e=h(t),e===null)throw Error(r(188));return e!==t?null:t}for(var i=t,a=e;;){var o=i.return;if(o===null)break;var f=o.alternate;if(f===null){if(a=o.return,a!==null){i=a;continue}break}if(o.child===f.child){for(f=o.child;f;){if(f===i)return p(o),t;if(f===a)return p(o),e;f=f.sibling}throw Error(r(188))}if(i.return!==a.return)i=o,a=f;else{for(var g=!1,y=o.child;y;){if(y===i){g=!0,i=o,a=f;break}if(y===a){g=!0,a=o,i=f;break}y=y.sibling}if(!g){for(y=f.child;y;){if(y===i){g=!0,i=f,a=o;break}if(y===a){g=!0,a=f,i=o;break}y=y.sibling}if(!g)throw Error(r(189))}}if(i.alternate!==a)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?t:e}function d(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=d(t),e!==null)return e;t=t.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),H=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),st=Symbol.for("react.activity"),nt=Symbol.for("react.memo_cache_sentinel"),tt=Symbol.iterator;function Q(t){return t===null||typeof t!="object"?null:(t=tt&&t[tt]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Symbol.for("react.client.reference");function ht(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ft?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case b:return"Fragment";case x:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case q:return"SuspenseList";case st:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case T:return"Portal";case H:return(t.displayName||"Context")+".Provider";case V:return(t._context.displayName||"Context")+".Consumer";case K:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return e=t.displayName||null,e!==null?e:ht(t.type)||"Memo";case k:e=t._payload,t=t._init;try{return ht(t(e))}catch{}}return null}var vt=Array.isArray,R=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},lt=[],A=-1;function j(t){return{current:t}}function W(t){0>A||(t.current=lt[A],lt[A]=null,A--)}function it(t,e){A++,lt[A]=t.current,t.current=e}var at=j(null),dt=j(null),mt=j(null),Dt=j(null);function ut(t,e){switch(it(mt,e),it(dt,t),it(at,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?wm(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=wm(e),t=Nm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(at),it(at,t)}function Zt(){W(at),W(dt),W(mt)}function oe(t){t.memoizedState!==null&&it(Dt,t);var e=at.current,i=Nm(e,t.type);e!==i&&(it(dt,t),it(at,i))}function Ye(t){dt.current===t&&(W(at),W(dt)),Dt.current===t&&(W(Dt),Br._currentValue=rt)}var Ce=Object.prototype.hasOwnProperty,qe=l.unstable_scheduleCallback,Vn=l.unstable_cancelCallback,pt=l.unstable_shouldYield,At=l.unstable_requestPaint,ot=l.unstable_now,ct=l.unstable_getCurrentPriorityLevel,X=l.unstable_ImmediatePriority,bt=l.unstable_UserBlockingPriority,yt=l.unstable_NormalPriority,Ut=l.unstable_LowPriority,Rt=l.unstable_IdlePriority,Yt=l.log,Fe=l.unstable_setDisableYieldValue,ue=null,gt=null;function It(t){if(typeof Yt=="function"&&Fe(t),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(ue,t)}catch{}}var $t=Math.clz32?Math.clz32:ms,cn=Math.log,ps=Math.LN2;function ms(t){return t>>>=0,t===0?32:31-(cn(t)/ps|0)|0}var Pn=256,Wt=4194304;function Ke(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xn(t,e,i){var a=t.pendingLanes;if(a===0)return 0;var o=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var y=a&134217727;return y!==0?(a=y&~f,a!==0?o=Ke(a):(g&=y,g!==0?o=Ke(g):i||(i=y&~t,i!==0&&(o=Ke(i))))):(y=a&~f,y!==0?o=Ke(y):g!==0?o=Ke(g):i||(i=a&~t,i!==0&&(o=Ke(i)))),o===0?0:e!==0&&e!==o&&(e&f)===0&&(f=o&-o,i=e&-e,f>=i||f===32&&(i&4194048)!==0)?e:o}function Wn(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function ou(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ll(){var t=Pn;return Pn<<=1,(Pn&4194048)===0&&(Pn=256),t}function Fa(){var t=Wt;return Wt<<=1,(Wt&62914560)===0&&(Wt=4194304),t}function Mi(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function ki(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uu(t,e,i,a,o,f){var g=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var y=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(i=g&~i;0<i;){var P=31-$t(i),$=1<<P;y[P]=0,N[P]=-1;var I=B[P];if(I!==null)for(B[P]=null,P=0;P<I.length;P++){var G=I[P];G!==null&&(G.lane&=-536870913)}i&=~$}a!==0&&Xa(t,a,0),f!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~e))}function Xa(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-$t(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|i&4194090}function ol(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var a=31-$t(i),o=1<<a;o&e|t[a]&e&&(t[a]|=e),i&=~o}}function Za(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ul(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:Xm(t.type))}function cu(t,e){var i=F.p;try{return F.p=t,e()}finally{F.p=i}}var Kn=Math.random().toString(36).slice(2),ke="__reactFiber$"+Kn,Xe="__reactProps$"+Kn,Ui="__reactContainer$"+Kn,Pa="__reactEvents$"+Kn,hu="__reactListeners$"+Kn,fu="__reactHandles$"+Kn,gs="__reactResources$"+Kn,vs="__reactMarker$"+Kn;function Fs(t){delete t[ke],delete t[Xe],delete t[Pa],delete t[hu],delete t[fu]}function ui(t){var e=t[ke];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Ui]||i[ke]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Rm(t);t!==null;){if(i=t[ke])return i;t=Rm(t)}return e}t=i,i=t.parentNode}return null}function ci(t){if(t=t[ke]||t[Ui]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function _s(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(r(33))}function zi(t){var e=t[gs];return e||(e=t[gs]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ge(t){t[vs]=!0}var cl=new Set,hl={};function hi(t,e){Bn(t,e),Bn(t+"Capture",e)}function Bn(t,e){for(hl[t]=e,t=0;t<e.length;t++)cl.add(e[t])}var du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hn={},fl={};function w(t){return Ce.call(fl,t)?!0:Ce.call(hn,t)?!1:du.test(t)?fl[t]=!0:(hn[t]=!0,!1)}function L(t,e,i){if(w(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function U(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function et(t,e,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+a)}}var Tt,Mt;function Nt(t){if(Tt===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Tt=e&&e[1]||"",Mt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tt+t+Mt}var Ft=!1;function Qt(t,e){if(!t||Ft)return"";Ft=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var I=G}Reflect.construct(t,[],$)}else{try{$.call()}catch(G){I=G}t.call($.prototype)}}else{try{throw Error()}catch(G){I=G}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&I&&typeof G.stack=="string")return[G.stack,I.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=a.DetermineComponentFrameRoot(),g=f[0],y=f[1];if(g&&y){var N=g.split(`
`),B=y.split(`
`);for(o=a=0;a<N.length&&!N[a].includes("DetermineComponentFrameRoot");)a++;for(;o<B.length&&!B[o].includes("DetermineComponentFrameRoot");)o++;if(a===N.length||o===B.length)for(a=N.length-1,o=B.length-1;1<=a&&0<=o&&N[a]!==B[o];)o--;for(;1<=a&&0<=o;a--,o--)if(N[a]!==B[o]){if(a!==1||o!==1)do if(a--,o--,0>o||N[a]!==B[o]){var P=`
`+N[a].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=a&&0<=o);break}}}finally{Ft=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Nt(i):""}function An(t){switch(t.tag){case 26:case 27:case 5:return Nt(t.type);case 16:return Nt("Lazy");case 13:return Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return Qt(t.type,!1);case 11:return Qt(t.type.render,!1);case 1:return Qt(t.type,!0);case 31:return Nt("Activity");default:return""}}function Jn(t){try{var e="";do e+=An(t),t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function En(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function I0(t){var e=Sf(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),a=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,f=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dl(t){t._valueTracker||(t._valueTracker=I0(t))}function bf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),a="";return t&&(a=Sf(t)?t.checked?"true":"false":t.value),t=a,t!==i?(e.setValue(t),!0):!1}function pl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var H0=/[\n"\\]/g;function wn(t){return t.replace(H0,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function pu(t,e,i,a,o,f,g,y){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),e!=null?g==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+En(e)):t.value!==""+En(e)&&(t.value=""+En(e)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),e!=null?mu(t,g,En(e)):i!=null?mu(t,g,En(i)):a!=null&&t.removeAttribute("value"),o==null&&f!=null&&(t.defaultChecked=!!f),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.name=""+En(y):t.removeAttribute("name")}function xf(t,e,i,a,o,f,g,y){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),e!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||e!=null))return;i=i!=null?""+En(i):"",e=e!=null?""+En(e):i,y||e===t.value||(t.value=e),t.defaultValue=e}a=a??o,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=y?t.checked:!!a,t.defaultChecked=!!a,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function mu(t,e,i){e==="number"&&pl(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Xs(t,e,i,a){if(t=t.options,e){e={};for(var o=0;o<i.length;o++)e["$"+i[o]]=!0;for(i=0;i<t.length;i++)o=e.hasOwnProperty("$"+t[i].value),t[i].selected!==o&&(t[i].selected=o),o&&a&&(t[i].defaultSelected=!0)}else{for(i=""+En(i),e=null,o=0;o<t.length;o++){if(t[o].value===i){t[o].selected=!0,a&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Af(t,e,i){if(e!=null&&(e=""+En(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+En(i):""}function Ef(t,e,i,a){if(e==null){if(a!=null){if(i!=null)throw Error(r(92));if(vt(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),e=i}i=En(e),t.defaultValue=i,a=t.textContent,a===i&&a!==""&&a!==null&&(t.value=a)}function Zs(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var G0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wf(t,e,i){var a=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,i):typeof i!="number"||i===0||G0.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Nf(t,e,i){if(e!=null&&typeof e!="object")throw Error(r(62));if(t=t.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var o in e)a=e[o],e.hasOwnProperty(o)&&i[o]!==a&&wf(t,o,a)}else for(var f in e)e.hasOwnProperty(f)&&wf(t,f,e[f])}function gu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),F0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ml(t){return F0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var vu=null;function _u(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qs=null,Ps=null;function Of(t){var e=ci(t);if(e&&(t=e.stateNode)){var i=t[Xe]||null;t:switch(t=e.stateNode,e.type){case"input":if(pu(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+wn(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var a=i[e];if(a!==t&&a.form===t.form){var o=a[Xe]||null;if(!o)throw Error(r(90));pu(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(e=0;e<i.length;e++)a=i[e],a.form===t.form&&bf(a)}break t;case"textarea":Af(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&Xs(t,!!i.multiple,e,!1)}}}var yu=!1;function Cf(t,e,i){if(yu)return t(e,i);yu=!0;try{var a=t(e);return a}finally{if(yu=!1,(Qs!==null||Ps!==null)&&(to(),Qs&&(e=Qs,t=Ps,Ps=Qs=null,Of(e),t)))for(e=0;e<t.length;e++)Of(t[e])}}function Wa(t,e){var i=t.stateNode;if(i===null)return null;var a=i[Xe]||null;if(a===null)return null;i=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(r(231,e,typeof i));return i}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tu=!1;if(fi)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){Tu=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{Tu=!1}var Vi=null,Su=null,gl=null;function Df(){if(gl)return gl;var t,e=Su,i=e.length,a,o="value"in Vi?Vi.value:Vi.textContent,f=o.length;for(t=0;t<i&&e[t]===o[t];t++);var g=i-t;for(a=1;a<=g&&e[i-a]===o[f-a];a++);return gl=o.slice(t,1<a?1-a:void 0)}function vl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _l(){return!0}function Rf(){return!1}function nn(t){function e(i,a,o,f,g){this._reactName=i,this._targetInst=o,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(i=t[y],this[y]=i?i(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?_l:Rf,this.isPropagationStopped=Rf,this}return v(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),e}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=nn(ys),Ja=v({},ys,{view:0,detail:0}),X0=nn(Ja),bu,xu,$a,Tl=v({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$a&&($a&&t.type==="mousemove"?(bu=t.screenX-$a.screenX,xu=t.screenY-$a.screenY):xu=bu=0,$a=t),bu)},movementY:function(t){return"movementY"in t?t.movementY:xu}}),Mf=nn(Tl),Z0=v({},Tl,{dataTransfer:0}),Q0=nn(Z0),P0=v({},Ja,{relatedTarget:0}),Au=nn(P0),W0=v({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),K0=nn(W0),J0=v({},ys,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$0=nn(J0),tv=v({},ys,{data:0}),kf=nn(tv),ev={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iv[t])?!!e[t]:!1}function Eu(){return sv}var av=v({},Ja,{key:function(t){if(t.key){var e=ev[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eu,charCode:function(t){return t.type==="keypress"?vl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rv=nn(av),lv=v({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uf=nn(lv),ov=v({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eu}),uv=nn(ov),cv=v({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),hv=nn(cv),fv=v({},Tl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dv=nn(fv),pv=v({},ys,{newState:0,oldState:0}),mv=nn(pv),gv=[9,13,27,32],wu=fi&&"CompositionEvent"in window,tr=null;fi&&"documentMode"in document&&(tr=document.documentMode);var vv=fi&&"TextEvent"in window&&!tr,zf=fi&&(!wu||tr&&8<tr&&11>=tr),Vf=" ",Bf=!1;function Lf(t,e){switch(t){case"keyup":return gv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ws=!1;function _v(t,e){switch(t){case"compositionend":return qf(e);case"keypress":return e.which!==32?null:(Bf=!0,Vf);case"textInput":return t=e.data,t===Vf&&Bf?null:t;default:return null}}function yv(t,e){if(Ws)return t==="compositionend"||!wu&&Lf(t,e)?(t=Df(),gl=Su=Vi=null,Ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zf&&e.locale!=="ko"?null:e.data;default:return null}}var Tv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Tv[t.type]:e==="textarea"}function If(t,e,i,a){Qs?Ps?Ps.push(a):Ps=[a]:Qs=a,e=ro(e,"onChange"),0<e.length&&(i=new yl("onChange","change",null,i,a),t.push({event:i,listeners:e}))}var er=null,nr=null;function Sv(t){Sm(t,0)}function Sl(t){var e=_s(t);if(bf(e))return t}function Hf(t,e){if(t==="change")return e}var Gf=!1;if(fi){var Nu;if(fi){var Ou="oninput"in document;if(!Ou){var Yf=document.createElement("div");Yf.setAttribute("oninput","return;"),Ou=typeof Yf.oninput=="function"}Nu=Ou}else Nu=!1;Gf=Nu&&(!document.documentMode||9<document.documentMode)}function Ff(){er&&(er.detachEvent("onpropertychange",Xf),nr=er=null)}function Xf(t){if(t.propertyName==="value"&&Sl(nr)){var e=[];If(e,nr,t,_u(t)),Cf(Sv,e)}}function bv(t,e,i){t==="focusin"?(Ff(),er=e,nr=i,er.attachEvent("onpropertychange",Xf)):t==="focusout"&&Ff()}function xv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sl(nr)}function Av(t,e){if(t==="click")return Sl(e)}function Ev(t,e){if(t==="input"||t==="change")return Sl(e)}function wv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fn=typeof Object.is=="function"?Object.is:wv;function ir(t,e){if(fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var o=i[a];if(!Ce.call(e,o)||!fn(t[o],e[o]))return!1}return!0}function Zf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qf(t,e){var i=Zf(t);t=0;for(var a;i;){if(i.nodeType===3){if(a=t+i.textContent.length,t<=e&&a>=e)return{node:i,offset:e-t};t=a}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Zf(i)}}function Pf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Pf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=pl(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=pl(t.document)}return e}function Cu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Nv=fi&&"documentMode"in document&&11>=document.documentMode,Ks=null,Du=null,sr=null,Ru=!1;function Kf(t,e,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ru||Ks==null||Ks!==pl(a)||(a=Ks,"selectionStart"in a&&Cu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),sr&&ir(sr,a)||(sr=a,a=ro(Du,"onSelect"),0<a.length&&(e=new yl("onSelect","select",null,e,i),t.push({event:e,listeners:a}),e.target=Ks)))}function Ts(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Js={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},Mu={},Jf={};fi&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function Ss(t){if(Mu[t])return Mu[t];if(!Js[t])return t;var e=Js[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Jf)return Mu[t]=e[i];return t}var $f=Ss("animationend"),td=Ss("animationiteration"),ed=Ss("animationstart"),Ov=Ss("transitionrun"),Cv=Ss("transitionstart"),Dv=Ss("transitioncancel"),nd=Ss("transitionend"),id=new Map,ku="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ku.push("scrollEnd");function Ln(t,e){id.set(t,e),hi(e,[t])}var sd=new WeakMap;function Nn(t,e){if(typeof t=="object"&&t!==null){var i=sd.get(t);return i!==void 0?i:(e={value:t,source:e,stack:Jn(e)},sd.set(t,e),e)}return{value:t,source:e,stack:Jn(e)}}var On=[],$s=0,Uu=0;function bl(){for(var t=$s,e=Uu=$s=0;e<t;){var i=On[e];On[e++]=null;var a=On[e];On[e++]=null;var o=On[e];On[e++]=null;var f=On[e];if(On[e++]=null,a!==null&&o!==null){var g=a.pending;g===null?o.next=o:(o.next=g.next,g.next=o),a.pending=o}f!==0&&ad(i,o,f)}}function xl(t,e,i,a){On[$s++]=t,On[$s++]=e,On[$s++]=i,On[$s++]=a,Uu|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function zu(t,e,i,a){return xl(t,e,i,a),Al(t)}function ta(t,e){return xl(t,null,null,e),Al(t)}function ad(t,e,i){t.lanes|=i;var a=t.alternate;a!==null&&(a.lanes|=i);for(var o=!1,f=t.return;f!==null;)f.childLanes|=i,a=f.alternate,a!==null&&(a.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(o=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,o&&e!==null&&(o=31-$t(i),t=f.hiddenUpdates,a=t[o],a===null?t[o]=[e]:a.push(e),e.lane=i|536870912),f):null}function Al(t){if(50<Cr)throw Cr=0,Ic=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ea={};function Rv(t,e,i,a){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,i,a){return new Rv(t,e,i,a)}function Vu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function di(t,e){var i=t.alternate;return i===null?(i=dn(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function rd(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function El(t,e,i,a,o,f){var g=0;if(a=t,typeof t=="function")Vu(t)&&(g=1);else if(typeof t=="string")g=k_(t,i,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case st:return t=dn(31,i,e,o),t.elementType=st,t.lanes=f,t;case b:return bs(i.children,o,f,e);case E:g=8,o|=24;break;case x:return t=dn(12,i,e,o|2),t.elementType=x,t.lanes=f,t;case O:return t=dn(13,i,e,o),t.elementType=O,t.lanes=f,t;case q:return t=dn(19,i,e,o),t.elementType=q,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C:case H:g=10;break t;case V:g=9;break t;case K:g=11;break t;case Y:g=14;break t;case k:g=16,a=null;break t}g=29,i=Error(r(130,t===null?"null":typeof t,"")),a=null}return e=dn(g,i,e,o),e.elementType=t,e.type=a,e.lanes=f,e}function bs(t,e,i,a){return t=dn(7,t,a,e),t.lanes=i,t}function Bu(t,e,i){return t=dn(6,t,null,e),t.lanes=i,t}function Lu(t,e,i){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var na=[],ia=0,wl=null,Nl=0,Cn=[],Dn=0,xs=null,pi=1,mi="";function As(t,e){na[ia++]=Nl,na[ia++]=wl,wl=t,Nl=e}function ld(t,e,i){Cn[Dn++]=pi,Cn[Dn++]=mi,Cn[Dn++]=xs,xs=t;var a=pi;t=mi;var o=32-$t(a)-1;a&=~(1<<o),i+=1;var f=32-$t(e)+o;if(30<f){var g=o-o%5;f=(a&(1<<g)-1).toString(32),a>>=g,o-=g,pi=1<<32-$t(e)+o|i<<o|a,mi=f+t}else pi=1<<f|i<<o|a,mi=t}function qu(t){t.return!==null&&(As(t,1),ld(t,1,0))}function ju(t){for(;t===wl;)wl=na[--ia],na[ia]=null,Nl=na[--ia],na[ia]=null;for(;t===xs;)xs=Cn[--Dn],Cn[Dn]=null,mi=Cn[--Dn],Cn[Dn]=null,pi=Cn[--Dn],Cn[Dn]=null}var Je=null,ve=null,Pt=!1,Es=null,$n=!1,Iu=Error(r(519));function ws(t){var e=Error(r(418,""));throw lr(Nn(e,t)),Iu}function od(t){var e=t.stateNode,i=t.type,a=t.memoizedProps;switch(e[ke]=t,e[Xe]=a,i){case"dialog":qt("cancel",e),qt("close",e);break;case"iframe":case"object":case"embed":qt("load",e);break;case"video":case"audio":for(i=0;i<Rr.length;i++)qt(Rr[i],e);break;case"source":qt("error",e);break;case"img":case"image":case"link":qt("error",e),qt("load",e);break;case"details":qt("toggle",e);break;case"input":qt("invalid",e),xf(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),dl(e);break;case"select":qt("invalid",e);break;case"textarea":qt("invalid",e),Ef(e,a.value,a.defaultValue,a.children),dl(e)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||a.suppressHydrationWarning===!0||Em(e.textContent,i)?(a.popover!=null&&(qt("beforetoggle",e),qt("toggle",e)),a.onScroll!=null&&qt("scroll",e),a.onScrollEnd!=null&&qt("scrollend",e),a.onClick!=null&&(e.onclick=lo),e=!0):e=!1,e||ws(t)}function ud(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Je=Je.return}}function ar(t){if(t!==Je)return!1;if(!Pt)return ud(t),Pt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||ih(t.type,t.memoizedProps)),i=!i),i&&ve&&ws(t),ud(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(e===0){ve=jn(t.nextSibling);break t}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++;t=t.nextSibling}ve=null}}else e===27?(e=ve,Ji(t.type)?(t=lh,lh=null,ve=t):ve=e):ve=Je?jn(t.stateNode.nextSibling):null;return!0}function rr(){ve=Je=null,Pt=!1}function cd(){var t=Es;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),Es=null),t}function lr(t){Es===null?Es=[t]:Es.push(t)}var Hu=j(null),Ns=null,gi=null;function Bi(t,e,i){it(Hu,e._currentValue),e._currentValue=i}function vi(t){t._currentValue=Hu.current,W(Hu)}function Gu(t,e,i){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===i)break;t=t.return}}function Yu(t,e,i,a){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var f=o.dependencies;if(f!==null){var g=o.child;f=f.firstContext;t:for(;f!==null;){var y=f;f=o;for(var N=0;N<e.length;N++)if(y.context===e[N]){f.lanes|=i,y=f.alternate,y!==null&&(y.lanes|=i),Gu(f.return,i,t),a||(g=null);break t}f=y.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(r(341));g.lanes|=i,f=g.alternate,f!==null&&(f.lanes|=i),Gu(g,i,t),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===t){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function or(t,e,i,a){t=null;for(var o=e,f=!1;o!==null;){if(!f){if((o.flags&524288)!==0)f=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var y=o.type;fn(o.pendingProps.value,g.value)||(t!==null?t.push(y):t=[y])}}else if(o===Dt.current){if(g=o.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(Br):t=[Br])}o=o.return}t!==null&&Yu(e,t,i,a),e.flags|=262144}function Ol(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Os(t){Ns=t,gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ze(t){return hd(Ns,t)}function Cl(t,e){return Ns===null&&Os(t),hd(t,e)}function hd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},gi===null){if(t===null)throw Error(r(308));gi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else gi=gi.next=e;return i}var Mv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},kv=l.unstable_scheduleCallback,Uv=l.unstable_NormalPriority,De={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fu(){return{controller:new Mv,data:new Map,refCount:0}}function ur(t){t.refCount--,t.refCount===0&&kv(Uv,function(){t.controller.abort()})}var cr=null,Xu=0,sa=0,aa=null;function zv(t,e){if(cr===null){var i=cr=[];Xu=0,sa=Qc(),aa={status:"pending",value:void 0,then:function(a){i.push(a)}}}return Xu++,e.then(fd,fd),e}function fd(){if(--Xu===0&&cr!==null){aa!==null&&(aa.status="fulfilled");var t=cr;cr=null,sa=0,aa=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Vv(t,e){var i=[],a={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var o=0;o<i.length;o++)(0,i[o])(e)},function(o){for(a.status="rejected",a.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),a}var dd=R.S;R.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&zv(t,e),dd!==null&&dd(t,e)};var Cs=j(null);function Zu(){var t=Cs.current;return t!==null?t:re.pooledCache}function Dl(t,e){e===null?it(Cs,Cs.current):it(Cs,e.pool)}function pd(){var t=Zu();return t===null?null:{parent:De._currentValue,pool:t}}var hr=Error(r(460)),md=Error(r(474)),Rl=Error(r(542)),Qu={then:function(){}};function gd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ml(){}function vd(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(Ml,Ml),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,yd(t),t;default:if(typeof e.status=="string")e.then(Ml,Ml);else{if(t=re,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var o=e;o.status="fulfilled",o.value=a}},function(a){if(e.status==="pending"){var o=e;o.status="rejected",o.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,yd(t),t}throw fr=e,hr}}var fr=null;function _d(){if(fr===null)throw Error(r(459));var t=fr;return fr=null,t}function yd(t){if(t===hr||t===Rl)throw Error(r(483))}var Li=!1;function Pu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wu(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ji(t,e,i){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Kt&2)!==0){var o=a.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),a.pending=e,e=Al(t),ad(t,null,i),e}return xl(t,a,e,i),Al(t)}function dr(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,i|=a,e.lanes=i,ol(t,i)}}function Ku(t,e){var i=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var o=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?o=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?o=f=e:f=f.next=e}else o=f=e;i={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:f,shared:a.shared,callbacks:a.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var Ju=!1;function pr(){if(Ju){var t=aa;if(t!==null)throw t}}function mr(t,e,i,a){Ju=!1;var o=t.updateQueue;Li=!1;var f=o.firstBaseUpdate,g=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var N=y,B=N.next;N.next=null,g===null?f=B:g.next=B,g=N;var P=t.alternate;P!==null&&(P=P.updateQueue,y=P.lastBaseUpdate,y!==g&&(y===null?P.firstBaseUpdate=B:y.next=B,P.lastBaseUpdate=N))}if(f!==null){var $=o.baseState;g=0,P=B=N=null,y=f;do{var I=y.lane&-536870913,G=I!==y.lane;if(G?(Gt&I)===I:(a&I)===I){I!==0&&I===sa&&(Ju=!0),P!==null&&(P=P.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});t:{var Ot=t,Et=y;I=e;var ne=i;switch(Et.tag){case 1:if(Ot=Et.payload,typeof Ot=="function"){$=Ot.call(ne,$,I);break t}$=Ot;break t;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=Et.payload,I=typeof Ot=="function"?Ot.call(ne,$,I):Ot,I==null)break t;$=v({},$,I);break t;case 2:Li=!0}}I=y.callback,I!==null&&(t.flags|=64,G&&(t.flags|=8192),G=o.callbacks,G===null?o.callbacks=[I]:G.push(I))}else G={lane:I,tag:y.tag,payload:y.payload,callback:y.callback,next:null},P===null?(B=P=G,N=$):P=P.next=G,g|=I;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;G=y,y=G.next,G.next=null,o.lastBaseUpdate=G,o.shared.pending=null}}while(!0);P===null&&(N=$),o.baseState=N,o.firstBaseUpdate=B,o.lastBaseUpdate=P,f===null&&(o.shared.lanes=0),Qi|=g,t.lanes=g,t.memoizedState=$}}function Td(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function Sd(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Td(i[t],e)}var ra=j(null),kl=j(0);function bd(t,e){t=Ai,it(kl,t),it(ra,e),Ai=t|e.baseLanes}function $u(){it(kl,Ai),it(ra,ra.current)}function tc(){Ai=kl.current,W(ra),W(kl)}var Ii=0,Vt=null,te=null,Ae=null,Ul=!1,la=!1,Ds=!1,zl=0,gr=0,oa=null,Bv=0;function Se(){throw Error(r(321))}function ec(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!fn(t[i],e[i]))return!1;return!0}function nc(t,e,i,a,o,f){return Ii=f,Vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,R.H=t===null||t.memoizedState===null?ap:rp,Ds=!1,f=i(a,o),Ds=!1,la&&(f=Ad(e,i,a,o)),xd(t),f}function xd(t){R.H=Il;var e=te!==null&&te.next!==null;if(Ii=0,Ae=te=Vt=null,Ul=!1,gr=0,oa=null,e)throw Error(r(300));t===null||Ue||(t=t.dependencies,t!==null&&Ol(t)&&(Ue=!0))}function Ad(t,e,i,a){Vt=t;var o=0;do{if(la&&(oa=null),gr=0,la=!1,25<=o)throw Error(r(301));if(o+=1,Ae=te=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}R.H=Yv,f=e(i,a)}while(la);return f}function Lv(){var t=R.H,e=t.useState()[0];return e=typeof e.then=="function"?vr(e):e,t=t.useState()[0],(te!==null?te.memoizedState:null)!==t&&(Vt.flags|=1024),e}function ic(){var t=zl!==0;return zl=0,t}function sc(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function ac(t){if(Ul){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ul=!1}Ii=0,Ae=te=Vt=null,la=!1,gr=zl=0,oa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Vt.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function Ee(){if(te===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=te.next;var e=Ae===null?Vt.memoizedState:Ae.next;if(e!==null)Ae=e,te=t;else{if(t===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));te=t,t={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ae===null?Vt.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vr(t){var e=gr;return gr+=1,oa===null&&(oa=[]),t=vd(oa,t,e),e=Vt,(Ae===null?e.memoizedState:Ae.next)===null&&(e=e.alternate,R.H=e===null||e.memoizedState===null?ap:rp),t}function Vl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vr(t);if(t.$$typeof===H)return Ze(t)}throw Error(r(438,String(t)))}function lc(t){var e=null,i=Vt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var a=Vt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(o){return o.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=rc(),Vt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),a=0;a<t;a++)i[a]=nt;return e.index++,i}function _i(t,e){return typeof e=="function"?e(t):e}function Bl(t){var e=Ee();return oc(e,te,t)}function oc(t,e,i){var a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var o=t.baseQueue,f=a.pending;if(f!==null){if(o!==null){var g=o.next;o.next=f.next,f.next=g}e.baseQueue=o=f,a.pending=null}if(f=t.baseState,o===null)t.memoizedState=f;else{e=o.next;var y=g=null,N=null,B=e,P=!1;do{var $=B.lane&-536870913;if($!==B.lane?(Gt&$)===$:(Ii&$)===$){var I=B.revertLane;if(I===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===sa&&(P=!0);else if((Ii&I)===I){B=B.next,I===sa&&(P=!0);continue}else $={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(y=N=$,g=f):N=N.next=$,Vt.lanes|=I,Qi|=I;$=B.action,Ds&&i(f,$),f=B.hasEagerState?B.eagerState:i(f,$)}else I={lane:$,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(y=N=I,g=f):N=N.next=I,Vt.lanes|=$,Qi|=$;B=B.next}while(B!==null&&B!==e);if(N===null?g=f:N.next=y,!fn(f,t.memoizedState)&&(Ue=!0,P&&(i=aa,i!==null)))throw i;t.memoizedState=f,t.baseState=g,t.baseQueue=N,a.lastRenderedState=f}return o===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function uc(t){var e=Ee(),i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var a=i.dispatch,o=i.pending,f=e.memoizedState;if(o!==null){i.pending=null;var g=o=o.next;do f=t(f,g.action),g=g.next;while(g!==o);fn(f,e.memoizedState)||(Ue=!0),e.memoizedState=f,e.baseQueue===null&&(e.baseState=f),i.lastRenderedState=f}return[f,a]}function Ed(t,e,i){var a=Vt,o=Ee(),f=Pt;if(f){if(i===void 0)throw Error(r(407));i=i()}else i=e();var g=!fn((te||o).memoizedState,i);g&&(o.memoizedState=i,Ue=!0),o=o.queue;var y=Od.bind(null,a,o,t);if(_r(2048,8,y,[t]),o.getSnapshot!==e||g||Ae!==null&&Ae.memoizedState.tag&1){if(a.flags|=2048,ua(9,Ll(),Nd.bind(null,a,o,i,e),null),re===null)throw Error(r(349));f||(Ii&124)!==0||wd(a,e,i)}return i}function wd(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Vt.updateQueue,e===null?(e=rc(),Vt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function Nd(t,e,i,a){e.value=i,e.getSnapshot=a,Cd(e)&&Dd(t)}function Od(t,e,i){return i(function(){Cd(e)&&Dd(t)})}function Cd(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!fn(t,i)}catch{return!0}}function Dd(t){var e=ta(t,2);e!==null&&_n(e,t,2)}function cc(t){var e=sn();if(typeof t=="function"){var i=t;if(t=i(),Ds){It(!0);try{i()}finally{It(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},e}function Rd(t,e,i,a){return t.baseState=i,oc(t,te,typeof a=="function"?a:_i)}function qv(t,e,i,a,o){if(jl(t))throw Error(r(485));if(t=e.action,t!==null){var f={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};R.T!==null?i(!0):f.isTransition=!1,a(f),i=e.pending,i===null?(f.next=e.pending=f,Md(e,f)):(f.next=i.next,e.pending=i.next=f)}}function Md(t,e){var i=e.action,a=e.payload,o=t.state;if(e.isTransition){var f=R.T,g={};R.T=g;try{var y=i(o,a),N=R.S;N!==null&&N(g,y),kd(t,e,y)}catch(B){hc(t,e,B)}finally{R.T=f}}else try{f=i(o,a),kd(t,e,f)}catch(B){hc(t,e,B)}}function kd(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){Ud(t,e,a)},function(a){return hc(t,e,a)}):Ud(t,e,i)}function Ud(t,e,i){e.status="fulfilled",e.value=i,zd(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,Md(t,i)))}function hc(t,e,i){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=i,zd(e),e=e.next;while(e!==a)}t.action=null}function zd(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Vd(t,e){return e}function Bd(t,e){if(Pt){var i=re.formState;if(i!==null){t:{var a=Vt;if(Pt){if(ve){e:{for(var o=ve,f=$n;o.nodeType!==8;){if(!f){o=null;break e}if(o=jn(o.nextSibling),o===null){o=null;break e}}f=o.data,o=f==="F!"||f==="F"?o:null}if(o){ve=jn(o.nextSibling),a=o.data==="F!";break t}}ws(a)}a=!1}a&&(e=i[0])}}return i=sn(),i.memoizedState=i.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:e},i.queue=a,i=np.bind(null,Vt,a),a.dispatch=i,a=cc(!1),f=gc.bind(null,Vt,!1,a.queue),a=sn(),o={state:e,dispatch:null,action:t,pending:null},a.queue=o,i=qv.bind(null,Vt,o,f,i),o.dispatch=i,a.memoizedState=t,[e,i,!1]}function Ld(t){var e=Ee();return qd(e,te,t)}function qd(t,e,i){if(e=oc(t,e,Vd)[0],t=Bl(_i)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=vr(e)}catch(g){throw g===hr?Rl:g}else a=e;e=Ee();var o=e.queue,f=o.dispatch;return i!==e.memoizedState&&(Vt.flags|=2048,ua(9,Ll(),jv.bind(null,o,i),null)),[a,f,t]}function jv(t,e){t.action=e}function jd(t){var e=Ee(),i=te;if(i!==null)return qd(e,i,t);Ee(),e=e.memoizedState,i=Ee();var a=i.queue.dispatch;return i.memoizedState=t,[e,a,!1]}function ua(t,e,i,a){return t={tag:t,create:i,deps:a,inst:e,next:null},e=Vt.updateQueue,e===null&&(e=rc(),Vt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(a=i.next,i.next=t,t.next=a,e.lastEffect=t),t}function Ll(){return{destroy:void 0,resource:void 0}}function Id(){return Ee().memoizedState}function ql(t,e,i,a){var o=sn();a=a===void 0?null:a,Vt.flags|=t,o.memoizedState=ua(1|e,Ll(),i,a)}function _r(t,e,i,a){var o=Ee();a=a===void 0?null:a;var f=o.memoizedState.inst;te!==null&&a!==null&&ec(a,te.memoizedState.deps)?o.memoizedState=ua(e,f,i,a):(Vt.flags|=t,o.memoizedState=ua(1|e,f,i,a))}function Hd(t,e){ql(8390656,8,t,e)}function Gd(t,e){_r(2048,8,t,e)}function Yd(t,e){return _r(4,2,t,e)}function Fd(t,e){return _r(4,4,t,e)}function Xd(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zd(t,e,i){i=i!=null?i.concat([t]):null,_r(4,4,Xd.bind(null,e,t),i)}function fc(){}function Qd(t,e){var i=Ee();e=e===void 0?null:e;var a=i.memoizedState;return e!==null&&ec(e,a[1])?a[0]:(i.memoizedState=[t,e],t)}function Pd(t,e){var i=Ee();e=e===void 0?null:e;var a=i.memoizedState;if(e!==null&&ec(e,a[1]))return a[0];if(a=t(),Ds){It(!0);try{t()}finally{It(!1)}}return i.memoizedState=[a,e],a}function dc(t,e,i){return i===void 0||(Ii&1073741824)!==0?t.memoizedState=e:(t.memoizedState=i,t=Jp(),Vt.lanes|=t,Qi|=t,i)}function Wd(t,e,i,a){return fn(i,e)?i:ra.current!==null?(t=dc(t,i,a),fn(t,e)||(Ue=!0),t):(Ii&42)===0?(Ue=!0,t.memoizedState=i):(t=Jp(),Vt.lanes|=t,Qi|=t,e)}function Kd(t,e,i,a,o){var f=F.p;F.p=f!==0&&8>f?f:8;var g=R.T,y={};R.T=y,gc(t,!1,e,i);try{var N=o(),B=R.S;if(B!==null&&B(y,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var P=Vv(N,a);yr(t,e,P,vn(t))}else yr(t,e,a,vn(t))}catch($){yr(t,e,{then:function(){},status:"rejected",reason:$},vn())}finally{F.p=f,R.T=g}}function Iv(){}function pc(t,e,i,a){if(t.tag!==5)throw Error(r(476));var o=Jd(t).queue;Kd(t,o,e,rt,i===null?Iv:function(){return $d(t),i(a)})}function Jd(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:rt},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function $d(t){var e=Jd(t).next.queue;yr(t,e,{},vn())}function mc(){return Ze(Br)}function tp(){return Ee().memoizedState}function ep(){return Ee().memoizedState}function Hv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=vn();t=qi(i);var a=ji(e,t,i);a!==null&&(_n(a,e,i),dr(a,e,i)),e={cache:Fu()},t.payload=e;return}e=e.return}}function Gv(t,e,i){var a=vn();i={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},jl(t)?ip(e,i):(i=zu(t,e,i,a),i!==null&&(_n(i,t,a),sp(i,e,a)))}function np(t,e,i){var a=vn();yr(t,e,i,a)}function yr(t,e,i,a){var o={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(jl(t))ip(e,o);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=e.lastRenderedReducer,f!==null))try{var g=e.lastRenderedState,y=f(g,i);if(o.hasEagerState=!0,o.eagerState=y,fn(y,g))return xl(t,e,o,0),re===null&&bl(),!1}catch{}finally{}if(i=zu(t,e,o,a),i!==null)return _n(i,t,a),sp(i,e,a),!0}return!1}function gc(t,e,i,a){if(a={lane:2,revertLane:Qc(),action:a,hasEagerState:!1,eagerState:null,next:null},jl(t)){if(e)throw Error(r(479))}else e=zu(t,i,a,2),e!==null&&_n(e,t,2)}function jl(t){var e=t.alternate;return t===Vt||e!==null&&e===Vt}function ip(t,e){la=Ul=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function sp(t,e,i){if((i&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,i|=a,e.lanes=i,ol(t,i)}}var Il={readContext:Ze,use:Vl,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se},ap={readContext:Ze,use:Vl,useCallback:function(t,e){return sn().memoizedState=[t,e===void 0?null:e],t},useContext:Ze,useEffect:Hd,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,ql(4194308,4,Xd.bind(null,e,t),i)},useLayoutEffect:function(t,e){return ql(4194308,4,t,e)},useInsertionEffect:function(t,e){ql(4,2,t,e)},useMemo:function(t,e){var i=sn();e=e===void 0?null:e;var a=t();if(Ds){It(!0);try{t()}finally{It(!1)}}return i.memoizedState=[a,e],a},useReducer:function(t,e,i){var a=sn();if(i!==void 0){var o=i(e);if(Ds){It(!0);try{i(e)}finally{It(!1)}}}else o=e;return a.memoizedState=a.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},a.queue=t,t=t.dispatch=Gv.bind(null,Vt,t),[a.memoizedState,t]},useRef:function(t){var e=sn();return t={current:t},e.memoizedState=t},useState:function(t){t=cc(t);var e=t.queue,i=np.bind(null,Vt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:fc,useDeferredValue:function(t,e){var i=sn();return dc(i,t,e)},useTransition:function(){var t=cc(!1);return t=Kd.bind(null,Vt,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var a=Vt,o=sn();if(Pt){if(i===void 0)throw Error(r(407));i=i()}else{if(i=e(),re===null)throw Error(r(349));(Gt&124)!==0||wd(a,e,i)}o.memoizedState=i;var f={value:i,getSnapshot:e};return o.queue=f,Hd(Od.bind(null,a,f,t),[t]),a.flags|=2048,ua(9,Ll(),Nd.bind(null,a,f,i,e),null),i},useId:function(){var t=sn(),e=re.identifierPrefix;if(Pt){var i=mi,a=pi;i=(a&~(1<<32-$t(a)-1)).toString(32)+i,e=""+e+"R"+i,i=zl++,0<i&&(e+="H"+i.toString(32)),e+=""}else i=Bv++,e=""+e+"r"+i.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:mc,useFormState:Bd,useActionState:Bd,useOptimistic:function(t){var e=sn();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=gc.bind(null,Vt,!0,i),i.dispatch=e,[t,e]},useMemoCache:lc,useCacheRefresh:function(){return sn().memoizedState=Hv.bind(null,Vt)}},rp={readContext:Ze,use:Vl,useCallback:Qd,useContext:Ze,useEffect:Gd,useImperativeHandle:Zd,useInsertionEffect:Yd,useLayoutEffect:Fd,useMemo:Pd,useReducer:Bl,useRef:Id,useState:function(){return Bl(_i)},useDebugValue:fc,useDeferredValue:function(t,e){var i=Ee();return Wd(i,te.memoizedState,t,e)},useTransition:function(){var t=Bl(_i)[0],e=Ee().memoizedState;return[typeof t=="boolean"?t:vr(t),e]},useSyncExternalStore:Ed,useId:tp,useHostTransitionStatus:mc,useFormState:Ld,useActionState:Ld,useOptimistic:function(t,e){var i=Ee();return Rd(i,te,t,e)},useMemoCache:lc,useCacheRefresh:ep},Yv={readContext:Ze,use:Vl,useCallback:Qd,useContext:Ze,useEffect:Gd,useImperativeHandle:Zd,useInsertionEffect:Yd,useLayoutEffect:Fd,useMemo:Pd,useReducer:uc,useRef:Id,useState:function(){return uc(_i)},useDebugValue:fc,useDeferredValue:function(t,e){var i=Ee();return te===null?dc(i,t,e):Wd(i,te.memoizedState,t,e)},useTransition:function(){var t=uc(_i)[0],e=Ee().memoizedState;return[typeof t=="boolean"?t:vr(t),e]},useSyncExternalStore:Ed,useId:tp,useHostTransitionStatus:mc,useFormState:jd,useActionState:jd,useOptimistic:function(t,e){var i=Ee();return te!==null?Rd(i,te,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:lc,useCacheRefresh:ep},ca=null,Tr=0;function Hl(t){var e=Tr;return Tr+=1,ca===null&&(ca=[]),vd(ca,t,e)}function Sr(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Gl(t,e){throw e.$$typeof===_?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function lp(t){var e=t._init;return e(t._payload)}function op(t){function e(M,D){if(t){var z=M.deletions;z===null?(M.deletions=[D],M.flags|=16):z.push(D)}}function i(M,D){if(!t)return null;for(;D!==null;)e(M,D),D=D.sibling;return null}function a(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function o(M,D){return M=di(M,D),M.index=0,M.sibling=null,M}function f(M,D,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<D?(M.flags|=67108866,D):z):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function g(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function y(M,D,z,J){return D===null||D.tag!==6?(D=Bu(z,M.mode,J),D.return=M,D):(D=o(D,z),D.return=M,D)}function N(M,D,z,J){var St=z.type;return St===b?P(M,D,z.props.children,J,z.key):D!==null&&(D.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===k&&lp(St)===D.type)?(D=o(D,z.props),Sr(D,z),D.return=M,D):(D=El(z.type,z.key,z.props,null,M.mode,J),Sr(D,z),D.return=M,D)}function B(M,D,z,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Lu(z,M.mode,J),D.return=M,D):(D=o(D,z.children||[]),D.return=M,D)}function P(M,D,z,J,St){return D===null||D.tag!==7?(D=bs(z,M.mode,J,St),D.return=M,D):(D=o(D,z),D.return=M,D)}function $(M,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Bu(""+D,M.mode,z),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case S:return z=El(D.type,D.key,D.props,null,M.mode,z),Sr(z,D),z.return=M,z;case T:return D=Lu(D,M.mode,z),D.return=M,D;case k:var J=D._init;return D=J(D._payload),$(M,D,z)}if(vt(D)||Q(D))return D=bs(D,M.mode,z,null),D.return=M,D;if(typeof D.then=="function")return $(M,Hl(D),z);if(D.$$typeof===H)return $(M,Cl(M,D),z);Gl(M,D)}return null}function I(M,D,z,J){var St=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return St!==null?null:y(M,D,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===St?N(M,D,z,J):null;case T:return z.key===St?B(M,D,z,J):null;case k:return St=z._init,z=St(z._payload),I(M,D,z,J)}if(vt(z)||Q(z))return St!==null?null:P(M,D,z,J,null);if(typeof z.then=="function")return I(M,D,Hl(z),J);if(z.$$typeof===H)return I(M,D,Cl(M,z),J);Gl(M,z)}return null}function G(M,D,z,J,St){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return M=M.get(z)||null,y(D,M,""+J,St);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return M=M.get(J.key===null?z:J.key)||null,N(D,M,J,St);case T:return M=M.get(J.key===null?z:J.key)||null,B(D,M,J,St);case k:var Bt=J._init;return J=Bt(J._payload),G(M,D,z,J,St)}if(vt(J)||Q(J))return M=M.get(z)||null,P(D,M,J,St,null);if(typeof J.then=="function")return G(M,D,z,Hl(J),St);if(J.$$typeof===H)return G(M,D,z,Cl(D,J),St);Gl(D,J)}return null}function Ot(M,D,z,J){for(var St=null,Bt=null,xt=D,wt=D=0,Ve=null;xt!==null&&wt<z.length;wt++){xt.index>wt?(Ve=xt,xt=null):Ve=xt.sibling;var Xt=I(M,xt,z[wt],J);if(Xt===null){xt===null&&(xt=Ve);break}t&&xt&&Xt.alternate===null&&e(M,xt),D=f(Xt,D,wt),Bt===null?St=Xt:Bt.sibling=Xt,Bt=Xt,xt=Ve}if(wt===z.length)return i(M,xt),Pt&&As(M,wt),St;if(xt===null){for(;wt<z.length;wt++)xt=$(M,z[wt],J),xt!==null&&(D=f(xt,D,wt),Bt===null?St=xt:Bt.sibling=xt,Bt=xt);return Pt&&As(M,wt),St}for(xt=a(xt);wt<z.length;wt++)Ve=G(xt,M,wt,z[wt],J),Ve!==null&&(t&&Ve.alternate!==null&&xt.delete(Ve.key===null?wt:Ve.key),D=f(Ve,D,wt),Bt===null?St=Ve:Bt.sibling=Ve,Bt=Ve);return t&&xt.forEach(function(is){return e(M,is)}),Pt&&As(M,wt),St}function Et(M,D,z,J){if(z==null)throw Error(r(151));for(var St=null,Bt=null,xt=D,wt=D=0,Ve=null,Xt=z.next();xt!==null&&!Xt.done;wt++,Xt=z.next()){xt.index>wt?(Ve=xt,xt=null):Ve=xt.sibling;var is=I(M,xt,Xt.value,J);if(is===null){xt===null&&(xt=Ve);break}t&&xt&&is.alternate===null&&e(M,xt),D=f(is,D,wt),Bt===null?St=is:Bt.sibling=is,Bt=is,xt=Ve}if(Xt.done)return i(M,xt),Pt&&As(M,wt),St;if(xt===null){for(;!Xt.done;wt++,Xt=z.next())Xt=$(M,Xt.value,J),Xt!==null&&(D=f(Xt,D,wt),Bt===null?St=Xt:Bt.sibling=Xt,Bt=Xt);return Pt&&As(M,wt),St}for(xt=a(xt);!Xt.done;wt++,Xt=z.next())Xt=G(xt,M,wt,Xt.value,J),Xt!==null&&(t&&Xt.alternate!==null&&xt.delete(Xt.key===null?wt:Xt.key),D=f(Xt,D,wt),Bt===null?St=Xt:Bt.sibling=Xt,Bt=Xt);return t&&xt.forEach(function(F_){return e(M,F_)}),Pt&&As(M,wt),St}function ne(M,D,z,J){if(typeof z=="object"&&z!==null&&z.type===b&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:t:{for(var St=z.key;D!==null;){if(D.key===St){if(St=z.type,St===b){if(D.tag===7){i(M,D.sibling),J=o(D,z.props.children),J.return=M,M=J;break t}}else if(D.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===k&&lp(St)===D.type){i(M,D.sibling),J=o(D,z.props),Sr(J,z),J.return=M,M=J;break t}i(M,D);break}else e(M,D);D=D.sibling}z.type===b?(J=bs(z.props.children,M.mode,J,z.key),J.return=M,M=J):(J=El(z.type,z.key,z.props,null,M.mode,J),Sr(J,z),J.return=M,M=J)}return g(M);case T:t:{for(St=z.key;D!==null;){if(D.key===St)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){i(M,D.sibling),J=o(D,z.children||[]),J.return=M,M=J;break t}else{i(M,D);break}else e(M,D);D=D.sibling}J=Lu(z,M.mode,J),J.return=M,M=J}return g(M);case k:return St=z._init,z=St(z._payload),ne(M,D,z,J)}if(vt(z))return Ot(M,D,z,J);if(Q(z)){if(St=Q(z),typeof St!="function")throw Error(r(150));return z=St.call(z),Et(M,D,z,J)}if(typeof z.then=="function")return ne(M,D,Hl(z),J);if(z.$$typeof===H)return ne(M,D,Cl(M,z),J);Gl(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(i(M,D.sibling),J=o(D,z),J.return=M,M=J):(i(M,D),J=Bu(z,M.mode,J),J.return=M,M=J),g(M)):i(M,D)}return function(M,D,z,J){try{Tr=0;var St=ne(M,D,z,J);return ca=null,St}catch(xt){if(xt===hr||xt===Rl)throw xt;var Bt=dn(29,xt,null,M.mode);return Bt.lanes=J,Bt.return=M,Bt}finally{}}}var ha=op(!0),up=op(!1),Rn=j(null),ti=null;function Hi(t){var e=t.alternate;it(Re,Re.current&1),it(Rn,t),ti===null&&(e===null||ra.current!==null||e.memoizedState!==null)&&(ti=t)}function cp(t){if(t.tag===22){if(it(Re,Re.current),it(Rn,t),ti===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(ti=t)}}else Gi()}function Gi(){it(Re,Re.current),it(Rn,Rn.current)}function yi(t){W(Rn),ti===t&&(ti=null),W(Re)}var Re=j(0);function Yl(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||rh(i)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function vc(t,e,i,a){e=t.memoizedState,i=i(a,e),i=i==null?e:v({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var _c={enqueueSetState:function(t,e,i){t=t._reactInternals;var a=vn(),o=qi(a);o.payload=e,i!=null&&(o.callback=i),e=ji(t,o,a),e!==null&&(_n(e,t,a),dr(e,t,a))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var a=vn(),o=qi(a);o.tag=1,o.payload=e,i!=null&&(o.callback=i),e=ji(t,o,a),e!==null&&(_n(e,t,a),dr(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=vn(),a=qi(i);a.tag=2,e!=null&&(a.callback=e),e=ji(t,a,i),e!==null&&(_n(e,t,i),dr(e,t,i))}};function hp(t,e,i,a,o,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,f,g):e.prototype&&e.prototype.isPureReactComponent?!ir(i,a)||!ir(o,f):!0}function fp(t,e,i,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,a),e.state!==t&&_c.enqueueReplaceState(e,e.state,null)}function Rs(t,e){var i=e;if("ref"in e){i={};for(var a in e)a!=="ref"&&(i[a]=e[a])}if(t=t.defaultProps){i===e&&(i=v({},i));for(var o in t)i[o]===void 0&&(i[o]=t[o])}return i}var Fl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function dp(t){Fl(t)}function pp(t){console.error(t)}function mp(t){Fl(t)}function Xl(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function gp(t,e,i){try{var a=t.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function yc(t,e,i){return i=qi(i),i.tag=3,i.payload={element:null},i.callback=function(){Xl(t,e)},i}function vp(t){return t=qi(t),t.tag=3,t}function _p(t,e,i,a){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var f=a.value;t.payload=function(){return o(f)},t.callback=function(){gp(e,i,a)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){gp(e,i,a),typeof o!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var y=a.stack;this.componentDidCatch(a.value,{componentStack:y!==null?y:""})})}function Fv(t,e,i,a,o){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=i.alternate,e!==null&&or(e,i,o,!0),i=Rn.current,i!==null){switch(i.tag){case 13:return ti===null?Gc():i.alternate===null&&_e===0&&(_e=3),i.flags&=-257,i.flags|=65536,i.lanes=o,a===Qu?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([a]):e.add(a),Fc(t,a,o)),!1;case 22:return i.flags|=65536,a===Qu?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([a]):i.add(a)),Fc(t,a,o)),!1}throw Error(r(435,i.tag))}return Fc(t,a,o),Gc(),!1}if(Pt)return e=Rn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=o,a!==Iu&&(t=Error(r(422),{cause:a}),lr(Nn(t,i)))):(a!==Iu&&(e=Error(r(423),{cause:a}),lr(Nn(e,i))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,a=Nn(a,i),o=yc(t.stateNode,a,o),Ku(t,o),_e!==4&&(_e=2)),!1;var f=Error(r(520),{cause:a});if(f=Nn(f,i),Or===null?Or=[f]:Or.push(f),_e!==4&&(_e=2),e===null)return!0;a=Nn(a,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=o&-o,i.lanes|=t,t=yc(i.stateNode,a,t),Ku(i,t),!1;case 1:if(e=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Pi===null||!Pi.has(f))))return i.flags|=65536,o&=-o,i.lanes|=o,o=vp(o),_p(o,t,i,a),Ku(i,o),!1}i=i.return}while(i!==null);return!1}var yp=Error(r(461)),Ue=!1;function je(t,e,i,a){e.child=t===null?up(e,null,i,a):ha(e,t.child,i,a)}function Tp(t,e,i,a,o){i=i.render;var f=e.ref;if("ref"in a){var g={};for(var y in a)y!=="ref"&&(g[y]=a[y])}else g=a;return Os(e),a=nc(t,e,i,g,f,o),y=ic(),t!==null&&!Ue?(sc(t,e,o),Ti(t,e,o)):(Pt&&y&&qu(e),e.flags|=1,je(t,e,a,o),e.child)}function Sp(t,e,i,a,o){if(t===null){var f=i.type;return typeof f=="function"&&!Vu(f)&&f.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=f,bp(t,e,f,a,o)):(t=El(i.type,null,a,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(f=t.child,!Nc(t,o)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:ir,i(g,a)&&t.ref===e.ref)return Ti(t,e,o)}return e.flags|=1,t=di(f,a),t.ref=e.ref,t.return=e,e.child=t}function bp(t,e,i,a,o){if(t!==null){var f=t.memoizedProps;if(ir(f,a)&&t.ref===e.ref)if(Ue=!1,e.pendingProps=a=f,Nc(t,o))(t.flags&131072)!==0&&(Ue=!0);else return e.lanes=t.lanes,Ti(t,e,o)}return Tc(t,e,i,a,o)}function xp(t,e,i){var a=e.pendingProps,o=a.children,f=t!==null?t.memoizedState:null;if(a.mode==="hidden"){if((e.flags&128)!==0){if(a=f!==null?f.baseLanes|i:i,t!==null){for(o=e.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;e.childLanes=f&~a}else e.childLanes=0,e.child=null;return Ap(t,e,a,i)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Dl(e,f!==null?f.cachePool:null),f!==null?bd(e,f):$u(),cp(e);else return e.lanes=e.childLanes=536870912,Ap(t,e,f!==null?f.baseLanes|i:i,i)}else f!==null?(Dl(e,f.cachePool),bd(e,f),Gi(),e.memoizedState=null):(t!==null&&Dl(e,null),$u(),Gi());return je(t,e,o,i),e.child}function Ap(t,e,i,a){var o=Zu();return o=o===null?null:{parent:De._currentValue,pool:o},e.memoizedState={baseLanes:i,cachePool:o},t!==null&&Dl(e,null),$u(),cp(e),t!==null&&or(t,e,a,!0),null}function Zl(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function Tc(t,e,i,a,o){return Os(e),i=nc(t,e,i,a,void 0,o),a=ic(),t!==null&&!Ue?(sc(t,e,o),Ti(t,e,o)):(Pt&&a&&qu(e),e.flags|=1,je(t,e,i,o),e.child)}function Ep(t,e,i,a,o,f){return Os(e),e.updateQueue=null,i=Ad(e,a,i,o),xd(t),a=ic(),t!==null&&!Ue?(sc(t,e,f),Ti(t,e,f)):(Pt&&a&&qu(e),e.flags|=1,je(t,e,i,f),e.child)}function wp(t,e,i,a,o){if(Os(e),e.stateNode===null){var f=ea,g=i.contextType;typeof g=="object"&&g!==null&&(f=Ze(g)),f=new i(a,f),e.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_c,e.stateNode=f,f._reactInternals=e,f=e.stateNode,f.props=a,f.state=e.memoizedState,f.refs={},Pu(e),g=i.contextType,f.context=typeof g=="object"&&g!==null?Ze(g):ea,f.state=e.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(vc(e,i,g,a),f.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&_c.enqueueReplaceState(f,f.state,null),mr(e,a,f,o),pr(),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){f=e.stateNode;var y=e.memoizedProps,N=Rs(i,y);f.props=N;var B=f.context,P=i.contextType;g=ea,typeof P=="object"&&P!==null&&(g=Ze(P));var $=i.getDerivedStateFromProps;P=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",y=e.pendingProps!==y,P||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y||B!==g)&&fp(e,f,a,g),Li=!1;var I=e.memoizedState;f.state=I,mr(e,a,f,o),pr(),B=e.memoizedState,y||I!==B||Li?(typeof $=="function"&&(vc(e,i,$,a),B=e.memoizedState),(N=Li||hp(e,i,N,a,I,B,g))?(P||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=B),f.props=a,f.state=B,f.context=g,a=N):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{f=e.stateNode,Wu(t,e),g=e.memoizedProps,P=Rs(i,g),f.props=P,$=e.pendingProps,I=f.context,B=i.contextType,N=ea,typeof B=="object"&&B!==null&&(N=Ze(B)),y=i.getDerivedStateFromProps,(B=typeof y=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||I!==N)&&fp(e,f,a,N),Li=!1,I=e.memoizedState,f.state=I,mr(e,a,f,o),pr();var G=e.memoizedState;g!==$||I!==G||Li||t!==null&&t.dependencies!==null&&Ol(t.dependencies)?(typeof y=="function"&&(vc(e,i,y,a),G=e.memoizedState),(P=Li||hp(e,i,P,a,I,G,N)||t!==null&&t.dependencies!==null&&Ol(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(a,G,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(a,G,N)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=G),f.props=a,f.state=G,f.context=N,a=P):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(e.flags|=1024),a=!1)}return f=a,Zl(t,e),a=(e.flags&128)!==0,f||a?(f=e.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:f.render(),e.flags|=1,t!==null&&a?(e.child=ha(e,t.child,null,o),e.child=ha(e,null,i,o)):je(t,e,i,o),e.memoizedState=f.state,t=e.child):t=Ti(t,e,o),t}function Np(t,e,i,a){return rr(),e.flags|=256,je(t,e,i,a),e.child}var Sc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bc(t){return{baseLanes:t,cachePool:pd()}}function xc(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=Mn),t}function Op(t,e,i){var a=e.pendingProps,o=!1,f=(e.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),g&&(o=!0,e.flags&=-129),g=(e.flags&32)!==0,e.flags&=-33,t===null){if(Pt){if(o?Hi(e):Gi(),Pt){var y=ve,N;if(N=y){t:{for(N=y,y=$n;N.nodeType!==8;){if(!y){y=null;break t}if(N=jn(N.nextSibling),N===null){y=null;break t}}y=N}y!==null?(e.memoizedState={dehydrated:y,treeContext:xs!==null?{id:pi,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},N=dn(18,null,null,0),N.stateNode=y,N.return=e,e.child=N,Je=e,ve=null,N=!0):N=!1}N||ws(e)}if(y=e.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return rh(y)?e.lanes=32:e.lanes=536870912,null;yi(e)}return y=a.children,a=a.fallback,o?(Gi(),o=e.mode,y=Ql({mode:"hidden",children:y},o),a=bs(a,o,i,null),y.return=e,a.return=e,y.sibling=a,e.child=y,o=e.child,o.memoizedState=bc(i),o.childLanes=xc(t,g,i),e.memoizedState=Sc,a):(Hi(e),Ac(e,y))}if(N=t.memoizedState,N!==null&&(y=N.dehydrated,y!==null)){if(f)e.flags&256?(Hi(e),e.flags&=-257,e=Ec(t,e,i)):e.memoizedState!==null?(Gi(),e.child=t.child,e.flags|=128,e=null):(Gi(),o=a.fallback,y=e.mode,a=Ql({mode:"visible",children:a.children},y),o=bs(o,y,i,null),o.flags|=2,a.return=e,o.return=e,a.sibling=o,e.child=a,ha(e,t.child,null,i),a=e.child,a.memoizedState=bc(i),a.childLanes=xc(t,g,i),e.memoizedState=Sc,e=o);else if(Hi(e),rh(y)){if(g=y.nextSibling&&y.nextSibling.dataset,g)var B=g.dgst;g=B,a=Error(r(419)),a.stack="",a.digest=g,lr({value:a,source:null,stack:null}),e=Ec(t,e,i)}else if(Ue||or(t,e,i,!1),g=(i&t.childLanes)!==0,Ue||g){if(g=re,g!==null&&(a=i&-i,a=(a&42)!==0?1:Za(a),a=(a&(g.suspendedLanes|i))!==0?0:a,a!==0&&a!==N.retryLane))throw N.retryLane=a,ta(t,a),_n(g,t,a),yp;y.data==="$?"||Gc(),e=Ec(t,e,i)}else y.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=N.treeContext,ve=jn(y.nextSibling),Je=e,Pt=!0,Es=null,$n=!1,t!==null&&(Cn[Dn++]=pi,Cn[Dn++]=mi,Cn[Dn++]=xs,pi=t.id,mi=t.overflow,xs=e),e=Ac(e,a.children),e.flags|=4096);return e}return o?(Gi(),o=a.fallback,y=e.mode,N=t.child,B=N.sibling,a=di(N,{mode:"hidden",children:a.children}),a.subtreeFlags=N.subtreeFlags&65011712,B!==null?o=di(B,o):(o=bs(o,y,i,null),o.flags|=2),o.return=e,a.return=e,a.sibling=o,e.child=a,a=o,o=e.child,y=t.child.memoizedState,y===null?y=bc(i):(N=y.cachePool,N!==null?(B=De._currentValue,N=N.parent!==B?{parent:B,pool:B}:N):N=pd(),y={baseLanes:y.baseLanes|i,cachePool:N}),o.memoizedState=y,o.childLanes=xc(t,g,i),e.memoizedState=Sc,a):(Hi(e),i=t.child,t=i.sibling,i=di(i,{mode:"visible",children:a.children}),i.return=e,i.sibling=null,t!==null&&(g=e.deletions,g===null?(e.deletions=[t],e.flags|=16):g.push(t)),e.child=i,e.memoizedState=null,i)}function Ac(t,e){return e=Ql({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ql(t,e){return t=dn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ec(t,e,i){return ha(e,t.child,null,i),t=Ac(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Cp(t,e,i){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),Gu(t.return,e,i)}function wc(t,e,i,a,o){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:o}:(f.isBackwards=e,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=i,f.tailMode=o)}function Dp(t,e,i){var a=e.pendingProps,o=a.revealOrder,f=a.tail;if(je(t,e,a.children,i),a=Re.current,(a&2)!==0)a=a&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cp(t,i,e);else if(t.tag===19)Cp(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}switch(it(Re,a),o){case"forwards":for(i=e.child,o=null;i!==null;)t=i.alternate,t!==null&&Yl(t)===null&&(o=i),i=i.sibling;i=o,i===null?(o=e.child,e.child=null):(o=i.sibling,i.sibling=null),wc(e,!1,o,i,f);break;case"backwards":for(i=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Yl(t)===null){e.child=o;break}t=o.sibling,o.sibling=i,i=o,o=t}wc(e,!0,i,null,f);break;case"together":wc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ti(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),Qi|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(or(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,i=di(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=di(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Nc(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Ol(t)))}function Xv(t,e,i){switch(e.tag){case 3:ut(e,e.stateNode.containerInfo),Bi(e,De,t.memoizedState.cache),rr();break;case 27:case 5:oe(e);break;case 4:ut(e,e.stateNode.containerInfo);break;case 10:Bi(e,e.type,e.memoizedProps.value);break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(Hi(e),e.flags|=128,null):(i&e.child.childLanes)!==0?Op(t,e,i):(Hi(e),t=Ti(t,e,i),t!==null?t.sibling:null);Hi(e);break;case 19:var o=(t.flags&128)!==0;if(a=(i&e.childLanes)!==0,a||(or(t,e,i,!1),a=(i&e.childLanes)!==0),o){if(a)return Dp(t,e,i);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),it(Re,Re.current),a)break;return null;case 22:case 23:return e.lanes=0,xp(t,e,i);case 24:Bi(e,De,t.memoizedState.cache)}return Ti(t,e,i)}function Rp(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ue=!0;else{if(!Nc(t,i)&&(e.flags&128)===0)return Ue=!1,Xv(t,e,i);Ue=(t.flags&131072)!==0}else Ue=!1,Pt&&(e.flags&1048576)!==0&&ld(e,Nl,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var a=e.elementType,o=a._init;if(a=o(a._payload),e.type=a,typeof a=="function")Vu(a)?(t=Rs(a,t),e.tag=1,e=wp(null,e,a,t,i)):(e.tag=0,e=Tc(null,e,a,t,i));else{if(a!=null){if(o=a.$$typeof,o===K){e.tag=11,e=Tp(null,e,a,t,i);break t}else if(o===Y){e.tag=14,e=Sp(null,e,a,t,i);break t}}throw e=ht(a)||a,Error(r(306,e,""))}}return e;case 0:return Tc(t,e,e.type,e.pendingProps,i);case 1:return a=e.type,o=Rs(a,e.pendingProps),wp(t,e,a,o,i);case 3:t:{if(ut(e,e.stateNode.containerInfo),t===null)throw Error(r(387));a=e.pendingProps;var f=e.memoizedState;o=f.element,Wu(t,e),mr(e,a,null,i);var g=e.memoizedState;if(a=g.cache,Bi(e,De,a),a!==f.cache&&Yu(e,[De],i,!0),pr(),a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache},e.updateQueue.baseState=f,e.memoizedState=f,e.flags&256){e=Np(t,e,a,i);break t}else if(a!==o){o=Nn(Error(r(424)),e),lr(o),e=Np(t,e,a,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ve=jn(t.firstChild),Je=e,Pt=!0,Es=null,$n=!0,i=up(e,null,a,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(rr(),a===o){e=Ti(t,e,i);break t}je(t,e,a,i)}e=e.child}return e;case 26:return Zl(t,e),t===null?(i=zm(e.type,null,e.pendingProps,null))?e.memoizedState=i:Pt||(i=e.type,t=e.pendingProps,a=oo(mt.current).createElement(i),a[ke]=e,a[Xe]=t,He(a,i,t),ge(a),e.stateNode=a):e.memoizedState=zm(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return oe(e),t===null&&Pt&&(a=e.stateNode=Mm(e.type,e.pendingProps,mt.current),Je=e,$n=!0,o=ve,Ji(e.type)?(lh=o,ve=jn(a.firstChild)):ve=o),je(t,e,e.pendingProps.children,i),Zl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Pt&&((o=a=ve)&&(a=T_(a,e.type,e.pendingProps,$n),a!==null?(e.stateNode=a,Je=e,ve=jn(a.firstChild),$n=!1,o=!0):o=!1),o||ws(e)),oe(e),o=e.type,f=e.pendingProps,g=t!==null?t.memoizedProps:null,a=f.children,ih(o,f)?a=null:g!==null&&ih(o,g)&&(e.flags|=32),e.memoizedState!==null&&(o=nc(t,e,Lv,null,null,i),Br._currentValue=o),Zl(t,e),je(t,e,a,i),e.child;case 6:return t===null&&Pt&&((t=i=ve)&&(i=S_(i,e.pendingProps,$n),i!==null?(e.stateNode=i,Je=e,ve=null,t=!0):t=!1),t||ws(e)),null;case 13:return Op(t,e,i);case 4:return ut(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=ha(e,null,a,i):je(t,e,a,i),e.child;case 11:return Tp(t,e,e.type,e.pendingProps,i);case 7:return je(t,e,e.pendingProps,i),e.child;case 8:return je(t,e,e.pendingProps.children,i),e.child;case 12:return je(t,e,e.pendingProps.children,i),e.child;case 10:return a=e.pendingProps,Bi(e,e.type,a.value),je(t,e,a.children,i),e.child;case 9:return o=e.type._context,a=e.pendingProps.children,Os(e),o=Ze(o),a=a(o),e.flags|=1,je(t,e,a,i),e.child;case 14:return Sp(t,e,e.type,e.pendingProps,i);case 15:return bp(t,e,e.type,e.pendingProps,i);case 19:return Dp(t,e,i);case 31:return a=e.pendingProps,i=e.mode,a={mode:a.mode,children:a.children},t===null?(i=Ql(a,i),i.ref=e.ref,e.child=i,i.return=e,e=i):(i=di(t.child,a),i.ref=e.ref,e.child=i,i.return=e,e=i),e;case 22:return xp(t,e,i);case 24:return Os(e),a=Ze(De),t===null?(o=Zu(),o===null&&(o=re,f=Fu(),o.pooledCache=f,f.refCount++,f!==null&&(o.pooledCacheLanes|=i),o=f),e.memoizedState={parent:a,cache:o},Pu(e),Bi(e,De,o)):((t.lanes&i)!==0&&(Wu(t,e),mr(e,null,null,i),pr()),o=t.memoizedState,f=e.memoizedState,o.parent!==a?(o={parent:a,cache:a},e.memoizedState=o,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=o),Bi(e,De,a)):(a=f.cache,Bi(e,De,a),a!==o.cache&&Yu(e,[De],i,!0))),je(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function Si(t){t.flags|=4}function Mp(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!jm(e)){if(e=Rn.current,e!==null&&((Gt&4194048)===Gt?ti!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||e!==ti))throw fr=Qu,md;t.flags|=8192}}function Pl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Fa():536870912,t.lanes|=e,ma|=e)}function br(t,e){if(!Pt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,a=0;if(e)for(var o=t.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags&65011712,a|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=a,t.childLanes=i,e}function Zv(t,e,i){var a=e.pendingProps;switch(ju(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(e),null;case 1:return pe(e),null;case 3:return i=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),vi(De),Zt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(ar(e)?Si(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,cd())),pe(e),null;case 26:return i=e.memoizedState,t===null?(Si(e),i!==null?(pe(e),Mp(e,i)):(pe(e),e.flags&=-16777217)):i?i!==t.memoizedState?(Si(e),pe(e),Mp(e,i)):(pe(e),e.flags&=-16777217):(t.memoizedProps!==a&&Si(e),pe(e),e.flags&=-16777217),null;case 27:Ye(e),i=mt.current;var o=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Si(e);else{if(!a){if(e.stateNode===null)throw Error(r(166));return pe(e),null}t=at.current,ar(e)?od(e):(t=Mm(o,a,i),e.stateNode=t,Si(e))}return pe(e),null;case 5:if(Ye(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Si(e);else{if(!a){if(e.stateNode===null)throw Error(r(166));return pe(e),null}if(t=at.current,ar(e))od(e);else{switch(o=oo(mt.current),t){case 1:t=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof a.is=="string"?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?t.multiple=!0:a.size&&(t.size=a.size);break;default:t=typeof a.is=="string"?o.createElement(i,{is:a.is}):o.createElement(i)}}t[ke]=e,t[Xe]=a;t:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break t;for(;o.sibling===null;){if(o.return===null||o.return===e)break t;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=t;t:switch(He(t,i,a),i){case"button":case"input":case"select":case"textarea":t=!!a.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Si(e)}}return pe(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&Si(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(r(166));if(t=mt.current,ar(e)){if(t=e.stateNode,i=e.memoizedProps,a=null,o=Je,o!==null)switch(o.tag){case 27:case 5:a=o.memoizedProps}t[ke]=e,t=!!(t.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||Em(t.nodeValue,i)),t||ws(e)}else t=oo(t).createTextNode(a),t[ke]=e,e.stateNode=t}return pe(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=ar(e),a!==null&&a.dehydrated!==null){if(t===null){if(!o)throw Error(r(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[ke]=e}else rr(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;pe(e),o=!1}else o=cd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return e.flags&256?(yi(e),e):(yi(e),null)}if(yi(e),(e.flags&128)!==0)return e.lanes=i,e;if(i=a!==null,t=t!==null&&t.memoizedState!==null,i){a=e.child,o=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(o=a.alternate.memoizedState.cachePool.pool);var f=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==o&&(a.flags|=2048)}return i!==t&&i&&(e.child.flags|=8192),Pl(e,e.updateQueue),pe(e),null;case 4:return Zt(),t===null&&Jc(e.stateNode.containerInfo),pe(e),null;case 10:return vi(e.type),pe(e),null;case 19:if(W(Re),o=e.memoizedState,o===null)return pe(e),null;if(a=(e.flags&128)!==0,f=o.rendering,f===null)if(a)br(o,!1);else{if(_e!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(f=Yl(t),f!==null){for(e.flags|=128,br(o,!1),t=f.updateQueue,e.updateQueue=t,Pl(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)rd(i,t),i=i.sibling;return it(Re,Re.current&1|2),e.child}t=t.sibling}o.tail!==null&&ot()>Jl&&(e.flags|=128,a=!0,br(o,!1),e.lanes=4194304)}else{if(!a)if(t=Yl(f),t!==null){if(e.flags|=128,a=!0,t=t.updateQueue,e.updateQueue=t,Pl(e,t),br(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pt)return pe(e),null}else 2*ot()-o.renderingStartTime>Jl&&i!==536870912&&(e.flags|=128,a=!0,br(o,!1),e.lanes=4194304);o.isBackwards?(f.sibling=e.child,e.child=f):(t=o.last,t!==null?t.sibling=f:e.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ot(),e.sibling=null,t=Re.current,it(Re,a?t&1|2:t&1),e):(pe(e),null);case 22:case 23:return yi(e),tc(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(i&536870912)!==0&&(e.flags&128)===0&&(pe(e),e.subtreeFlags&6&&(e.flags|=8192)):pe(e),i=e.updateQueue,i!==null&&Pl(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==i&&(e.flags|=2048),t!==null&&W(Cs),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),vi(De),pe(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function Qv(t,e){switch(ju(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vi(De),Zt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ye(e),null;case 13:if(yi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));rr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return W(Re),null;case 4:return Zt(),null;case 10:return vi(e.type),null;case 22:case 23:return yi(e),tc(),t!==null&&W(Cs),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return vi(De),null;case 25:return null;default:return null}}function kp(t,e){switch(ju(e),e.tag){case 3:vi(De),Zt();break;case 26:case 27:case 5:Ye(e);break;case 4:Zt();break;case 13:yi(e);break;case 19:W(Re);break;case 10:vi(e.type);break;case 22:case 23:yi(e),tc(),t!==null&&W(Cs);break;case 24:vi(De)}}function xr(t,e){try{var i=e.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var o=a.next;i=o;do{if((i.tag&t)===t){a=void 0;var f=i.create,g=i.inst;a=f(),g.destroy=a}i=i.next}while(i!==o)}}catch(y){ae(e,e.return,y)}}function Yi(t,e,i){try{var a=e.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&t)===t){var g=a.inst,y=g.destroy;if(y!==void 0){g.destroy=void 0,o=e;var N=i,B=y;try{B()}catch(P){ae(o,N,P)}}}a=a.next}while(a!==f)}}catch(P){ae(e,e.return,P)}}function Up(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{Sd(e,i)}catch(a){ae(t,t.return,a)}}}function zp(t,e,i){i.props=Rs(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(a){ae(t,e,a)}}function Ar(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof i=="function"?t.refCleanup=i(a):i.current=a}}catch(o){ae(t,e,o)}}function ei(t,e){var i=t.ref,a=t.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(o){ae(t,e,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){ae(t,e,o)}else i.current=null}function Vp(t){var e=t.type,i=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break t;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(o){ae(t,t.return,o)}}function Oc(t,e,i){try{var a=t.stateNode;m_(a,t.type,i,e),a[Xe]=e}catch(o){ae(t,t.return,o)}}function Bp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ji(t.type)||t.tag===4}function Cc(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Bp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ji(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dc(t,e,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=lo));else if(a!==4&&(a===27&&Ji(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(Dc(t,e,i),t=t.sibling;t!==null;)Dc(t,e,i),t=t.sibling}function Wl(t,e,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(a!==4&&(a===27&&Ji(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Wl(t,e,i),t=t.sibling;t!==null;)Wl(t,e,i),t=t.sibling}function Lp(t){var e=t.stateNode,i=t.memoizedProps;try{for(var a=t.type,o=e.attributes;o.length;)e.removeAttributeNode(o[0]);He(e,a,i),e[ke]=t,e[Xe]=i}catch(f){ae(t,t.return,f)}}var bi=!1,be=!1,Rc=!1,qp=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Pv(t,e){if(t=t.containerInfo,eh=mo,t=Wf(t),Cu(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var o=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break t}var g=0,y=-1,N=-1,B=0,P=0,$=t,I=null;e:for(;;){for(var G;$!==i||o!==0&&$.nodeType!==3||(y=g+o),$!==f||a!==0&&$.nodeType!==3||(N=g+a),$.nodeType===3&&(g+=$.nodeValue.length),(G=$.firstChild)!==null;)I=$,$=G;for(;;){if($===t)break e;if(I===i&&++B===o&&(y=g),I===f&&++P===a&&(N=g),(G=$.nextSibling)!==null)break;$=I,I=$.parentNode}$=G}i=y===-1||N===-1?null:{start:y,end:N}}else i=null}i=i||{start:0,end:0}}else i=null;for(nh={focusedElem:t,selectionRange:i},mo=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){switch(e=ze,f=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=e,o=f.memoizedProps,f=f.memoizedState,a=i.stateNode;try{var Ot=Rs(i.type,o,i.elementType===i.type);t=a.getSnapshotBeforeUpdate(Ot,f),a.__reactInternalSnapshotBeforeUpdate=t}catch(Et){ae(i,i.return,Et)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)ah(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ah(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}}function jp(t,e,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:Fi(t,i),a&4&&xr(5,i);break;case 1:if(Fi(t,i),a&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(g){ae(i,i.return,g)}else{var o=Rs(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(o,e,t.__reactInternalSnapshotBeforeUpdate)}catch(g){ae(i,i.return,g)}}a&64&&Up(i),a&512&&Ar(i,i.return);break;case 3:if(Fi(t,i),a&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{Sd(t,e)}catch(g){ae(i,i.return,g)}}break;case 27:e===null&&a&4&&Lp(i);case 26:case 5:Fi(t,i),e===null&&a&4&&Vp(i),a&512&&Ar(i,i.return);break;case 12:Fi(t,i);break;case 13:Fi(t,i),a&4&&Gp(t,i),a&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=s_.bind(null,i),b_(t,i))));break;case 22:if(a=i.memoizedState!==null||bi,!a){e=e!==null&&e.memoizedState!==null||be,o=bi;var f=be;bi=a,(be=e)&&!f?Xi(t,i,(i.subtreeFlags&8772)!==0):Fi(t,i),bi=o,be=f}break;case 30:break;default:Fi(t,i)}}function Ip(t){var e=t.alternate;e!==null&&(t.alternate=null,Ip(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Fs(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var he=null,an=!1;function xi(t,e,i){for(i=i.child;i!==null;)Hp(t,e,i),i=i.sibling}function Hp(t,e,i){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(ue,i)}catch{}switch(i.tag){case 26:be||ei(i,e),xi(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:be||ei(i,e);var a=he,o=an;Ji(i.type)&&(he=i.stateNode,an=!1),xi(t,e,i),kr(i.stateNode),he=a,an=o;break;case 5:be||ei(i,e);case 6:if(a=he,o=an,he=null,xi(t,e,i),he=a,an=o,he!==null)if(an)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(i.stateNode)}catch(f){ae(i,e,f)}else try{he.removeChild(i.stateNode)}catch(f){ae(i,e,f)}break;case 18:he!==null&&(an?(t=he,Dm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Ir(t)):Dm(he,i.stateNode));break;case 4:a=he,o=an,he=i.stateNode.containerInfo,an=!0,xi(t,e,i),he=a,an=o;break;case 0:case 11:case 14:case 15:be||Yi(2,i,e),be||Yi(4,i,e),xi(t,e,i);break;case 1:be||(ei(i,e),a=i.stateNode,typeof a.componentWillUnmount=="function"&&zp(i,e,a)),xi(t,e,i);break;case 21:xi(t,e,i);break;case 22:be=(a=be)||i.memoizedState!==null,xi(t,e,i),be=a;break;default:xi(t,e,i)}}function Gp(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ir(t)}catch(i){ae(e,e.return,i)}}function Wv(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new qp),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new qp),e;default:throw Error(r(435,t.tag))}}function Mc(t,e){var i=Wv(t);e.forEach(function(a){var o=a_.bind(null,t,a);i.has(a)||(i.add(a),a.then(o,o))})}function pn(t,e){var i=e.deletions;if(i!==null)for(var a=0;a<i.length;a++){var o=i[a],f=t,g=e,y=g;t:for(;y!==null;){switch(y.tag){case 27:if(Ji(y.type)){he=y.stateNode,an=!1;break t}break;case 5:he=y.stateNode,an=!1;break t;case 3:case 4:he=y.stateNode.containerInfo,an=!0;break t}y=y.return}if(he===null)throw Error(r(160));Hp(f,g,o),he=null,an=!1,f=o.alternate,f!==null&&(f.return=null),o.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Yp(e,t),e=e.sibling}var qn=null;function Yp(t,e){var i=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(e,t),mn(t),a&4&&(Yi(3,t,t.return),xr(3,t),Yi(5,t,t.return));break;case 1:pn(e,t),mn(t),a&512&&(be||i===null||ei(i,i.return)),a&64&&bi&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var o=qn;if(pn(e,t),mn(t),a&512&&(be||i===null||ei(i,i.return)),a&4){var f=i!==null?i.memoizedState:null;if(a=t.memoizedState,i===null)if(a===null)if(t.stateNode===null){t:{a=t.type,i=t.memoizedProps,o=o.ownerDocument||o;e:switch(a){case"title":f=o.getElementsByTagName("title")[0],(!f||f[vs]||f[ke]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=o.createElement(a),o.head.insertBefore(f,o.querySelector("head > title"))),He(f,a,i),f[ke]=t,ge(f),a=f;break t;case"link":var g=Lm("link","href",o).get(a+(i.href||""));if(g){for(var y=0;y<g.length;y++)if(f=g[y],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(y,1);break e}}f=o.createElement(a),He(f,a,i),o.head.appendChild(f);break;case"meta":if(g=Lm("meta","content",o).get(a+(i.content||""))){for(y=0;y<g.length;y++)if(f=g[y],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(y,1);break e}}f=o.createElement(a),He(f,a,i),o.head.appendChild(f);break;default:throw Error(r(468,a))}f[ke]=t,ge(f),a=f}t.stateNode=a}else qm(o,t.type,t.stateNode);else t.stateNode=Bm(o,a,t.memoizedProps);else f!==a?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,a===null?qm(o,t.type,t.stateNode):Bm(o,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Oc(t,t.memoizedProps,i.memoizedProps)}break;case 27:pn(e,t),mn(t),a&512&&(be||i===null||ei(i,i.return)),i!==null&&a&4&&Oc(t,t.memoizedProps,i.memoizedProps);break;case 5:if(pn(e,t),mn(t),a&512&&(be||i===null||ei(i,i.return)),t.flags&32){o=t.stateNode;try{Zs(o,"")}catch(G){ae(t,t.return,G)}}a&4&&t.stateNode!=null&&(o=t.memoizedProps,Oc(t,o,i!==null?i.memoizedProps:o)),a&1024&&(Rc=!0);break;case 6:if(pn(e,t),mn(t),a&4){if(t.stateNode===null)throw Error(r(162));a=t.memoizedProps,i=t.stateNode;try{i.nodeValue=a}catch(G){ae(t,t.return,G)}}break;case 3:if(ho=null,o=qn,qn=uo(e.containerInfo),pn(e,t),qn=o,mn(t),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Ir(e.containerInfo)}catch(G){ae(t,t.return,G)}Rc&&(Rc=!1,Fp(t));break;case 4:a=qn,qn=uo(t.stateNode.containerInfo),pn(e,t),mn(t),qn=a;break;case 12:pn(e,t),mn(t);break;case 13:pn(e,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Lc=ot()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Mc(t,a)));break;case 22:o=t.memoizedState!==null;var N=i!==null&&i.memoizedState!==null,B=bi,P=be;if(bi=B||o,be=P||N,pn(e,t),be=P,bi=B,mn(t),a&8192)t:for(e=t.stateNode,e._visibility=o?e._visibility&-2:e._visibility|1,o&&(i===null||N||bi||be||Ms(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){N=i=e;try{if(f=N.stateNode,o)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{y=N.stateNode;var $=N.memoizedProps.style,I=$!=null&&$.hasOwnProperty("display")?$.display:null;y.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(G){ae(N,N.return,G)}}}else if(e.tag===6){if(i===null){N=e;try{N.stateNode.nodeValue=o?"":N.memoizedProps}catch(G){ae(N,N.return,G)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,Mc(t,i))));break;case 19:pn(e,t),mn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Mc(t,a)));break;case 30:break;case 21:break;default:pn(e,t),mn(t)}}function mn(t){var e=t.flags;if(e&2){try{for(var i,a=t.return;a!==null;){if(Bp(a)){i=a;break}a=a.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var o=i.stateNode,f=Cc(t);Wl(t,f,o);break;case 5:var g=i.stateNode;i.flags&32&&(Zs(g,""),i.flags&=-33);var y=Cc(t);Wl(t,y,g);break;case 3:case 4:var N=i.stateNode.containerInfo,B=Cc(t);Dc(t,B,N);break;default:throw Error(r(161))}}catch(P){ae(t,t.return,P)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Fp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Fp(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Fi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)jp(t,e.alternate,e),e=e.sibling}function Ms(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Yi(4,e,e.return),Ms(e);break;case 1:ei(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&zp(e,e.return,i),Ms(e);break;case 27:kr(e.stateNode);case 26:case 5:ei(e,e.return),Ms(e);break;case 22:e.memoizedState===null&&Ms(e);break;case 30:Ms(e);break;default:Ms(e)}t=t.sibling}}function Xi(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,o=t,f=e,g=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(o,f,i),xr(4,f);break;case 1:if(Xi(o,f,i),a=f,o=a.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(B){ae(a,a.return,B)}if(a=f,o=a.updateQueue,o!==null){var y=a.stateNode;try{var N=o.shared.hiddenCallbacks;if(N!==null)for(o.shared.hiddenCallbacks=null,o=0;o<N.length;o++)Td(N[o],y)}catch(B){ae(a,a.return,B)}}i&&g&64&&Up(f),Ar(f,f.return);break;case 27:Lp(f);case 26:case 5:Xi(o,f,i),i&&a===null&&g&4&&Vp(f),Ar(f,f.return);break;case 12:Xi(o,f,i);break;case 13:Xi(o,f,i),i&&g&4&&Gp(o,f);break;case 22:f.memoizedState===null&&Xi(o,f,i),Ar(f,f.return);break;case 30:break;default:Xi(o,f,i)}e=e.sibling}}function kc(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&ur(i))}function Uc(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ur(t))}function ni(t,e,i,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xp(t,e,i,a),e=e.sibling}function Xp(t,e,i,a){var o=e.flags;switch(e.tag){case 0:case 11:case 15:ni(t,e,i,a),o&2048&&xr(9,e);break;case 1:ni(t,e,i,a);break;case 3:ni(t,e,i,a),o&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ur(t)));break;case 12:if(o&2048){ni(t,e,i,a),t=e.stateNode;try{var f=e.memoizedProps,g=f.id,y=f.onPostCommit;typeof y=="function"&&y(g,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){ae(e,e.return,N)}}else ni(t,e,i,a);break;case 13:ni(t,e,i,a);break;case 23:break;case 22:f=e.stateNode,g=e.alternate,e.memoizedState!==null?f._visibility&2?ni(t,e,i,a):Er(t,e):f._visibility&2?ni(t,e,i,a):(f._visibility|=2,fa(t,e,i,a,(e.subtreeFlags&10256)!==0)),o&2048&&kc(g,e);break;case 24:ni(t,e,i,a),o&2048&&Uc(e.alternate,e);break;default:ni(t,e,i,a)}}function fa(t,e,i,a,o){for(o=o&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var f=t,g=e,y=i,N=a,B=g.flags;switch(g.tag){case 0:case 11:case 15:fa(f,g,y,N,o),xr(8,g);break;case 23:break;case 22:var P=g.stateNode;g.memoizedState!==null?P._visibility&2?fa(f,g,y,N,o):Er(f,g):(P._visibility|=2,fa(f,g,y,N,o)),o&&B&2048&&kc(g.alternate,g);break;case 24:fa(f,g,y,N,o),o&&B&2048&&Uc(g.alternate,g);break;default:fa(f,g,y,N,o)}e=e.sibling}}function Er(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,a=e,o=a.flags;switch(a.tag){case 22:Er(i,a),o&2048&&kc(a.alternate,a);break;case 24:Er(i,a),o&2048&&Uc(a.alternate,a);break;default:Er(i,a)}e=e.sibling}}var wr=8192;function da(t){if(t.subtreeFlags&wr)for(t=t.child;t!==null;)Zp(t),t=t.sibling}function Zp(t){switch(t.tag){case 26:da(t),t.flags&wr&&t.memoizedState!==null&&z_(qn,t.memoizedState,t.memoizedProps);break;case 5:da(t);break;case 3:case 4:var e=qn;qn=uo(t.stateNode.containerInfo),da(t),qn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=wr,wr=16777216,da(t),wr=e):da(t));break;default:da(t)}}function Qp(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Nr(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var a=e[i];ze=a,Wp(a,t)}Qp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pp(t),t=t.sibling}function Pp(t){switch(t.tag){case 0:case 11:case 15:Nr(t),t.flags&2048&&Yi(9,t,t.return);break;case 3:Nr(t);break;case 12:Nr(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Kl(t)):Nr(t);break;default:Nr(t)}}function Kl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var a=e[i];ze=a,Wp(a,t)}Qp(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Yi(8,e,e.return),Kl(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,Kl(e));break;default:Kl(e)}t=t.sibling}}function Wp(t,e){for(;ze!==null;){var i=ze;switch(i.tag){case 0:case 11:case 15:Yi(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ur(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,ze=a;else t:for(i=t;ze!==null;){a=ze;var o=a.sibling,f=a.return;if(Ip(a),a===i){ze=null;break t}if(o!==null){o.return=f,ze=o;break t}ze=f}}}var Kv={getCacheForType:function(t){var e=Ze(De),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i}},Jv=typeof WeakMap=="function"?WeakMap:Map,Kt=0,re=null,Lt=null,Gt=0,Jt=0,gn=null,Zi=!1,pa=!1,zc=!1,Ai=0,_e=0,Qi=0,ks=0,Vc=0,Mn=0,ma=0,Or=null,rn=null,Bc=!1,Lc=0,Jl=1/0,$l=null,Pi=null,Ie=0,Wi=null,ga=null,va=0,qc=0,jc=null,Kp=null,Cr=0,Ic=null;function vn(){if((Kt&2)!==0&&Gt!==0)return Gt&-Gt;if(R.T!==null){var t=sa;return t!==0?t:Qc()}return ul()}function Jp(){Mn===0&&(Mn=(Gt&536870912)===0||Pt?ll():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),Mn}function _n(t,e,i){(t===re&&(Jt===2||Jt===9)||t.cancelPendingCommit!==null)&&(_a(t,0),Ki(t,Gt,Mn,!1)),ki(t,i),((Kt&2)===0||t!==re)&&(t===re&&((Kt&2)===0&&(ks|=i),_e===4&&Ki(t,Gt,Mn,!1)),ii(t))}function $p(t,e,i){if((Kt&6)!==0)throw Error(r(327));var a=!i&&(e&124)===0&&(e&t.expiredLanes)===0||Wn(t,e),o=a?e_(t,e):Yc(t,e,!0),f=a;do{if(o===0){pa&&!a&&Ki(t,e,0,!1);break}else{if(i=t.current.alternate,f&&!$v(i)){o=Yc(t,e,!1),f=!1;continue}if(o===2){if(f=e,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){e=g;t:{var y=t;o=Or;var N=y.current.memoizedState.isDehydrated;if(N&&(_a(y,g).flags|=256),g=Yc(y,g,!1),g!==2){if(zc&&!N){y.errorRecoveryDisabledLanes|=f,ks|=f,o=4;break t}f=rn,rn=o,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}o=g}if(f=!1,o!==2)continue}}if(o===1){_a(t,0),Ki(t,e,0,!0);break}t:{switch(a=t,f=o,f){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:Ki(a,e,Mn,!Zi);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(o=Lc+300-ot(),10<o)){if(Ki(a,e,Mn,!Zi),xn(a,0,!0)!==0)break t;a.timeoutHandle=Om(tm.bind(null,a,i,rn,$l,Bc,e,Mn,ks,ma,Zi,f,2,-0,0),o);break t}tm(a,i,rn,$l,Bc,e,Mn,ks,ma,Zi,f,0,-0,0)}}break}while(!0);ii(t)}function tm(t,e,i,a,o,f,g,y,N,B,P,$,I,G){if(t.timeoutHandle=-1,$=e.subtreeFlags,($&8192||($&16785408)===16785408)&&(Vr={stylesheets:null,count:0,unsuspend:U_},Zp(e),$=V_(),$!==null)){t.cancelPendingCommit=$(lm.bind(null,t,e,f,i,a,o,g,y,N,P,1,I,G)),Ki(t,f,g,!B);return}lm(t,e,f,i,a,o,g,y,N)}function $v(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var o=i[a],f=o.getSnapshot;o=o.value;try{if(!fn(f(),o))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ki(t,e,i,a){e&=~Vc,e&=~ks,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var o=e;0<o;){var f=31-$t(o),g=1<<f;a[f]=-1,o&=~g}i!==0&&Xa(t,i,e)}function to(){return(Kt&6)===0?(Dr(0),!1):!0}function Hc(){if(Lt!==null){if(Jt===0)var t=Lt.return;else t=Lt,gi=Ns=null,ac(t),ca=null,Tr=0,t=Lt;for(;t!==null;)kp(t.alternate,t),t=t.return;Lt=null}}function _a(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,v_(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Hc(),re=t,Lt=i=di(t.current,null),Gt=e,Jt=0,gn=null,Zi=!1,pa=Wn(t,e),zc=!1,ma=Mn=Vc=ks=Qi=_e=0,rn=Or=null,Bc=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var o=31-$t(a),f=1<<o;e|=t[o],a&=~f}return Ai=e,bl(),i}function em(t,e){Vt=null,R.H=Il,e===hr||e===Rl?(e=_d(),Jt=3):e===md?(e=_d(),Jt=4):Jt=e===yp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,gn=e,Lt===null&&(_e=1,Xl(t,Nn(e,t.current)))}function nm(){var t=R.H;return R.H=Il,t===null?Il:t}function im(){var t=R.A;return R.A=Kv,t}function Gc(){_e=4,Zi||(Gt&4194048)!==Gt&&Rn.current!==null||(pa=!0),(Qi&134217727)===0&&(ks&134217727)===0||re===null||Ki(re,Gt,Mn,!1)}function Yc(t,e,i){var a=Kt;Kt|=2;var o=nm(),f=im();(re!==t||Gt!==e)&&($l=null,_a(t,e)),e=!1;var g=_e;t:do try{if(Jt!==0&&Lt!==null){var y=Lt,N=gn;switch(Jt){case 8:Hc(),g=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(e=!0);var B=Jt;if(Jt=0,gn=null,ya(t,y,N,B),i&&pa){g=0;break t}break;default:B=Jt,Jt=0,gn=null,ya(t,y,N,B)}}t_(),g=_e;break}catch(P){em(t,P)}while(!0);return e&&t.shellSuspendCounter++,gi=Ns=null,Kt=a,R.H=o,R.A=f,Lt===null&&(re=null,Gt=0,bl()),g}function t_(){for(;Lt!==null;)sm(Lt)}function e_(t,e){var i=Kt;Kt|=2;var a=nm(),o=im();re!==t||Gt!==e?($l=null,Jl=ot()+500,_a(t,e)):pa=Wn(t,e);t:do try{if(Jt!==0&&Lt!==null){e=Lt;var f=gn;e:switch(Jt){case 1:Jt=0,gn=null,ya(t,e,f,1);break;case 2:case 9:if(gd(f)){Jt=0,gn=null,am(e);break}e=function(){Jt!==2&&Jt!==9||re!==t||(Jt=7),ii(t)},f.then(e,e);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:gd(f)?(Jt=0,gn=null,am(e)):(Jt=0,gn=null,ya(t,e,f,7));break;case 5:var g=null;switch(Lt.tag){case 26:g=Lt.memoizedState;case 5:case 27:var y=Lt;if(!g||jm(g)){Jt=0,gn=null;var N=y.sibling;if(N!==null)Lt=N;else{var B=y.return;B!==null?(Lt=B,eo(B)):Lt=null}break e}}Jt=0,gn=null,ya(t,e,f,5);break;case 6:Jt=0,gn=null,ya(t,e,f,6);break;case 8:Hc(),_e=6;break t;default:throw Error(r(462))}}n_();break}catch(P){em(t,P)}while(!0);return gi=Ns=null,R.H=a,R.A=o,Kt=i,Lt!==null?0:(re=null,Gt=0,bl(),_e)}function n_(){for(;Lt!==null&&!pt();)sm(Lt)}function sm(t){var e=Rp(t.alternate,t,Ai);t.memoizedProps=t.pendingProps,e===null?eo(t):Lt=e}function am(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=Ep(i,e,e.pendingProps,e.type,void 0,Gt);break;case 11:e=Ep(i,e,e.pendingProps,e.type.render,e.ref,Gt);break;case 5:ac(e);default:kp(i,e),e=Lt=rd(e,Ai),e=Rp(i,e,Ai)}t.memoizedProps=t.pendingProps,e===null?eo(t):Lt=e}function ya(t,e,i,a){gi=Ns=null,ac(e),ca=null,Tr=0;var o=e.return;try{if(Fv(t,o,e,i,Gt)){_e=1,Xl(t,Nn(i,t.current)),Lt=null;return}}catch(f){if(o!==null)throw Lt=o,f;_e=1,Xl(t,Nn(i,t.current)),Lt=null;return}e.flags&32768?(Pt||a===1?t=!0:pa||(Gt&536870912)!==0?t=!1:(Zi=t=!0,(a===2||a===9||a===3||a===6)&&(a=Rn.current,a!==null&&a.tag===13&&(a.flags|=16384))),rm(e,t)):eo(e)}function eo(t){var e=t;do{if((e.flags&32768)!==0){rm(e,Zi);return}t=e.return;var i=Zv(e.alternate,e,Ai);if(i!==null){Lt=i;return}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);_e===0&&(_e=5)}function rm(t,e){do{var i=Qv(t.alternate,t);if(i!==null){i.flags&=32767,Lt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Lt=t;return}Lt=t=i}while(t!==null);_e=6,Lt=null}function lm(t,e,i,a,o,f,g,y,N){t.cancelPendingCommit=null;do no();while(Ie!==0);if((Kt&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(f=e.lanes|e.childLanes,f|=Uu,uu(t,i,f,g,y,N),t===re&&(Lt=re=null,Gt=0),ga=e,Wi=t,va=i,qc=f,jc=o,Kp=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,r_(yt,function(){return fm(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=R.T,R.T=null,o=F.p,F.p=2,g=Kt,Kt|=4;try{Pv(t,e,i)}finally{Kt=g,F.p=o,R.T=a}}Ie=1,om(),um(),cm()}}function om(){if(Ie===1){Ie=0;var t=Wi,e=ga,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=R.T,R.T=null;var a=F.p;F.p=2;var o=Kt;Kt|=4;try{Yp(e,t);var f=nh,g=Wf(t.containerInfo),y=f.focusedElem,N=f.selectionRange;if(g!==y&&y&&y.ownerDocument&&Pf(y.ownerDocument.documentElement,y)){if(N!==null&&Cu(y)){var B=N.start,P=N.end;if(P===void 0&&(P=B),"selectionStart"in y)y.selectionStart=B,y.selectionEnd=Math.min(P,y.value.length);else{var $=y.ownerDocument||document,I=$&&$.defaultView||window;if(I.getSelection){var G=I.getSelection(),Ot=y.textContent.length,Et=Math.min(N.start,Ot),ne=N.end===void 0?Et:Math.min(N.end,Ot);!G.extend&&Et>ne&&(g=ne,ne=Et,Et=g);var M=Qf(y,Et),D=Qf(y,ne);if(M&&D&&(G.rangeCount!==1||G.anchorNode!==M.node||G.anchorOffset!==M.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var z=$.createRange();z.setStart(M.node,M.offset),G.removeAllRanges(),Et>ne?(G.addRange(z),G.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),G.addRange(z))}}}}for($=[],G=y;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<$.length;y++){var J=$[y];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}mo=!!eh,nh=eh=null}finally{Kt=o,F.p=a,R.T=i}}t.current=e,Ie=2}}function um(){if(Ie===2){Ie=0;var t=Wi,e=ga,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=R.T,R.T=null;var a=F.p;F.p=2;var o=Kt;Kt|=4;try{jp(t,e.alternate,e)}finally{Kt=o,F.p=a,R.T=i}}Ie=3}}function cm(){if(Ie===4||Ie===3){Ie=0,At();var t=Wi,e=ga,i=va,a=Kp;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ie=5:(Ie=0,ga=Wi=null,hm(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(Pi=null),Qa(i),e=e.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(ue,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=R.T,o=F.p,F.p=2,R.T=null;try{for(var f=t.onRecoverableError,g=0;g<a.length;g++){var y=a[g];f(y.value,{componentStack:y.stack})}}finally{R.T=e,F.p=o}}(va&3)!==0&&no(),ii(t),o=t.pendingLanes,(i&4194090)!==0&&(o&42)!==0?t===Ic?Cr++:(Cr=0,Ic=t):Cr=0,Dr(0)}}function hm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ur(e)))}function no(t){return om(),um(),cm(),fm()}function fm(){if(Ie!==5)return!1;var t=Wi,e=qc;qc=0;var i=Qa(va),a=R.T,o=F.p;try{F.p=32>i?32:i,R.T=null,i=jc,jc=null;var f=Wi,g=va;if(Ie=0,ga=Wi=null,va=0,(Kt&6)!==0)throw Error(r(331));var y=Kt;if(Kt|=4,Pp(f.current),Xp(f,f.current,g,i),Kt=y,Dr(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(ue,f)}catch{}return!0}finally{F.p=o,R.T=a,hm(t,e)}}function dm(t,e,i){e=Nn(i,e),e=yc(t.stateNode,e,2),t=ji(t,e,2),t!==null&&(ki(t,2),ii(t))}function ae(t,e,i){if(t.tag===3)dm(t,t,i);else for(;e!==null;){if(e.tag===3){dm(e,t,i);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Pi===null||!Pi.has(a))){t=Nn(i,t),i=vp(2),a=ji(e,i,2),a!==null&&(_p(i,a,e,t),ki(a,2),ii(a));break}}e=e.return}}function Fc(t,e,i){var a=t.pingCache;if(a===null){a=t.pingCache=new Jv;var o=new Set;a.set(e,o)}else o=a.get(e),o===void 0&&(o=new Set,a.set(e,o));o.has(i)||(zc=!0,o.add(i),t=i_.bind(null,t,e,i),e.then(t,t))}function i_(t,e,i){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,re===t&&(Gt&i)===i&&(_e===4||_e===3&&(Gt&62914560)===Gt&&300>ot()-Lc?(Kt&2)===0&&_a(t,0):Vc|=i,ma===Gt&&(ma=0)),ii(t)}function pm(t,e){e===0&&(e=Fa()),t=ta(t,e),t!==null&&(ki(t,e),ii(t))}function s_(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),pm(t,i)}function a_(t,e){var i=0;switch(t.tag){case 13:var a=t.stateNode,o=t.memoizedState;o!==null&&(i=o.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(e),pm(t,i)}function r_(t,e){return qe(t,e)}var io=null,Ta=null,Xc=!1,so=!1,Zc=!1,Us=0;function ii(t){t!==Ta&&t.next===null&&(Ta===null?io=Ta=t:Ta=Ta.next=t),so=!0,Xc||(Xc=!0,o_())}function Dr(t,e){if(!Zc&&so){Zc=!0;do for(var i=!1,a=io;a!==null;){if(t!==0){var o=a.pendingLanes;if(o===0)var f=0;else{var g=a.suspendedLanes,y=a.pingedLanes;f=(1<<31-$t(42|t)+1)-1,f&=o&~(g&~y),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,_m(a,f))}else f=Gt,f=xn(a,a===re?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(f&3)===0||Wn(a,f)||(i=!0,_m(a,f));a=a.next}while(i);Zc=!1}}function l_(){mm()}function mm(){so=Xc=!1;var t=0;Us!==0&&(g_()&&(t=Us),Us=0);for(var e=ot(),i=null,a=io;a!==null;){var o=a.next,f=gm(a,e);f===0?(a.next=null,i===null?io=o:i.next=o,o===null&&(Ta=i)):(i=a,(t!==0||(f&3)!==0)&&(so=!0)),a=o}Dr(t)}function gm(t,e){for(var i=t.suspendedLanes,a=t.pingedLanes,o=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-$t(f),y=1<<g,N=o[g];N===-1?((y&i)===0||(y&a)!==0)&&(o[g]=ou(y,e)):N<=e&&(t.expiredLanes|=y),f&=~y}if(e=re,i=Gt,i=xn(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,i===0||t===e&&(Jt===2||Jt===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Vn(a),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Wn(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(a!==null&&Vn(a),Qa(i)){case 2:case 8:i=bt;break;case 32:i=yt;break;case 268435456:i=Rt;break;default:i=yt}return a=vm.bind(null,t),i=qe(i,a),t.callbackPriority=e,t.callbackNode=i,e}return a!==null&&a!==null&&Vn(a),t.callbackPriority=2,t.callbackNode=null,2}function vm(t,e){if(Ie!==0&&Ie!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(no()&&t.callbackNode!==i)return null;var a=Gt;return a=xn(t,t===re?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:($p(t,a,e),gm(t,ot()),t.callbackNode!=null&&t.callbackNode===i?vm.bind(null,t):null)}function _m(t,e){if(no())return null;$p(t,e,!0)}function o_(){__(function(){(Kt&6)!==0?qe(X,l_):mm()})}function Qc(){return Us===0&&(Us=ll()),Us}function ym(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ml(""+t)}function Tm(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function u_(t,e,i,a,o){if(e==="submit"&&i&&i.stateNode===o){var f=ym((o[Xe]||null).action),g=a.submitter;g&&(e=(e=g[Xe]||null)?ym(e.formAction):g.getAttribute("formAction"),e!==null&&(f=e,g=null));var y=new yl("action","action",null,a,o);t.push({event:y,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Us!==0){var N=g?Tm(o,g):new FormData(o);pc(i,{pending:!0,data:N,method:o.method,action:f},null,N)}}else typeof f=="function"&&(y.preventDefault(),N=g?Tm(o,g):new FormData(o),pc(i,{pending:!0,data:N,method:o.method,action:f},f,N))},currentTarget:o}]})}}for(var Pc=0;Pc<ku.length;Pc++){var Wc=ku[Pc],c_=Wc.toLowerCase(),h_=Wc[0].toUpperCase()+Wc.slice(1);Ln(c_,"on"+h_)}Ln($f,"onAnimationEnd"),Ln(td,"onAnimationIteration"),Ln(ed,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Ov,"onTransitionRun"),Ln(Cv,"onTransitionStart"),Ln(Dv,"onTransitionCancel"),Ln(nd,"onTransitionEnd"),Bn("onMouseEnter",["mouseout","mouseover"]),Bn("onMouseLeave",["mouseout","mouseover"]),Bn("onPointerEnter",["pointerout","pointerover"]),Bn("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rr));function Sm(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var a=t[i],o=a.event;a=a.listeners;t:{var f=void 0;if(e)for(var g=a.length-1;0<=g;g--){var y=a[g],N=y.instance,B=y.currentTarget;if(y=y.listener,N!==f&&o.isPropagationStopped())break t;f=y,o.currentTarget=B;try{f(o)}catch(P){Fl(P)}o.currentTarget=null,f=N}else for(g=0;g<a.length;g++){if(y=a[g],N=y.instance,B=y.currentTarget,y=y.listener,N!==f&&o.isPropagationStopped())break t;f=y,o.currentTarget=B;try{f(o)}catch(P){Fl(P)}o.currentTarget=null,f=N}}}}function qt(t,e){var i=e[Pa];i===void 0&&(i=e[Pa]=new Set);var a=t+"__bubble";i.has(a)||(bm(e,t,2,!1),i.add(a))}function Kc(t,e,i){var a=0;e&&(a|=4),bm(i,t,a,e)}var ao="_reactListening"+Math.random().toString(36).slice(2);function Jc(t){if(!t[ao]){t[ao]=!0,cl.forEach(function(i){i!=="selectionchange"&&(f_.has(i)||Kc(i,!1,t),Kc(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ao]||(e[ao]=!0,Kc("selectionchange",!1,e))}}function bm(t,e,i,a){switch(Xm(e)){case 2:var o=q_;break;case 8:o=j_;break;default:o=fh}i=o.bind(null,e,i,t),o=void 0,!Tu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),a?o!==void 0?t.addEventListener(e,i,{capture:!0,passive:o}):t.addEventListener(e,i,!0):o!==void 0?t.addEventListener(e,i,{passive:o}):t.addEventListener(e,i,!1)}function $c(t,e,i,a,o){var f=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var y=a.stateNode.containerInfo;if(y===o)break;if(g===4)for(g=a.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===o)return;g=g.return}for(;y!==null;){if(g=ui(y),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){a=f=g;continue t}y=y.parentNode}}a=a.return}Cf(function(){var B=f,P=_u(i),$=[];t:{var I=id.get(t);if(I!==void 0){var G=yl,Ot=t;switch(t){case"keypress":if(vl(i)===0)break t;case"keydown":case"keyup":G=rv;break;case"focusin":Ot="focus",G=Au;break;case"focusout":Ot="blur",G=Au;break;case"beforeblur":case"afterblur":G=Au;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Mf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=uv;break;case $f:case td:case ed:G=K0;break;case nd:G=hv;break;case"scroll":case"scrollend":G=X0;break;case"wheel":G=dv;break;case"copy":case"cut":case"paste":G=$0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Uf;break;case"toggle":case"beforetoggle":G=mv}var Et=(e&4)!==0,ne=!Et&&(t==="scroll"||t==="scrollend"),M=Et?I!==null?I+"Capture":null:I;Et=[];for(var D=B,z;D!==null;){var J=D;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||M===null||(J=Wa(D,M),J!=null&&Et.push(Mr(D,J,z))),ne)break;D=D.return}0<Et.length&&(I=new G(I,Ot,null,i,P),$.push({event:I,listeners:Et}))}}if((e&7)===0){t:{if(I=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",I&&i!==vu&&(Ot=i.relatedTarget||i.fromElement)&&(ui(Ot)||Ot[Ui]))break t;if((G||I)&&(I=P.window===P?P:(I=P.ownerDocument)?I.defaultView||I.parentWindow:window,G?(Ot=i.relatedTarget||i.toElement,G=B,Ot=Ot?ui(Ot):null,Ot!==null&&(ne=h(Ot),Et=Ot.tag,Ot!==ne||Et!==5&&Et!==27&&Et!==6)&&(Ot=null)):(G=null,Ot=B),G!==Ot)){if(Et=Mf,J="onMouseLeave",M="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(Et=Uf,J="onPointerLeave",M="onPointerEnter",D="pointer"),ne=G==null?I:_s(G),z=Ot==null?I:_s(Ot),I=new Et(J,D+"leave",G,i,P),I.target=ne,I.relatedTarget=z,J=null,ui(P)===B&&(Et=new Et(M,D+"enter",Ot,i,P),Et.target=z,Et.relatedTarget=ne,J=Et),ne=J,G&&Ot)e:{for(Et=G,M=Ot,D=0,z=Et;z;z=Sa(z))D++;for(z=0,J=M;J;J=Sa(J))z++;for(;0<D-z;)Et=Sa(Et),D--;for(;0<z-D;)M=Sa(M),z--;for(;D--;){if(Et===M||M!==null&&Et===M.alternate)break e;Et=Sa(Et),M=Sa(M)}Et=null}else Et=null;G!==null&&xm($,I,G,Et,!1),Ot!==null&&ne!==null&&xm($,ne,Ot,Et,!0)}}t:{if(I=B?_s(B):window,G=I.nodeName&&I.nodeName.toLowerCase(),G==="select"||G==="input"&&I.type==="file")var St=Hf;else if(jf(I))if(Gf)St=Ev;else{St=xv;var Bt=bv}else G=I.nodeName,!G||G.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?B&&gu(B.elementType)&&(St=Hf):St=Av;if(St&&(St=St(t,B))){If($,St,i,P);break t}Bt&&Bt(t,I,B),t==="focusout"&&B&&I.type==="number"&&B.memoizedProps.value!=null&&mu(I,"number",I.value)}switch(Bt=B?_s(B):window,t){case"focusin":(jf(Bt)||Bt.contentEditable==="true")&&(Ks=Bt,Du=B,sr=null);break;case"focusout":sr=Du=Ks=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,Kf($,i,P);break;case"selectionchange":if(Nv)break;case"keydown":case"keyup":Kf($,i,P)}var xt;if(wu)t:{switch(t){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else Ws?Lf(t,i)&&(wt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(wt="onCompositionStart");wt&&(zf&&i.locale!=="ko"&&(Ws||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Ws&&(xt=Df()):(Vi=P,Su="value"in Vi?Vi.value:Vi.textContent,Ws=!0)),Bt=ro(B,wt),0<Bt.length&&(wt=new kf(wt,t,null,i,P),$.push({event:wt,listeners:Bt}),xt?wt.data=xt:(xt=qf(i),xt!==null&&(wt.data=xt)))),(xt=vv?_v(t,i):yv(t,i))&&(wt=ro(B,"onBeforeInput"),0<wt.length&&(Bt=new kf("onBeforeInput","beforeinput",null,i,P),$.push({event:Bt,listeners:wt}),Bt.data=xt)),u_($,t,B,i,P)}Sm($,e)})}function Mr(t,e,i){return{instance:t,listener:e,currentTarget:i}}function ro(t,e){for(var i=e+"Capture",a=[];t!==null;){var o=t,f=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||f===null||(o=Wa(t,i),o!=null&&a.unshift(Mr(t,o,f)),o=Wa(t,e),o!=null&&a.push(Mr(t,o,f))),t.tag===3)return a;t=t.return}return[]}function Sa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xm(t,e,i,a,o){for(var f=e._reactName,g=[];i!==null&&i!==a;){var y=i,N=y.alternate,B=y.stateNode;if(y=y.tag,N!==null&&N===a)break;y!==5&&y!==26&&y!==27||B===null||(N=B,o?(B=Wa(i,f),B!=null&&g.unshift(Mr(i,B,N))):o||(B=Wa(i,f),B!=null&&g.push(Mr(i,B,N)))),i=i.return}g.length!==0&&t.push({event:e,listeners:g})}var d_=/\r\n?/g,p_=/\u0000|\uFFFD/g;function Am(t){return(typeof t=="string"?t:""+t).replace(d_,`
`).replace(p_,"")}function Em(t,e){return e=Am(e),Am(t)===e}function lo(){}function ee(t,e,i,a,o,f){switch(i){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||Zs(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&Zs(t,""+a);break;case"className":U(t,"class",a);break;case"tabIndex":U(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":U(t,i,a);break;case"style":Nf(t,a,f);break;case"data":if(e!=="object"){U(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(i);break}a=ml(""+a),t.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(e!=="input"&&ee(t,e,"name",o.name,o,null),ee(t,e,"formEncType",o.formEncType,o,null),ee(t,e,"formMethod",o.formMethod,o,null),ee(t,e,"formTarget",o.formTarget,o,null)):(ee(t,e,"encType",o.encType,o,null),ee(t,e,"method",o.method,o,null),ee(t,e,"target",o.target,o,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(i);break}a=ml(""+a),t.setAttribute(i,a);break;case"onClick":a!=null&&(t.onclick=lo);break;case"onScroll":a!=null&&qt("scroll",t);break;case"onScrollEnd":a!=null&&qt("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(o.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}i=ml(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(i,""+a):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":a===!0?t.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(i,a):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(i,a):t.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(i):t.setAttribute(i,a);break;case"popover":qt("beforetoggle",t),qt("toggle",t),L(t,"popover",a);break;case"xlinkActuate":et(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":et(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":et(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":et(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":et(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":et(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":et(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":et(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":et(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":L(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Y0.get(i)||i,L(t,i,a))}}function th(t,e,i,a,o,f){switch(i){case"style":Nf(t,a,f);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(o.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"children":typeof a=="string"?Zs(t,a):(typeof a=="number"||typeof a=="bigint")&&Zs(t,""+a);break;case"onScroll":a!=null&&qt("scroll",t);break;case"onScrollEnd":a!=null&&qt("scrollend",t);break;case"onClick":a!=null&&(t.onclick=lo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hl.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),e=i.slice(2,o?i.length-7:void 0),f=t[Xe]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(e,f,o),typeof a=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,a,o);break t}i in t?t[i]=a:a===!0?t.setAttribute(i,""):L(t,i,a)}}}function He(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",t),qt("load",t);var a=!1,o=!1,f;for(f in i)if(i.hasOwnProperty(f)){var g=i[f];if(g!=null)switch(f){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:ee(t,e,f,g,i,null)}}o&&ee(t,e,"srcSet",i.srcSet,i,null),a&&ee(t,e,"src",i.src,i,null);return;case"input":qt("invalid",t);var y=f=g=o=null,N=null,B=null;for(a in i)if(i.hasOwnProperty(a)){var P=i[a];if(P!=null)switch(a){case"name":o=P;break;case"type":g=P;break;case"checked":N=P;break;case"defaultChecked":B=P;break;case"value":f=P;break;case"defaultValue":y=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,e));break;default:ee(t,e,a,P,i,null)}}xf(t,f,y,N,B,g,o,!1),dl(t);return;case"select":qt("invalid",t),a=g=f=null;for(o in i)if(i.hasOwnProperty(o)&&(y=i[o],y!=null))switch(o){case"value":f=y;break;case"defaultValue":g=y;break;case"multiple":a=y;default:ee(t,e,o,y,i,null)}e=f,i=g,t.multiple=!!a,e!=null?Xs(t,!!a,e,!1):i!=null&&Xs(t,!!a,i,!0);return;case"textarea":qt("invalid",t),f=o=a=null;for(g in i)if(i.hasOwnProperty(g)&&(y=i[g],y!=null))switch(g){case"value":a=y;break;case"defaultValue":o=y;break;case"children":f=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:ee(t,e,g,y,i,null)}Ef(t,a,o,f),dl(t);return;case"option":for(N in i)if(i.hasOwnProperty(N)&&(a=i[N],a!=null))switch(N){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ee(t,e,N,a,i,null)}return;case"dialog":qt("beforetoggle",t),qt("toggle",t),qt("cancel",t),qt("close",t);break;case"iframe":case"object":qt("load",t);break;case"video":case"audio":for(a=0;a<Rr.length;a++)qt(Rr[a],t);break;case"image":qt("error",t),qt("load",t);break;case"details":qt("toggle",t);break;case"embed":case"source":case"link":qt("error",t),qt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in i)if(i.hasOwnProperty(B)&&(a=i[B],a!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:ee(t,e,B,a,i,null)}return;default:if(gu(e)){for(P in i)i.hasOwnProperty(P)&&(a=i[P],a!==void 0&&th(t,e,P,a,i,void 0));return}}for(y in i)i.hasOwnProperty(y)&&(a=i[y],a!=null&&ee(t,e,y,a,i,null))}function m_(t,e,i,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,f=null,g=null,y=null,N=null,B=null,P=null;for(G in i){var $=i[G];if(i.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=$;default:a.hasOwnProperty(G)||ee(t,e,G,null,a,$)}}for(var I in a){var G=a[I];if($=i[I],a.hasOwnProperty(I)&&(G!=null||$!=null))switch(I){case"type":f=G;break;case"name":o=G;break;case"checked":B=G;break;case"defaultChecked":P=G;break;case"value":g=G;break;case"defaultValue":y=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,e));break;default:G!==$&&ee(t,e,I,G,a,$)}}pu(t,g,y,N,B,P,f,o);return;case"select":G=g=y=I=null;for(f in i)if(N=i[f],i.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":G=N;default:a.hasOwnProperty(f)||ee(t,e,f,null,a,N)}for(o in a)if(f=a[o],N=i[o],a.hasOwnProperty(o)&&(f!=null||N!=null))switch(o){case"value":I=f;break;case"defaultValue":y=f;break;case"multiple":g=f;default:f!==N&&ee(t,e,o,f,a,N)}e=y,i=g,a=G,I!=null?Xs(t,!!i,I,!1):!!a!=!!i&&(e!=null?Xs(t,!!i,e,!0):Xs(t,!!i,i?[]:"",!1));return;case"textarea":G=I=null;for(y in i)if(o=i[y],i.hasOwnProperty(y)&&o!=null&&!a.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:ee(t,e,y,null,a,o)}for(g in a)if(o=a[g],f=i[g],a.hasOwnProperty(g)&&(o!=null||f!=null))switch(g){case"value":I=o;break;case"defaultValue":G=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==f&&ee(t,e,g,o,a,f)}Af(t,I,G);return;case"option":for(var Ot in i)if(I=i[Ot],i.hasOwnProperty(Ot)&&I!=null&&!a.hasOwnProperty(Ot))switch(Ot){case"selected":t.selected=!1;break;default:ee(t,e,Ot,null,a,I)}for(N in a)if(I=a[N],G=i[N],a.hasOwnProperty(N)&&I!==G&&(I!=null||G!=null))switch(N){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:ee(t,e,N,I,a,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in i)I=i[Et],i.hasOwnProperty(Et)&&I!=null&&!a.hasOwnProperty(Et)&&ee(t,e,Et,null,a,I);for(B in a)if(I=a[B],G=i[B],a.hasOwnProperty(B)&&I!==G&&(I!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,e));break;default:ee(t,e,B,I,a,G)}return;default:if(gu(e)){for(var ne in i)I=i[ne],i.hasOwnProperty(ne)&&I!==void 0&&!a.hasOwnProperty(ne)&&th(t,e,ne,void 0,a,I);for(P in a)I=a[P],G=i[P],!a.hasOwnProperty(P)||I===G||I===void 0&&G===void 0||th(t,e,P,I,a,G);return}}for(var M in i)I=i[M],i.hasOwnProperty(M)&&I!=null&&!a.hasOwnProperty(M)&&ee(t,e,M,null,a,I);for($ in a)I=a[$],G=i[$],!a.hasOwnProperty($)||I===G||I==null&&G==null||ee(t,e,$,I,a,G)}var eh=null,nh=null;function oo(t){return t.nodeType===9?t:t.ownerDocument}function wm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nm(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function ih(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sh=null;function g_(){var t=window.event;return t&&t.type==="popstate"?t===sh?!1:(sh=t,!0):(sh=null,!1)}var Om=typeof setTimeout=="function"?setTimeout:void 0,v_=typeof clearTimeout=="function"?clearTimeout:void 0,Cm=typeof Promise=="function"?Promise:void 0,__=typeof queueMicrotask=="function"?queueMicrotask:typeof Cm<"u"?function(t){return Cm.resolve(null).then(t).catch(y_)}:Om;function y_(t){setTimeout(function(){throw t})}function Ji(t){return t==="head"}function Dm(t,e){var i=e,a=0,o=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(0<a&&8>a){i=a;var g=t.ownerDocument;if(i&1&&kr(g.documentElement),i&2&&kr(g.body),i&4)for(i=g.head,kr(i),g=i.firstChild;g;){var y=g.nextSibling,N=g.nodeName;g[vs]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&g.rel.toLowerCase()==="stylesheet"||i.removeChild(g),g=y}}if(o===0){t.removeChild(f),Ir(e);return}o--}else i==="$"||i==="$?"||i==="$!"?o++:a=i.charCodeAt(0)-48;else a=0;i=f}while(i);Ir(e)}function ah(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":ah(i),Fs(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function T_(t,e,i,a){for(;t.nodeType===1;){var o=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[vs])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var f=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function S_(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=jn(t.nextSibling),t===null))return null;return t}function rh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function b_(t,e){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")e();else{var a=function(){e(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var lh=null;function Rm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}function Mm(t,e,i){switch(e=oo(i),t){case"html":if(t=e.documentElement,!t)throw Error(r(452));return t;case"head":if(t=e.head,!t)throw Error(r(453));return t;case"body":if(t=e.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function kr(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Fs(t)}var kn=new Map,km=new Set;function uo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ei=F.d;F.d={f:x_,r:A_,D:E_,C:w_,L:N_,m:O_,X:D_,S:C_,M:R_};function x_(){var t=Ei.f(),e=to();return t||e}function A_(t){var e=ci(t);e!==null&&e.tag===5&&e.type==="form"?$d(e):Ei.r(t)}var ba=typeof document>"u"?null:document;function Um(t,e,i){var a=ba;if(a&&typeof e=="string"&&e){var o=wn(e);o='link[rel="'+t+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),km.has(o)||(km.add(o),t={rel:t,crossOrigin:i,href:e},a.querySelector(o)===null&&(e=a.createElement("link"),He(e,"link",t),ge(e),a.head.appendChild(e)))}}function E_(t){Ei.D(t),Um("dns-prefetch",t,null)}function w_(t,e){Ei.C(t,e),Um("preconnect",t,e)}function N_(t,e,i){Ei.L(t,e,i);var a=ba;if(a&&t&&e){var o='link[rel="preload"][as="'+wn(e)+'"]';e==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+wn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+wn(i.imageSizes)+'"]')):o+='[href="'+wn(t)+'"]';var f=o;switch(e){case"style":f=xa(t);break;case"script":f=Aa(t)}kn.has(f)||(t=v({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),kn.set(f,t),a.querySelector(o)!==null||e==="style"&&a.querySelector(Ur(f))||e==="script"&&a.querySelector(zr(f))||(e=a.createElement("link"),He(e,"link",t),ge(e),a.head.appendChild(e)))}}function O_(t,e){Ei.m(t,e);var i=ba;if(i&&t){var a=e&&typeof e.as=="string"?e.as:"script",o='link[rel="modulepreload"][as="'+wn(a)+'"][href="'+wn(t)+'"]',f=o;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Aa(t)}if(!kn.has(f)&&(t=v({rel:"modulepreload",href:t},e),kn.set(f,t),i.querySelector(o)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(zr(f)))return}a=i.createElement("link"),He(a,"link",t),ge(a),i.head.appendChild(a)}}}function C_(t,e,i){Ei.S(t,e,i);var a=ba;if(a&&t){var o=zi(a).hoistableStyles,f=xa(t);e=e||"default";var g=o.get(f);if(!g){var y={loading:0,preload:null};if(g=a.querySelector(Ur(f)))y.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":e},i),(i=kn.get(f))&&oh(t,i);var N=g=a.createElement("link");ge(N),He(N,"link",t),N._p=new Promise(function(B,P){N.onload=B,N.onerror=P}),N.addEventListener("load",function(){y.loading|=1}),N.addEventListener("error",function(){y.loading|=2}),y.loading|=4,co(g,e,a)}g={type:"stylesheet",instance:g,count:1,state:y},o.set(f,g)}}}function D_(t,e){Ei.X(t,e);var i=ba;if(i&&t){var a=zi(i).hoistableScripts,o=Aa(t),f=a.get(o);f||(f=i.querySelector(zr(o)),f||(t=v({src:t,async:!0},e),(e=kn.get(o))&&uh(t,e),f=i.createElement("script"),ge(f),He(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(o,f))}}function R_(t,e){Ei.M(t,e);var i=ba;if(i&&t){var a=zi(i).hoistableScripts,o=Aa(t),f=a.get(o);f||(f=i.querySelector(zr(o)),f||(t=v({src:t,async:!0,type:"module"},e),(e=kn.get(o))&&uh(t,e),f=i.createElement("script"),ge(f),He(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(o,f))}}function zm(t,e,i,a){var o=(o=mt.current)?uo(o):null;if(!o)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=xa(i.href),i=zi(o).hoistableStyles,a=i.get(e),a||(a={type:"style",instance:null,count:0,state:null},i.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=xa(i.href);var f=zi(o).hoistableStyles,g=f.get(t);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=o.querySelector(Ur(t)))&&!f._p&&(g.instance=f,g.state.loading=5),kn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},kn.set(t,i),f||M_(o,t,i,g.state))),e&&a===null)throw Error(r(528,""));return g}if(e&&a!==null)throw Error(r(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Aa(i),i=zi(o).hoistableScripts,a=i.get(e),a||(a={type:"script",instance:null,count:0,state:null},i.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function xa(t){return'href="'+wn(t)+'"'}function Ur(t){return'link[rel="stylesheet"]['+t+"]"}function Vm(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function M_(t,e,i,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),He(e,"link",i),ge(e),t.head.appendChild(e))}function Aa(t){return'[src="'+wn(t)+'"]'}function zr(t){return"script[async]"+t}function Bm(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+wn(i.href)+'"]');if(a)return e.instance=a,ge(a),a;var o=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),ge(a),He(a,"style",o),co(a,i.precedence,t),e.instance=a;case"stylesheet":o=xa(i.href);var f=t.querySelector(Ur(o));if(f)return e.state.loading|=4,e.instance=f,ge(f),f;a=Vm(i),(o=kn.get(o))&&oh(a,o),f=(t.ownerDocument||t).createElement("link"),ge(f);var g=f;return g._p=new Promise(function(y,N){g.onload=y,g.onerror=N}),He(f,"link",a),e.state.loading|=4,co(f,i.precedence,t),e.instance=f;case"script":return f=Aa(i.src),(o=t.querySelector(zr(f)))?(e.instance=o,ge(o),o):(a=i,(o=kn.get(f))&&(a=v({},i),uh(a,o)),t=t.ownerDocument||t,o=t.createElement("script"),ge(o),He(o,"link",a),t.head.appendChild(o),e.instance=o);case"void":return null;default:throw Error(r(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,co(a,i.precedence,t));return e.instance}function co(t,e,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=a.length?a[a.length-1]:null,f=o,g=0;g<a.length;g++){var y=a[g];if(y.dataset.precedence===e)f=y;else if(f!==o)break}f?f.parentNode.insertBefore(t,f.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function oh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function uh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ho=null;function Lm(t,e,i){if(ho===null){var a=new Map,o=ho=new Map;o.set(i,a)}else o=ho,a=o.get(i),a||(a=new Map,o.set(i,a));if(a.has(t))return a;for(a.set(t,null),i=i.getElementsByTagName(t),o=0;o<i.length;o++){var f=i[o];if(!(f[vs]||f[ke]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(e)||"";g=t+g;var y=a.get(g);y?y.push(f):a.set(g,[f])}}return a}function qm(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function k_(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function jm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Vr=null;function U_(){}function z_(t,e,i){if(Vr===null)throw Error(r(475));var a=Vr;if(e.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var o=xa(i.href),f=t.querySelector(Ur(o));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(a.count++,a=fo.bind(a),t.then(a,a)),e.state.loading|=4,e.instance=f,ge(f);return}f=t.ownerDocument||t,i=Vm(i),(o=kn.get(o))&&oh(i,o),f=f.createElement("link"),ge(f);var g=f;g._p=new Promise(function(y,N){g.onload=y,g.onerror=N}),He(f,"link",i),e.instance=f}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(a.count++,e=fo.bind(a),t.addEventListener("load",e),t.addEventListener("error",e))}}function V_(){if(Vr===null)throw Error(r(475));var t=Vr;return t.stylesheets&&t.count===0&&ch(t,t.stylesheets),0<t.count?function(e){var i=setTimeout(function(){if(t.stylesheets&&ch(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(i)}}:null}function fo(){if(this.count--,this.count===0){if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var po=null;function ch(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,po=new Map,e.forEach(B_,t),po=null,fo.call(t))}function B_(t,e){if(!(e.state.loading&4)){var i=po.get(t);if(i)var a=i.get(null);else{i=new Map,po.set(t,i);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<o.length;f++){var g=o[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),a=g)}a&&i.set(null,a)}o=e.instance,g=o.getAttribute("data-precedence"),f=i.get(g)||a,f===a&&i.set(null,o),i.set(g,o),this.count++,a=fo.bind(this),o.addEventListener("load",a),o.addEventListener("error",a),f?f.parentNode.insertBefore(o,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),e.state.loading|=4}}var Br={$$typeof:H,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function L_(t,e,i,a,o,f,g,y){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=a,this.onUncaughtError=o,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function Im(t,e,i,a,o,f,g,y,N,B,P,$){return t=new L_(t,e,i,g,y,N,B,$),e=1,f===!0&&(e|=24),f=dn(3,null,null,e),t.current=f,f.stateNode=t,e=Fu(),e.refCount++,t.pooledCache=e,e.refCount++,f.memoizedState={element:a,isDehydrated:i,cache:e},Pu(f),t}function Hm(t){return t?(t=ea,t):ea}function Gm(t,e,i,a,o,f){o=Hm(o),a.context===null?a.context=o:a.pendingContext=o,a=qi(e),a.payload={element:i},f=f===void 0?null:f,f!==null&&(a.callback=f),i=ji(t,a,e),i!==null&&(_n(i,t,e),dr(i,t,e))}function Ym(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function hh(t,e){Ym(t,e),(t=t.alternate)&&Ym(t,e)}function Fm(t){if(t.tag===13){var e=ta(t,67108864);e!==null&&_n(e,t,67108864),hh(t,67108864)}}var mo=!0;function q_(t,e,i,a){var o=R.T;R.T=null;var f=F.p;try{F.p=2,fh(t,e,i,a)}finally{F.p=f,R.T=o}}function j_(t,e,i,a){var o=R.T;R.T=null;var f=F.p;try{F.p=8,fh(t,e,i,a)}finally{F.p=f,R.T=o}}function fh(t,e,i,a){if(mo){var o=dh(a);if(o===null)$c(t,e,a,go,i),Zm(t,a);else if(H_(o,t,e,i,a))a.stopPropagation();else if(Zm(t,a),e&4&&-1<I_.indexOf(t)){for(;o!==null;){var f=ci(o);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Ke(f.pendingLanes);if(g!==0){var y=f;for(y.pendingLanes|=2,y.entangledLanes|=2;g;){var N=1<<31-$t(g);y.entanglements[1]|=N,g&=~N}ii(f),(Kt&6)===0&&(Jl=ot()+500,Dr(0))}}break;case 13:y=ta(f,2),y!==null&&_n(y,f,2),to(),hh(f,2)}if(f=dh(a),f===null&&$c(t,e,a,go,i),f===o)break;o=f}o!==null&&a.stopPropagation()}else $c(t,e,a,null,i)}}function dh(t){return t=_u(t),ph(t)}var go=null;function ph(t){if(go=null,t=ui(t),t!==null){var e=h(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=c(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return go=t,null}function Xm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ct()){case X:return 2;case bt:return 8;case yt:case Ut:return 32;case Rt:return 268435456;default:return 32}default:return 32}}var mh=!1,$i=null,ts=null,es=null,Lr=new Map,qr=new Map,ns=[],I_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zm(t,e){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Lr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qr.delete(e.pointerId)}}function jr(t,e,i,a,o,f){return t===null||t.nativeEvent!==f?(t={blockedOn:e,domEventName:i,eventSystemFlags:a,nativeEvent:f,targetContainers:[o]},e!==null&&(e=ci(e),e!==null&&Fm(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function H_(t,e,i,a,o){switch(e){case"focusin":return $i=jr($i,t,e,i,a,o),!0;case"dragenter":return ts=jr(ts,t,e,i,a,o),!0;case"mouseover":return es=jr(es,t,e,i,a,o),!0;case"pointerover":var f=o.pointerId;return Lr.set(f,jr(Lr.get(f)||null,t,e,i,a,o)),!0;case"gotpointercapture":return f=o.pointerId,qr.set(f,jr(qr.get(f)||null,t,e,i,a,o)),!0}return!1}function Qm(t){var e=ui(t.target);if(e!==null){var i=h(e);if(i!==null){if(e=i.tag,e===13){if(e=c(i),e!==null){t.blockedOn=e,cu(t.priority,function(){if(i.tag===13){var a=vn();a=Za(a);var o=ta(i,a);o!==null&&_n(o,i,a),hh(i,a)}});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=dh(t.nativeEvent);if(i===null){i=t.nativeEvent;var a=new i.constructor(i.type,i);vu=a,i.target.dispatchEvent(a),vu=null}else return e=ci(i),e!==null&&Fm(e),t.blockedOn=i,!1;e.shift()}return!0}function Pm(t,e,i){vo(t)&&i.delete(e)}function G_(){mh=!1,$i!==null&&vo($i)&&($i=null),ts!==null&&vo(ts)&&(ts=null),es!==null&&vo(es)&&(es=null),Lr.forEach(Pm),qr.forEach(Pm)}function _o(t,e){t.blockedOn===e&&(t.blockedOn=null,mh||(mh=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,G_)))}var yo=null;function Wm(t){yo!==t&&(yo=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){yo===t&&(yo=null);for(var e=0;e<t.length;e+=3){var i=t[e],a=t[e+1],o=t[e+2];if(typeof a!="function"){if(ph(a||i)===null)continue;break}var f=ci(i);f!==null&&(t.splice(e,3),e-=3,pc(f,{pending:!0,data:o,method:i.method,action:a},a,o))}}))}function Ir(t){function e(N){return _o(N,t)}$i!==null&&_o($i,t),ts!==null&&_o(ts,t),es!==null&&_o(es,t),Lr.forEach(e),qr.forEach(e);for(var i=0;i<ns.length;i++){var a=ns[i];a.blockedOn===t&&(a.blockedOn=null)}for(;0<ns.length&&(i=ns[0],i.blockedOn===null);)Qm(i),i.blockedOn===null&&ns.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var o=i[a],f=i[a+1],g=o[Xe]||null;if(typeof f=="function")g||Wm(i);else if(g){var y=null;if(f&&f.hasAttribute("formAction")){if(o=f,g=f[Xe]||null)y=g.formAction;else if(ph(o)!==null)continue}else y=g.action;typeof y=="function"?i[a+1]=y:(i.splice(a,3),a-=3),Wm(i)}}}function gh(t){this._internalRoot=t}To.prototype.render=gh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(r(409));var i=e.current,a=vn();Gm(i,a,t,e,null,null)},To.prototype.unmount=gh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gm(t.current,2,null,t,null,null),to(),e[Ui]=null}};function To(t){this._internalRoot=t}To.prototype.unstable_scheduleHydration=function(t){if(t){var e=ul();t={blockedOn:null,target:t,priority:e};for(var i=0;i<ns.length&&e!==0&&e<ns[i].priority;i++);ns.splice(i,0,t),i===0&&Qm(t)}};var Km=n.version;if(Km!=="19.1.0")throw Error(r(527,Km,"19.1.0"));F.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=m(e),t=t!==null?d(t):null,t=t===null?null:t.stateNode,t};var Y_={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{ue=So.inject(Y_),gt=So}catch{}}return Gr.createRoot=function(t,e){if(!u(t))throw Error(r(299));var i=!1,a="",o=dp,f=pp,g=mp,y=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(o=e.onUncaughtError),e.onCaughtError!==void 0&&(f=e.onCaughtError),e.onRecoverableError!==void 0&&(g=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(y=e.unstable_transitionCallbacks)),e=Im(t,1,!1,null,null,i,a,o,f,g,y,null),t[Ui]=e.current,Jc(t),new gh(e)},Gr.hydrateRoot=function(t,e,i){if(!u(t))throw Error(r(299));var a=!1,o="",f=dp,g=pp,y=mp,N=null,B=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(N=i.unstable_transitionCallbacks),i.formState!==void 0&&(B=i.formState)),e=Im(t,1,!0,e,i??null,a,o,f,g,y,N,B),e.context=Hm(null),i=e.current,a=vn(),a=Za(a),o=qi(a),o.callback=null,ji(i,o,a),i=a,e.current.lanes=i,ki(e,i),ii(e),t[Ui]=e.current,Jc(t),new To(e)},Gr.version="19.1.0",Gr}var lg;function ty(){if(lg)return yh.exports;lg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),yh.exports=$_(),yh.exports}var ey=ty();const Mg="15.1.22",og=(l,n,s)=>({endTime:n,insertTime:s,type:"exponentialRampToValue",value:l}),ug=(l,n,s)=>({endTime:n,insertTime:s,type:"linearRampToValue",value:l}),Ah=(l,n)=>({startTime:n,type:"setValue",value:l}),kg=(l,n,s)=>({duration:s,startTime:n,type:"setValueCurve",values:l}),Ug=(l,n,{startTime:s,target:r,timeConstant:u})=>r+(n-r)*Math.exp((s-l)/u),Na=l=>l.type==="exponentialRampToValue",Ro=l=>l.type==="linearRampToValue",as=l=>Na(l)||Ro(l),Bh=l=>l.type==="setValue",wi=l=>l.type==="setValueCurve",Mo=(l,n,s,r)=>{const u=l[n];return u===void 0?r:as(u)||Bh(u)?u.value:wi(u)?u.values[u.values.length-1]:Ug(s,Mo(l,n-1,u.startTime,r),u)},cg=(l,n,s,r,u)=>s===void 0?[r.insertTime,u]:as(s)?[s.endTime,s.value]:Bh(s)?[s.startTime,s.value]:wi(s)?[s.startTime+s.duration,s.values[s.values.length-1]]:[s.startTime,Mo(l,n-1,s.startTime,u)],Eh=l=>l.type==="cancelAndHold",wh=l=>l.type==="cancelScheduledValues",ss=l=>Eh(l)||wh(l)?l.cancelTime:Na(l)||Ro(l)?l.endTime:l.startTime,hg=(l,n,s,{endTime:r,value:u})=>s===u?u:0<s&&0<u||s<0&&u<0?s*(u/s)**((l-n)/(r-n)):0,fg=(l,n,s,{endTime:r,value:u})=>s+(l-n)/(r-n)*(u-s),ny=(l,n)=>{const s=Math.floor(n),r=Math.ceil(n);return s===r?l[s]:(1-(n-s))*l[s]+(1-(r-n))*l[r]},iy=(l,{duration:n,startTime:s,values:r})=>{const u=(l-s)/n*(r.length-1);return ny(r,u)},bo=l=>l.type==="setTarget";class sy{constructor(n){this._automationEvents=[],this._currenTime=0,this._defaultValue=n}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(n){const s=ss(n);if(Eh(n)||wh(n)){const r=this._automationEvents.findIndex(h=>wh(n)&&wi(h)?h.startTime+h.duration>=s:ss(h)>=s),u=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Eh(n)){const h=this._automationEvents[this._automationEvents.length-1];if(u!==void 0&&as(u)){if(h!==void 0&&bo(h))throw new Error("The internal list is malformed.");const c=h===void 0?u.insertTime:wi(h)?h.startTime+h.duration:ss(h),p=h===void 0?this._defaultValue:wi(h)?h.values[h.values.length-1]:h.value,m=Na(u)?hg(s,c,p,u):fg(s,c,p,u),d=Na(u)?og(m,s,this._currenTime):ug(m,s,this._currenTime);this._automationEvents.push(d)}if(h!==void 0&&bo(h)&&this._automationEvents.push(Ah(this.getValue(s),s)),h!==void 0&&wi(h)&&h.startTime+h.duration>s){const c=s-h.startTime,p=(h.values.length-1)/h.duration,m=Math.max(2,1+Math.ceil(c*p)),d=c/(m-1)*p,v=h.values.slice(0,m);if(d<1)for(let _=1;_<m;_+=1){const S=d*_%1;v[_]=h.values[_-1]*(1-S)+h.values[_]*S}this._automationEvents[this._automationEvents.length-1]=kg(v,h.startTime,c)}}}else{const r=this._automationEvents.findIndex(c=>ss(c)>s),u=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(u!==void 0&&wi(u)&&ss(u)+u.duration>s)return!1;const h=Na(n)?og(n.value,n.endTime,this._currenTime):Ro(n)?ug(n.value,s,this._currenTime):n;if(r===-1)this._automationEvents.push(h);else{if(wi(n)&&s+n.duration>ss(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,h)}}return!0}flush(n){const s=this._automationEvents.findIndex(r=>ss(r)>n);if(s>1){const r=this._automationEvents.slice(s-1),u=r[0];bo(u)&&r.unshift(Ah(Mo(this._automationEvents,s-2,u.startTime,this._defaultValue),u.startTime)),this._automationEvents=r}}getValue(n){if(this._automationEvents.length===0)return this._defaultValue;const s=this._automationEvents.findIndex(c=>ss(c)>n),r=this._automationEvents[s],u=(s===-1?this._automationEvents.length:s)-1,h=this._automationEvents[u];if(h!==void 0&&bo(h)&&(r===void 0||!as(r)||r.insertTime>n))return Ug(n,Mo(this._automationEvents,u-1,h.startTime,this._defaultValue),h);if(h!==void 0&&Bh(h)&&(r===void 0||!as(r)))return h.value;if(h!==void 0&&wi(h)&&(r===void 0||!as(r)||h.startTime+h.duration>n))return n<h.startTime+h.duration?iy(n,h):h.values[h.values.length-1];if(h!==void 0&&as(h)&&(r===void 0||!as(r)))return h.value;if(r!==void 0&&Na(r)){const[c,p]=cg(this._automationEvents,u,h,r,this._defaultValue);return hg(n,c,p,r)}if(r!==void 0&&Ro(r)){const[c,p]=cg(this._automationEvents,u,h,r,this._defaultValue);return fg(n,c,p,r)}return this._defaultValue}}const ay=l=>({cancelTime:l,type:"cancelAndHold"}),ry=l=>({cancelTime:l,type:"cancelScheduledValues"}),ly=(l,n)=>({endTime:n,type:"exponentialRampToValue",value:l}),oy=(l,n)=>({endTime:n,type:"linearRampToValue",value:l}),uy=(l,n,s)=>({startTime:n,target:l,timeConstant:s,type:"setTarget"}),cy=()=>new DOMException("","AbortError"),hy=l=>(n,s,[r,u,h],c)=>{l(n[u],[s,r,h],p=>p[0]===s&&p[1]===r,c)},fy=l=>(n,s,r)=>{const u=[];for(let h=0;h<r.numberOfInputs;h+=1)u.push(new Set);l.set(n,{activeInputs:u,outputs:new Set,passiveInputs:new WeakMap,renderer:s})},dy=l=>(n,s)=>{l.set(n,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:s})},Ra=new WeakSet,zg=new WeakMap,Lh=new WeakMap,Vg=new WeakMap,qh=new WeakMap,Go=new WeakMap,Bg=new WeakMap,Nh=new WeakMap,Oh=new WeakMap,Ch=new WeakMap,Lg={construct(){return Lg}},py=l=>{try{const n=new Proxy(l,Lg);new n}catch{return!1}return!0},dg=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,pg=(l,n)=>{const s=[];let r=l.replace(/^[\s]+/,""),u=r.match(dg);for(;u!==null;){const h=u[1].slice(1,-1),c=u[0].replace(/([\s]+)?;?$/,"").replace(h,new URL(h,n).toString());s.push(c),r=r.slice(u[0].length).replace(/^[\s]+/,""),u=r.match(dg)}return[s.join(";"),r]},mg=l=>{if(l!==void 0&&!Array.isArray(l))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},gg=l=>{if(!py(l))throw new TypeError("The given value for processorCtor should be a constructor.");if(l.prototype===null||typeof l.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},my=(l,n,s,r,u,h,c,p,m,d,v,_,S)=>{let T=0;return(b,E,x={credentials:"omit"})=>{const C=v.get(b);if(C!==void 0&&C.has(E))return Promise.resolve();const V=d.get(b);if(V!==void 0){const O=V.get(E);if(O!==void 0)return O}const H=h(b),K=H.audioWorklet===void 0?u(E).then(([O,q])=>{const[Y,k]=pg(O,q),st=`${Y};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${k}
})})(window,'_AWGS')`;return s(st)}).then(()=>{const O=S._AWGS.pop();if(O===void 0)throw new SyntaxError;r(H.currentTime,H.sampleRate,()=>O(class{},void 0,(q,Y)=>{if(q.trim()==="")throw n();const k=Oh.get(H);if(k!==void 0){if(k.has(q))throw n();gg(Y),mg(Y.parameterDescriptors),k.set(q,Y)}else gg(Y),mg(Y.parameterDescriptors),Oh.set(H,new Map([[q,Y]]))},H.sampleRate,void 0,void 0))}):Promise.all([u(E),Promise.resolve(l(_,_))]).then(([[O,q],Y])=>{const k=T+1;T=k;const[st,nt]=pg(O,q),ht=`${st};((AudioWorkletProcessor,registerProcessor)=>{${nt}
})(${Y?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${Y?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${Y?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${k}',class extends AudioWorkletProcessor{process(){return !1}})`,vt=new Blob([ht],{type:"application/javascript; charset=utf-8"}),R=URL.createObjectURL(vt);return H.audioWorklet.addModule(R,x).then(()=>{if(p(H))return H;const F=c(H);return F.audioWorklet.addModule(R,x).then(()=>F)}).then(F=>{if(m===null)throw new SyntaxError;try{new m(F,`__sac${k}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(R))});return V===void 0?d.set(b,new Map([[E,K]])):V.set(E,K),K.then(()=>{const O=v.get(b);O===void 0?v.set(b,new Set([E])):O.add(E)}).finally(()=>{const O=d.get(b);O!==void 0&&O.delete(E)}),K}},Fn=(l,n)=>{const s=l.get(n);if(s===void 0)throw new Error("A value with the given key could not be found.");return s},Yo=(l,n)=>{const s=Array.from(l).filter(n);if(s.length>1)throw Error("More than one element was found.");if(s.length===0)throw Error("No element was found.");const[r]=s;return l.delete(r),r},qg=(l,n,s,r)=>{const u=Fn(l,n),h=Yo(u,c=>c[0]===s&&c[1]===r);return u.size===0&&l.delete(n),h},Qr=l=>Fn(Bg,l),Ma=l=>{if(Ra.has(l))throw new Error("The AudioNode is already stored.");Ra.add(l),Qr(l).forEach(n=>n(!0))},jg=l=>"port"in l,Pr=l=>{if(!Ra.has(l))throw new Error("The AudioNode is not stored.");Ra.delete(l),Qr(l).forEach(n=>n(!1))},Dh=(l,n)=>{!jg(l)&&n.every(s=>s.size===0)&&Pr(l)},gy=(l,n,s,r,u,h,c,p,m,d,v,_,S)=>{const T=new WeakMap;return(b,E,x,C,V)=>{const{activeInputs:H,passiveInputs:K}=h(E),{outputs:O}=h(b),q=p(b),Y=k=>{const st=m(E),nt=m(b);if(k){const tt=qg(K,b,x,C);l(H,b,tt,!1),!V&&!_(b)&&s(nt,st,x,C),S(E)&&Ma(E)}else{const tt=r(H,b,x,C);n(K,C,tt,!1),!V&&!_(b)&&u(nt,st,x,C);const Q=c(E);if(Q===0)v(E)&&Dh(E,H);else{const ft=T.get(E);ft!==void 0&&clearTimeout(ft),T.set(E,setTimeout(()=>{v(E)&&Dh(E,H)},Q*1e3))}}};return d(O,[E,x,C],k=>k[0]===E&&k[1]===x&&k[2]===C,!0)?(q.add(Y),v(b)?l(H,b,[x,C,Y],!0):n(K,C,[b,x,Y],!0),!0):!1}},vy=l=>(n,s,[r,u,h],c)=>{const p=n.get(r);p===void 0?n.set(r,new Set([[u,s,h]])):l(p,[u,s,h],m=>m[0]===u&&m[1]===s,c)},_y=l=>(n,s)=>{const r=l(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.connect(r).connect(n.destination);const u=()=>{s.removeEventListener("ended",u),s.disconnect(r),r.disconnect()};s.addEventListener("ended",u)},yy=l=>(n,s)=>{l(n).add(s)},Ty={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Sy=(l,n,s,r,u,h)=>class extends l{constructor(p,m){const d=u(p),v={...Ty,...m},_=r(d,v),S=h(d)?n():null;super(p,!1,_,S),this._nativeAnalyserNode=_}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(p){this._nativeAnalyserNode.fftSize=p}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(p){const m=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=p,!(p>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=m,s()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(p){const m=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=p,!(this._nativeAnalyserNode.maxDecibels>p))throw this._nativeAnalyserNode.minDecibels=m,s()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(p){this._nativeAnalyserNode.smoothingTimeConstant=p}getByteFrequencyData(p){this._nativeAnalyserNode.getByteFrequencyData(p)}getByteTimeDomainData(p){this._nativeAnalyserNode.getByteTimeDomainData(p)}getFloatFrequencyData(p){this._nativeAnalyserNode.getFloatFrequencyData(p)}getFloatTimeDomainData(p){this._nativeAnalyserNode.getFloatTimeDomainData(p)}},We=(l,n)=>l.context===n,by=(l,n,s)=>()=>{const r=new WeakMap,u=async(h,c)=>{let p=n(h);if(!We(p,c)){const d={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,fftSize:p.fftSize,maxDecibels:p.maxDecibels,minDecibels:p.minDecibels,smoothingTimeConstant:p.smoothingTimeConstant};p=l(c,d)}return r.set(c,p),await s(h,c,p),p};return{render(h,c){const p=r.get(c);return p!==void 0?Promise.resolve(p):u(h,c)}}},ko=l=>{try{l.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},ri=()=>new DOMException("","IndexSizeError"),jh=l=>{l.getChannelData=(n=>s=>{try{return n.call(l,s)}catch(r){throw r.code===12?ri():r}})(l.getChannelData)},xy={numberOfChannels:1},Ay=(l,n,s,r,u,h,c,p)=>{let m=null;return class Ig{constructor(v){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:_,numberOfChannels:S,sampleRate:T}={...xy,...v};m===null&&(m=new u(1,1,44100));const b=r!==null&&n(h,h)?new r({length:_,numberOfChannels:S,sampleRate:T}):m.createBuffer(S,_,T);if(b.numberOfChannels===0)throw s();return typeof b.copyFromChannel!="function"?(c(b),jh(b)):n(ko,()=>ko(b))||p(b),l.add(b),b}static[Symbol.hasInstance](v){return v!==null&&typeof v=="object"&&Object.getPrototypeOf(v)===Ig.prototype||l.has(v)}}},ln=-34028234663852886e22,$e=-ln,Ni=l=>Ra.has(l),Ey={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},wy=(l,n,s,r,u,h,c,p)=>class extends l{constructor(d,v){const _=h(d),S={...Ey,...v},T=u(_,S),b=c(_),E=b?n():null;super(d,!1,T,E),this._audioBufferSourceNodeRenderer=E,this._isBufferNullified=!1,this._isBufferSet=S.buffer!==null,this._nativeAudioBufferSourceNode=T,this._onended=null,this._playbackRate=s(this,b,T.playbackRate,$e,ln)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,d!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const v=typeof d=="function"?p(this,d):null;this._nativeAudioBufferSourceNode.onended=v;const _=this._nativeAudioBufferSourceNode.onended;this._onended=_!==null&&_===v?d:_}get playbackRate(){return this._playbackRate}start(d=0,v=0,_){if(this._nativeAudioBufferSourceNode.start(d,v,_),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=_===void 0?[d,v]:[d,v,_]),this.context.state!=="closed"){Ma(this);const S=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",S),Ni(this)&&Pr(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",S)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=d)}},Ny=(l,n,s,r,u)=>()=>{const h=new WeakMap;let c=null,p=null;const m=async(d,v)=>{let _=s(d);const S=We(_,v);if(!S){const T={buffer:_.buffer,channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,loop:_.loop,loopEnd:_.loopEnd,loopStart:_.loopStart,playbackRate:_.playbackRate.value};_=n(v,T),c!==null&&_.start(...c),p!==null&&_.stop(p)}return h.set(v,_),S?await l(v,d.playbackRate,_.playbackRate):await r(v,d.playbackRate,_.playbackRate),await u(d,v,_),_};return{set start(d){c=d},set stop(d){p=d},render(d,v){const _=h.get(v);return _!==void 0?Promise.resolve(_):m(d,v)}}},Oy=l=>"playbackRate"in l,Cy=l=>"frequency"in l&&"gain"in l,Dy=l=>"offset"in l,Ry=l=>!("frequency"in l)&&"gain"in l,My=l=>"detune"in l&&"frequency"in l&&!("gain"in l),ky=l=>"pan"in l,tn=l=>Fn(zg,l),Wr=l=>Fn(Vg,l),Rh=(l,n)=>{const{activeInputs:s}=tn(l);s.forEach(u=>u.forEach(([h])=>{n.includes(l)||Rh(h,[...n,l])}));const r=Oy(l)?[l.playbackRate]:jg(l)?Array.from(l.parameters.values()):Cy(l)?[l.Q,l.detune,l.frequency,l.gain]:Dy(l)?[l.offset]:Ry(l)?[l.gain]:My(l)?[l.detune,l.frequency]:ky(l)?[l.pan]:[];for(const u of r){const h=Wr(u);h!==void 0&&h.activeInputs.forEach(([c])=>Rh(c,n))}Ni(l)&&Pr(l)},Hg=l=>{Rh(l.destination,[])},Uy=l=>l===void 0||typeof l=="number"||typeof l=="string"&&(l==="balanced"||l==="interactive"||l==="playback"),zy=(l,n,s,r,u,h,c,p,m)=>class extends l{constructor(v={}){if(m===null)throw new Error("Missing the native AudioContext constructor.");let _;try{_=new m(v)}catch(b){throw b.code===12&&b.message==="sampleRate is not in range"?s():b}if(_===null)throw r();if(!Uy(v.latencyHint))throw new TypeError(`The provided value '${v.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(v.sampleRate!==void 0&&_.sampleRate!==v.sampleRate)throw s();super(_,2);const{latencyHint:S}=v,{sampleRate:T}=_;if(this._baseLatency=typeof _.baseLatency=="number"?_.baseLatency:S==="balanced"?512/T:S==="interactive"||S===void 0?256/T:S==="playback"?1024/T:Math.max(2,Math.min(128,Math.round(S*T/128)))*128/T,this._nativeAudioContext=_,m.name==="webkitAudioContext"?(this._nativeGainNode=_.createGain(),this._nativeOscillatorNode=_.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(_.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,_.state==="running"){this._state="suspended";const b=()=>{this._state==="suspended"&&(this._state=null),_.removeEventListener("statechange",b)};_.addEventListener("statechange",b)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw n()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Hg(this)}))}createMediaElementSource(v){return new u(this,{mediaElement:v})}createMediaStreamDestination(){return new h(this)}createMediaStreamSource(v){return new c(this,{mediaStream:v})}createMediaStreamTrackSource(v){return new p(this,{mediaStreamTrack:v})}resume(){return this._state==="suspended"?new Promise((v,_)=>{const S=()=>{this._nativeAudioContext.removeEventListener("statechange",S),this._nativeAudioContext.state==="running"?v():this.resume().then(v,_)};this._nativeAudioContext.addEventListener("statechange",S)}):this._nativeAudioContext.resume().catch(v=>{throw v===void 0||v.code===15?n():v})}suspend(){return this._nativeAudioContext.suspend().catch(v=>{throw v===void 0?n():v})}},Vy=(l,n,s,r,u,h,c,p)=>class extends l{constructor(d,v){const _=h(d),S=c(_),T=u(_,v,S),b=S?n(p):null;super(d,!1,T,b),this._isNodeOfNativeOfflineAudioContext=S,this._nativeAudioDestinationNode=T}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw s();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},By=l=>{const n=new WeakMap,s=async(r,u)=>{const h=u.destination;return n.set(u,h),await l(r,u,h),h};return{render(r,u){const h=n.get(u);return h!==void 0?Promise.resolve(h):s(r,u)}}},Ly=(l,n,s,r,u,h,c,p)=>(m,d)=>{const v=d.listener,_=()=>{const O=new Float32Array(1),q=n(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),Y=c(d);let k=!1,st=[0,0,-1,0,1,0],nt=[0,0,0];const tt=()=>{if(k)return;k=!0;const vt=r(d,256,9,0);vt.onaudioprocess=({inputBuffer:R})=>{const F=[h(R,O,0),h(R,O,1),h(R,O,2),h(R,O,3),h(R,O,4),h(R,O,5)];F.some((lt,A)=>lt!==st[A])&&(v.setOrientation(...F),st=F);const rt=[h(R,O,6),h(R,O,7),h(R,O,8)];rt.some((lt,A)=>lt!==nt[A])&&(v.setPosition(...rt),nt=rt)},q.connect(vt)},Q=vt=>R=>{R!==st[vt]&&(st[vt]=R,v.setOrientation(...st))},ft=vt=>R=>{R!==nt[vt]&&(nt[vt]=R,v.setPosition(...nt))},ht=(vt,R,F)=>{const rt=s(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:R});rt.connect(q,0,vt),rt.start(),Object.defineProperty(rt.offset,"defaultValue",{get(){return R}});const lt=l({context:m},Y,rt.offset,$e,ln);return p(lt,"value",A=>()=>A.call(lt),A=>j=>{try{A.call(lt,j)}catch(W){if(W.code!==9)throw W}tt(),Y&&F(j)}),lt.cancelAndHoldAtTime=(A=>Y?()=>{throw u()}:(...j)=>{const W=A.apply(lt,j);return tt(),W})(lt.cancelAndHoldAtTime),lt.cancelScheduledValues=(A=>Y?()=>{throw u()}:(...j)=>{const W=A.apply(lt,j);return tt(),W})(lt.cancelScheduledValues),lt.exponentialRampToValueAtTime=(A=>Y?()=>{throw u()}:(...j)=>{const W=A.apply(lt,j);return tt(),W})(lt.exponentialRampToValueAtTime),lt.linearRampToValueAtTime=(A=>Y?()=>{throw u()}:(...j)=>{const W=A.apply(lt,j);return tt(),W})(lt.linearRampToValueAtTime),lt.setTargetAtTime=(A=>Y?()=>{throw u()}:(...j)=>{const W=A.apply(lt,j);return tt(),W})(lt.setTargetAtTime),lt.setValueAtTime=(A=>Y?()=>{throw u()}:(...j)=>{const W=A.apply(lt,j);return tt(),W})(lt.setValueAtTime),lt.setValueCurveAtTime=(A=>Y?()=>{throw u()}:(...j)=>{const W=A.apply(lt,j);return tt(),W})(lt.setValueCurveAtTime),lt};return{forwardX:ht(0,0,Q(0)),forwardY:ht(1,0,Q(1)),forwardZ:ht(2,-1,Q(2)),positionX:ht(6,0,ft(0)),positionY:ht(7,0,ft(1)),positionZ:ht(8,0,ft(2)),upX:ht(3,0,Q(3)),upY:ht(4,1,Q(4)),upZ:ht(5,0,Q(5))}},{forwardX:S,forwardY:T,forwardZ:b,positionX:E,positionY:x,positionZ:C,upX:V,upY:H,upZ:K}=v.forwardX===void 0?_():v;return{get forwardX(){return S},get forwardY(){return T},get forwardZ(){return b},get positionX(){return E},get positionY(){return x},get positionZ(){return C},get upX(){return V},get upY(){return H},get upZ(){return K}}},Uo=l=>"context"in l,Kr=l=>Uo(l[0]),Hs=(l,n,s,r)=>{for(const u of l)if(s(u)){if(r)return!1;throw Error("The set contains at least one similar element.")}return l.add(n),!0},vg=(l,n,[s,r],u)=>{Hs(l,[n,s,r],h=>h[0]===n&&h[1]===s,u)},_g=(l,[n,s,r],u)=>{const h=l.get(n);h===void 0?l.set(n,new Set([[s,r]])):Hs(h,[s,r],c=>c[0]===s,u)},La=l=>"inputs"in l,zo=(l,n,s,r)=>{if(La(n)){const u=n.inputs[r];return l.connect(u,s,0),[u,s,0]}return l.connect(n,s,r),[n,s,r]},Gg=(l,n,s)=>{for(const r of l)if(r[0]===n&&r[1]===s)return l.delete(r),r;return null},qy=(l,n,s)=>Yo(l,r=>r[0]===n&&r[1]===s),Yg=(l,n)=>{if(!Qr(l).delete(n))throw new Error("Missing the expected event listener.")},Fg=(l,n,s)=>{const r=Fn(l,n),u=Yo(r,h=>h[0]===s);return r.size===0&&l.delete(n),u},Vo=(l,n,s,r)=>{La(n)?l.disconnect(n.inputs[r],s,0):l.disconnect(n,s,r)},ce=l=>Fn(Lh,l),Fr=l=>Fn(qh,l),qs=l=>Nh.has(l),Co=l=>!Ra.has(l),yg=(l,n)=>new Promise(s=>{if(n!==null)s(!0);else{const r=l.createScriptProcessor(256,1,1),u=l.createGain(),h=l.createBuffer(1,2,44100),c=h.getChannelData(0);c[0]=1,c[1]=1;const p=l.createBufferSource();p.buffer=h,p.loop=!0,p.connect(r).connect(l.destination),p.connect(u),p.disconnect(u),r.onaudioprocess=m=>{const d=m.inputBuffer.getChannelData(0);Array.prototype.some.call(d,v=>v===1)?s(!0):s(!1),p.stop(),r.onaudioprocess=null,p.disconnect(r),r.disconnect(l.destination)},p.start()}}),xh=(l,n)=>{const s=new Map;for(const r of l)for(const u of r){const h=s.get(u);s.set(u,h===void 0?1:h+1)}s.forEach((r,u)=>n(u,r))},Bo=l=>"context"in l,jy=l=>{const n=new Map;l.connect=(s=>(r,u=0,h=0)=>{const c=Bo(r)?s(r,u,h):s(r,u),p=n.get(r);return p===void 0?n.set(r,[{input:h,output:u}]):p.every(m=>m.input!==h||m.output!==u)&&p.push({input:h,output:u}),c})(l.connect.bind(l)),l.disconnect=(s=>(r,u,h)=>{if(s.apply(l),r===void 0)n.clear();else if(typeof r=="number")for(const[c,p]of n){const m=p.filter(d=>d.output!==r);m.length===0?n.delete(c):n.set(c,m)}else if(n.has(r))if(u===void 0)n.delete(r);else{const c=n.get(r);if(c!==void 0){const p=c.filter(m=>m.output!==u&&(m.input!==h||h===void 0));p.length===0?n.delete(r):n.set(r,p)}}for(const[c,p]of n)p.forEach(m=>{Bo(c)?l.connect(c,m.output,m.input):l.connect(c,m.output)})})(l.disconnect)},Iy=(l,n,s,r)=>{const{activeInputs:u,passiveInputs:h}=Wr(n),{outputs:c}=tn(l),p=Qr(l),m=d=>{const v=ce(l),_=Fr(n);if(d){const S=Fg(h,l,s);vg(u,l,S,!1),!r&&!qs(l)&&v.connect(_,s)}else{const S=qy(u,l,s);_g(h,S,!1),!r&&!qs(l)&&v.disconnect(_,s)}};return Hs(c,[n,s],d=>d[0]===n&&d[1]===s,!0)?(p.add(m),Ni(l)?vg(u,l,[s,m],!0):_g(h,[l,s,m],!0),!0):!1},Hy=(l,n,s,r)=>{const{activeInputs:u,passiveInputs:h}=tn(n),c=Gg(u[r],l,s);return c===null?[qg(h,l,s,r)[2],!1]:[c[2],!0]},Gy=(l,n,s)=>{const{activeInputs:r,passiveInputs:u}=Wr(n),h=Gg(r,l,s);return h===null?[Fg(u,l,s)[1],!1]:[h[2],!0]},Ih=(l,n,s,r,u)=>{const[h,c]=Hy(l,s,r,u);if(h!==null&&(Yg(l,h),c&&!n&&!qs(l)&&Vo(ce(l),ce(s),r,u)),Ni(s)){const{activeInputs:p}=tn(s);Dh(s,p)}},Hh=(l,n,s,r)=>{const[u,h]=Gy(l,s,r);u!==null&&(Yg(l,u),h&&!n&&!qs(l)&&ce(l).disconnect(Fr(s),r))},Yy=(l,n)=>{const s=tn(l),r=[];for(const u of s.outputs)Kr(u)?Ih(l,n,...u):Hh(l,n,...u),r.push(u[0]);return s.outputs.clear(),r},Fy=(l,n,s)=>{const r=tn(l),u=[];for(const h of r.outputs)h[1]===s&&(Kr(h)?Ih(l,n,...h):Hh(l,n,...h),u.push(h[0]),r.outputs.delete(h));return u},Xy=(l,n,s,r,u)=>{const h=tn(l);return Array.from(h.outputs).filter(c=>c[0]===s&&(r===void 0||c[1]===r)&&(u===void 0||c[2]===u)).map(c=>(Kr(c)?Ih(l,n,...c):Hh(l,n,...c),h.outputs.delete(c),c[0]))},Zy=(l,n,s,r,u,h,c,p,m,d,v,_,S,T,b,E)=>class extends d{constructor(C,V,H,K){super(H),this._context=C,this._nativeAudioNode=H;const O=v(C);_(O)&&s(yg,()=>yg(O,E))!==!0&&jy(H),Lh.set(this,H),Bg.set(this,new Set),C.state!=="closed"&&V&&Ma(this),l(this,K,H)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,V=0,H=0){if(V<0||V>=this._nativeAudioNode.numberOfOutputs)throw u();const K=v(this._context),O=b(K);if(S(C)||T(C))throw h();if(Uo(C)){const k=ce(C);try{const nt=zo(this._nativeAudioNode,k,V,H),tt=Co(this);(O||tt)&&this._nativeAudioNode.disconnect(...nt),this.context.state!=="closed"&&!tt&&Co(C)&&Ma(C)}catch(nt){throw nt.code===12?h():nt}if(n(this,C,V,H,O)){const nt=m([this],C);xh(nt,r(O))}return C}const q=Fr(C);if(q.name==="playbackRate"&&q.maxValue===1024)throw c();try{this._nativeAudioNode.connect(q,V),(O||Co(this))&&this._nativeAudioNode.disconnect(q,V)}catch(k){throw k.code===12?h():k}if(Iy(this,C,V,O)){const k=m([this],C);xh(k,r(O))}}disconnect(C,V,H){let K;const O=v(this._context),q=b(O);if(C===void 0)K=Yy(this,q);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw u();K=Fy(this,q,C)}else{if(V!==void 0&&(V<0||V>=this.numberOfOutputs)||Uo(C)&&H!==void 0&&(H<0||H>=C.numberOfInputs))throw u();if(K=Xy(this,q,C,V,H),K.length===0)throw h()}for(const Y of K){const k=m([this],Y);xh(k,p)}}},Qy=(l,n,s,r,u,h,c,p,m,d,v,_,S)=>(T,b,E,x=null,C=null)=>{const V=E.value,H=new sy(V),K=b?r(H):null,O={get defaultValue(){return V},get maxValue(){return x===null?E.maxValue:x},get minValue(){return C===null?E.minValue:C},get value(){return E.value},set value(q){E.value=q,O.setValueAtTime(q,T.context.currentTime)},cancelAndHoldAtTime(q){if(typeof E.cancelAndHoldAtTime=="function")K===null&&H.flush(T.context.currentTime),H.add(u(q)),E.cancelAndHoldAtTime(q);else{const Y=Array.from(H).pop();K===null&&H.flush(T.context.currentTime),H.add(u(q));const k=Array.from(H).pop();E.cancelScheduledValues(q),Y!==k&&k!==void 0&&(k.type==="exponentialRampToValue"?E.exponentialRampToValueAtTime(k.value,k.endTime):k.type==="linearRampToValue"?E.linearRampToValueAtTime(k.value,k.endTime):k.type==="setValue"?E.setValueAtTime(k.value,k.startTime):k.type==="setValueCurve"&&E.setValueCurveAtTime(k.values,k.startTime,k.duration))}return O},cancelScheduledValues(q){return K===null&&H.flush(T.context.currentTime),H.add(h(q)),E.cancelScheduledValues(q),O},exponentialRampToValueAtTime(q,Y){if(q===0)throw new RangeError;if(!Number.isFinite(Y)||Y<0)throw new RangeError;const k=T.context.currentTime;return K===null&&H.flush(k),Array.from(H).length===0&&(H.add(d(V,k)),E.setValueAtTime(V,k)),H.add(c(q,Y)),E.exponentialRampToValueAtTime(q,Y),O},linearRampToValueAtTime(q,Y){const k=T.context.currentTime;return K===null&&H.flush(k),Array.from(H).length===0&&(H.add(d(V,k)),E.setValueAtTime(V,k)),H.add(p(q,Y)),E.linearRampToValueAtTime(q,Y),O},setTargetAtTime(q,Y,k){return K===null&&H.flush(T.context.currentTime),H.add(m(q,Y,k)),E.setTargetAtTime(q,Y,k),O},setValueAtTime(q,Y){return K===null&&H.flush(T.context.currentTime),H.add(d(q,Y)),E.setValueAtTime(q,Y),O},setValueCurveAtTime(q,Y,k){const st=q instanceof Float32Array?q:new Float32Array(q);if(_!==null&&_.name==="webkitAudioContext"){const nt=Y+k,tt=T.context.sampleRate,Q=Math.ceil(Y*tt),ft=Math.floor(nt*tt),ht=ft-Q,vt=new Float32Array(ht);for(let F=0;F<ht;F+=1){const rt=(st.length-1)/k*((Q+F)/tt-Y),lt=Math.floor(rt),A=Math.ceil(rt);vt[F]=lt===A?st[lt]:(1-(rt-lt))*st[lt]+(1-(A-rt))*st[A]}K===null&&H.flush(T.context.currentTime),H.add(v(vt,Y,k)),E.setValueCurveAtTime(vt,Y,k);const R=ft/tt;R<nt&&S(O,vt[vt.length-1],R),S(O,st[st.length-1],nt)}else K===null&&H.flush(T.context.currentTime),H.add(v(st,Y,k)),E.setValueCurveAtTime(st,Y,k);return O}};return s.set(O,E),n.set(O,T),l(O,K),O},Py=l=>({replay(n){for(const s of l)if(s.type==="exponentialRampToValue"){const{endTime:r,value:u}=s;n.exponentialRampToValueAtTime(u,r)}else if(s.type==="linearRampToValue"){const{endTime:r,value:u}=s;n.linearRampToValueAtTime(u,r)}else if(s.type==="setTarget"){const{startTime:r,target:u,timeConstant:h}=s;n.setTargetAtTime(u,r,h)}else if(s.type==="setValue"){const{startTime:r,value:u}=s;n.setValueAtTime(u,r)}else if(s.type==="setValueCurve"){const{duration:r,startTime:u,values:h}=s;n.setValueCurveAtTime(h,u,r)}else throw new Error("Can't apply an unknown automation.")}});class Xg{constructor(n){this._map=new Map(n)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(n,s=null){return this._map.forEach((r,u)=>n.call(s,r,u,this))}get(n){return this._map.get(n)}has(n){return this._map.has(n)}keys(){return this._map.keys()}values(){return this._map.values()}}const Wy={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Ky=(l,n,s,r,u,h,c,p,m,d,v,_,S,T)=>class extends n{constructor(E,x,C){var V;const H=p(E),K=m(H),O=v({...Wy,...C});S(O);const q=Oh.get(H),Y=q?.get(x),k=K||H.state!=="closed"?H:(V=c(H))!==null&&V!==void 0?V:H,st=u(k,K?null:E.baseLatency,d,x,Y,O),nt=K?r(x,O,Y):null;super(E,!0,st,nt);const tt=[];st.parameters.forEach((ft,ht)=>{const vt=s(this,K,ft);tt.push([ht,vt])}),this._nativeAudioWorkletNode=st,this._onprocessorerror=null,this._parameters=new Xg(tt),K&&l(H,this);const{activeInputs:Q}=h(this);_(st,Q)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(E){const x=typeof E=="function"?T(this,E):null;this._nativeAudioWorkletNode.onprocessorerror=x;const C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===x?E:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Lo(l,n,s,r,u){if(typeof l.copyFromChannel=="function")n[s].byteLength===0&&(n[s]=new Float32Array(128)),l.copyFromChannel(n[s],r,u);else{const h=l.getChannelData(r);if(n[s].byteLength===0)n[s]=h.slice(u,u+128);else{const c=new Float32Array(h.buffer,u*Float32Array.BYTES_PER_ELEMENT,128);n[s].set(c)}}}const Zg=(l,n,s,r,u)=>{typeof l.copyToChannel=="function"?n[s].byteLength!==0&&l.copyToChannel(n[s],r,u):n[s].byteLength!==0&&l.getChannelData(r).set(n[s],u)},qo=(l,n)=>{const s=[];for(let r=0;r<l;r+=1){const u=[],h=typeof n=="number"?n:n[r];for(let c=0;c<h;c+=1)u.push(new Float32Array(128));s.push(u)}return s},Jy=(l,n)=>{const s=Fn(Ch,l),r=ce(n);return Fn(s,r)},$y=async(l,n,s,r,u,h,c)=>{const p=n===null?Math.ceil(l.context.length/128)*128:n.length,m=r.channelCount*r.numberOfInputs,d=u.reduce((x,C)=>x+C,0),v=d===0?null:s.createBuffer(d,p,s.sampleRate);if(h===void 0)throw new Error("Missing the processor constructor.");const _=tn(l),S=await Jy(s,l),T=qo(r.numberOfInputs,r.channelCount),b=qo(r.numberOfOutputs,u),E=Array.from(l.parameters.keys()).reduce((x,C)=>({...x,[C]:new Float32Array(128)}),{});for(let x=0;x<p;x+=128){if(r.numberOfInputs>0&&n!==null)for(let C=0;C<r.numberOfInputs;C+=1)for(let V=0;V<r.channelCount;V+=1)Lo(n,T[C],V,V,x);h.parameterDescriptors!==void 0&&n!==null&&h.parameterDescriptors.forEach(({name:C},V)=>{Lo(n,E,C,m+V,x)});for(let C=0;C<r.numberOfInputs;C+=1)for(let V=0;V<u[C];V+=1)b[C][V].byteLength===0&&(b[C][V]=new Float32Array(128));try{const C=T.map((H,K)=>_.activeInputs[K].size===0?[]:H),V=c(x/s.sampleRate,s.sampleRate,()=>S.process(C,b,E));if(v!==null)for(let H=0,K=0;H<r.numberOfOutputs;H+=1){for(let O=0;O<u[H];O+=1)Zg(v,b[H],O,K+O,x);K+=u[H]}if(!V)break}catch(C){l.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return v},t1=(l,n,s,r,u,h,c,p,m,d,v,_,S,T,b,E)=>(x,C,V)=>{const H=new WeakMap;let K=null;const O=async(q,Y)=>{let k=v(q),st=null;const nt=We(k,Y),tt=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(_===null){const Q=tt.reduce((R,F)=>R+F,0),ft=u(Y,{channelCount:Math.max(1,Q),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,Q)}),ht=[];for(let R=0;R<q.numberOfOutputs;R+=1)ht.push(r(Y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:tt[R]}));const vt=c(Y,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});vt.connect=n.bind(null,ht),vt.disconnect=m.bind(null,ht),st=[ft,ht,vt]}else nt||(k=new _(Y,x));if(H.set(Y,st===null?k:st[2]),st!==null){if(K===null){if(V===void 0)throw new Error("Missing the processor constructor.");if(S===null)throw new Error("Missing the native OfflineAudioContext constructor.");const F=q.channelCount*q.numberOfInputs,rt=V.parameterDescriptors===void 0?0:V.parameterDescriptors.length,lt=F+rt;K=$y(q,lt===0?null:await(async()=>{const j=new S(lt,Math.ceil(q.context.length/128)*128,Y.sampleRate),W=[],it=[];for(let mt=0;mt<C.numberOfInputs;mt+=1)W.push(c(j,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),it.push(u(j,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const at=await Promise.all(Array.from(q.parameters.values()).map(async mt=>{const Dt=h(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:mt.value});return await T(j,mt,Dt.offset),Dt})),dt=r(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,F+rt)});for(let mt=0;mt<C.numberOfInputs;mt+=1){W[mt].connect(it[mt]);for(let Dt=0;Dt<C.channelCount;Dt+=1)it[mt].connect(dt,Dt,mt*C.channelCount+Dt)}for(const[mt,Dt]of at.entries())Dt.connect(dt,0,F+mt),Dt.start(0);return dt.connect(j.destination),await Promise.all(W.map(mt=>b(q,j,mt))),E(j)})(),Y,C,tt,V,d)}const Q=await K,ft=s(Y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[ht,vt,R]=st;Q!==null&&(ft.buffer=Q,ft.start(0)),ft.connect(ht);for(let F=0,rt=0;F<q.numberOfOutputs;F+=1){const lt=vt[F];for(let A=0;A<tt[F];A+=1)ht.connect(lt,rt+A,A);rt+=tt[F]}return R}if(nt)for(const[Q,ft]of q.parameters.entries())await l(Y,ft,k.parameters.get(Q));else for(const[Q,ft]of q.parameters.entries())await T(Y,ft,k.parameters.get(Q));return await b(q,Y,k),k};return{render(q,Y){p(Y,q);const k=H.get(Y);return k!==void 0?Promise.resolve(k):O(q,Y)}}},e1=(l,n,s,r,u,h,c,p,m,d,v,_,S,T,b,E,x,C,V,H)=>class extends b{constructor(O,q){super(O,q),this._nativeContext=O,this._audioWorklet=l===void 0?void 0:{addModule:(Y,k)=>l(this,Y,k)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new n(this)}createBiquadFilter(){return new u(this)}createBuffer(O,q,Y){return new s({length:q,numberOfChannels:O,sampleRate:Y})}createBufferSource(){return new r(this)}createChannelMerger(O=6){return new h(this,{numberOfInputs:O})}createChannelSplitter(O=6){return new c(this,{numberOfOutputs:O})}createConstantSource(){return new p(this)}createConvolver(){return new m(this)}createDelay(O=1){return new v(this,{maxDelayTime:O})}createDynamicsCompressor(){return new _(this)}createGain(){return new S(this)}createIIRFilter(O,q){return new T(this,{feedback:q,feedforward:O})}createOscillator(){return new E(this)}createPanner(){return new x(this)}createPeriodicWave(O,q,Y={disableNormalization:!1}){return new C(this,{...Y,imag:q,real:O})}createStereoPanner(){return new V(this)}createWaveShaper(){return new H(this)}decodeAudioData(O,q,Y){return d(this._nativeContext,O).then(k=>(typeof q=="function"&&q(k),k),k=>{throw typeof Y=="function"&&Y(k),k})}},n1={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},i1=(l,n,s,r,u,h,c,p)=>class extends l{constructor(d,v){const _=h(d),S={...n1,...v},T=u(_,S),b=c(_),E=b?s():null;super(d,!1,T,E),this._Q=n(this,b,T.Q,$e,ln),this._detune=n(this,b,T.detune,1200*Math.log2($e),-1200*Math.log2($e)),this._frequency=n(this,b,T.frequency,d.sampleRate/2,0),this._gain=n(this,b,T.gain,40*Math.log10($e),ln),this._nativeBiquadFilterNode=T,p(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,v,_){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,v,_)}catch(S){throw S.code===11?r():S}if(d.length!==v.length||v.length!==_.length)throw r()}},s1=(l,n,s,r,u)=>()=>{const h=new WeakMap,c=async(p,m)=>{let d=s(p);const v=We(d,m);if(!v){const _={Q:d.Q.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,gain:d.gain.value,type:d.type};d=n(m,_)}return h.set(m,d),v?(await l(m,p.Q,d.Q),await l(m,p.detune,d.detune),await l(m,p.frequency,d.frequency),await l(m,p.gain,d.gain)):(await r(m,p.Q,d.Q),await r(m,p.detune,d.detune),await r(m,p.frequency,d.frequency),await r(m,p.gain,d.gain)),await u(p,m,d),d};return{render(p,m){const d=h.get(m);return d!==void 0?Promise.resolve(d):c(p,m)}}},a1=(l,n)=>(s,r)=>{const u=n.get(s);if(u!==void 0)return u;const h=l.get(s);if(h!==void 0)return h;try{const c=r();return c instanceof Promise?(l.set(s,c),c.catch(()=>!1).then(p=>(l.delete(s),n.set(s,p),p))):(n.set(s,c),c)}catch{return n.set(s,!1),!1}},r1={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},l1=(l,n,s,r,u)=>class extends l{constructor(c,p){const m=r(c),d={...r1,...p},v=s(m,d),_=u(m)?n():null;super(c,!1,v,_)}},o1=(l,n,s)=>()=>{const r=new WeakMap,u=async(h,c)=>{let p=n(h);if(!We(p,c)){const d={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,numberOfInputs:p.numberOfInputs};p=l(c,d)}return r.set(c,p),await s(h,c,p),p};return{render(h,c){const p=r.get(c);return p!==void 0?Promise.resolve(p):u(h,c)}}},u1={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},c1=(l,n,s,r,u,h)=>class extends l{constructor(p,m){const d=r(p),v=h({...u1,...m}),_=s(d,v),S=u(d)?n():null;super(p,!1,_,S)}},h1=(l,n,s)=>()=>{const r=new WeakMap,u=async(h,c)=>{let p=n(h);if(!We(p,c)){const d={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,numberOfOutputs:p.numberOfOutputs};p=l(c,d)}return r.set(c,p),await s(h,c,p),p};return{render(h,c){const p=r.get(c);return p!==void 0?Promise.resolve(p):u(h,c)}}},f1=l=>(n,s,r)=>l(s,n,r),d1=l=>(n,s,r=0,u=0)=>{const h=n[r];if(h===void 0)throw l();return Bo(s)?h.connect(s,0,u):h.connect(s,0)},p1=l=>(n,s)=>{const r=l(n,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n.createBuffer(1,2,44100);return r.buffer=u,r.loop=!0,r.connect(s),r.start(),()=>{r.stop(),r.disconnect(s)}},m1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},g1=(l,n,s,r,u,h,c)=>class extends l{constructor(m,d){const v=u(m),_={...m1,...d},S=r(v,_),T=h(v),b=T?s():null;super(m,!1,S,b),this._constantSourceNodeRenderer=b,this._nativeConstantSourceNode=S,this._offset=n(this,T,S.offset,$e,ln),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(m){const d=typeof m=="function"?c(this,m):null;this._nativeConstantSourceNode.onended=d;const v=this._nativeConstantSourceNode.onended;this._onended=v!==null&&v===d?m:v}start(m=0){if(this._nativeConstantSourceNode.start(m),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=m),this.context.state!=="closed"){Ma(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),Ni(this)&&Pr(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(m=0){this._nativeConstantSourceNode.stop(m),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=m)}},v1=(l,n,s,r,u)=>()=>{const h=new WeakMap;let c=null,p=null;const m=async(d,v)=>{let _=s(d);const S=We(_,v);if(!S){const T={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,offset:_.offset.value};_=n(v,T),c!==null&&_.start(c),p!==null&&_.stop(p)}return h.set(v,_),S?await l(v,d.offset,_.offset):await r(v,d.offset,_.offset),await u(d,v,_),_};return{set start(d){c=d},set stop(d){p=d},render(d,v){const _=h.get(v);return _!==void 0?Promise.resolve(_):m(d,v)}}},_1=l=>n=>(l[0]=n,l[0]),y1={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},T1=(l,n,s,r,u,h)=>class extends l{constructor(p,m){const d=r(p),v={...y1,...m},_=s(d,v),T=u(d)?n():null;super(p,!1,_,T),this._isBufferNullified=!1,this._nativeConvolverNode=_,v.buffer!==null&&h(this,v.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(p){if(this._nativeConvolverNode.buffer=p,p===null&&this._nativeConvolverNode.buffer!==null){const m=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=m.createBuffer(1,1,m.sampleRate),this._isBufferNullified=!0,h(this,0)}else this._isBufferNullified=!1,h(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(p){this._nativeConvolverNode.normalize=p}},S1=(l,n,s)=>()=>{const r=new WeakMap,u=async(h,c)=>{let p=n(h);if(!We(p,c)){const d={buffer:p.buffer,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,disableNormalization:!p.normalize};p=l(c,d)}return r.set(c,p),La(p)?await s(h,c,p.inputs[0]):await s(h,c,p),p};return{render(h,c){const p=r.get(c);return p!==void 0?Promise.resolve(p):u(h,c)}}},b1=(l,n)=>(s,r,u)=>{if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new n(s,r,u)}catch(h){throw h.name==="SyntaxError"?l():h}},x1=()=>new DOMException("","DataCloneError"),Tg=l=>{const{port1:n,port2:s}=new MessageChannel;return new Promise(r=>{const u=()=>{s.onmessage=null,n.close(),s.close(),r()};s.onmessage=()=>u();try{n.postMessage(l,[l])}catch{}finally{u()}})},A1=(l,n,s,r,u,h,c,p,m,d,v)=>(_,S)=>{const T=c(_)?_:h(_);if(u.has(S)){const b=s();return Promise.reject(b)}try{u.add(S)}catch{}return n(m,()=>m(T))?T.decodeAudioData(S).then(b=>(Tg(S).catch(()=>{}),n(p,()=>p(b))||v(b),l.add(b),b)):new Promise((b,E)=>{const x=async()=>{try{await Tg(S)}catch{}},C=V=>{E(V),x()};try{T.decodeAudioData(S,V=>{typeof V.copyFromChannel!="function"&&(d(V),jh(V)),l.add(V),x().then(()=>b(V))},V=>{C(V===null?r():V)})}catch(V){C(V)}})},E1=(l,n,s,r,u,h,c,p)=>(m,d)=>{const v=n.get(m);if(v===void 0)throw new Error("Missing the expected cycle count.");const _=h(m.context),S=p(_);if(v===d){if(n.delete(m),!S&&c(m)){const T=r(m),{outputs:b}=s(m);for(const E of b)if(Kr(E)){const x=r(E[0]);l(T,x,E[1],E[2])}else{const x=u(E[0]);T.connect(x,E[1])}}}else n.set(m,v-d)},w1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},N1=(l,n,s,r,u,h,c)=>class extends l{constructor(m,d){const v=u(m),_={...w1,...d},S=r(v,_),T=h(v),b=T?s(_.maxDelayTime):null;super(m,!1,S,b),this._delayTime=n(this,T,S.delayTime),c(this,_.maxDelayTime)}get delayTime(){return this._delayTime}},O1=(l,n,s,r,u)=>h=>{const c=new WeakMap,p=async(m,d)=>{let v=s(m);const _=We(v,d);if(!_){const S={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,delayTime:v.delayTime.value,maxDelayTime:h};v=n(d,S)}return c.set(d,v),_?await l(d,m.delayTime,v.delayTime):await r(d,m.delayTime,v.delayTime),await u(m,d,v),v};return{render(m,d){const v=c.get(d);return v!==void 0?Promise.resolve(v):p(m,d)}}},C1=l=>(n,s,r,u)=>l(n[u],h=>h[0]===s&&h[1]===r),D1=l=>(n,s)=>{l(n).delete(s)},R1=l=>"delayTime"in l,M1=(l,n,s)=>function r(u,h){const c=Uo(h)?h:s(l,h);if(R1(c))return[];if(u[0]===c)return[u];if(u.includes(c))return[];const{outputs:p}=n(c);return Array.from(p).map(m=>r([...u,c],m[0])).reduce((m,d)=>m.concat(d),[])},xo=(l,n,s)=>{const r=n[s];if(r===void 0)throw l();return r},k1=l=>(n,s=void 0,r=void 0,u=0)=>s===void 0?n.forEach(h=>h.disconnect()):typeof s=="number"?xo(l,n,s).disconnect():Bo(s)?r===void 0?n.forEach(h=>h.disconnect(s)):u===void 0?xo(l,n,r).disconnect(s,0):xo(l,n,r).disconnect(s,0,u):r===void 0?n.forEach(h=>h.disconnect(s)):xo(l,n,r).disconnect(s,0),U1={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},z1=(l,n,s,r,u,h,c,p)=>class extends l{constructor(d,v){const _=h(d),S={...U1,...v},T=r(_,S),b=c(_),E=b?s():null;super(d,!1,T,E),this._attack=n(this,b,T.attack),this._knee=n(this,b,T.knee),this._nativeDynamicsCompressorNode=T,this._ratio=n(this,b,T.ratio),this._release=n(this,b,T.release),this._threshold=n(this,b,T.threshold),p(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const v=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=v,u()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const v=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,d==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=v,u()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},V1=(l,n,s,r,u)=>()=>{const h=new WeakMap,c=async(p,m)=>{let d=s(p);const v=We(d,m);if(!v){const _={attack:d.attack.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,knee:d.knee.value,ratio:d.ratio.value,release:d.release.value,threshold:d.threshold.value};d=n(m,_)}return h.set(m,d),v?(await l(m,p.attack,d.attack),await l(m,p.knee,d.knee),await l(m,p.ratio,d.ratio),await l(m,p.release,d.release),await l(m,p.threshold,d.threshold)):(await r(m,p.attack,d.attack),await r(m,p.knee,d.knee),await r(m,p.ratio,d.ratio),await r(m,p.release,d.release),await r(m,p.threshold,d.threshold)),await u(p,m,d),d};return{render(p,m){const d=h.get(m);return d!==void 0?Promise.resolve(d):c(p,m)}}},B1=()=>new DOMException("","EncodingError"),L1=l=>n=>new Promise((s,r)=>{if(l===null){r(new SyntaxError);return}const u=l.document.head;if(u===null)r(new SyntaxError);else{const h=l.document.createElement("script"),c=new Blob([n],{type:"application/javascript"}),p=URL.createObjectURL(c),m=l.onerror,d=()=>{l.onerror=m,URL.revokeObjectURL(p)};l.onerror=(v,_,S,T,b)=>{if(_===p||_===l.location.href&&S===1&&T===1)return d(),r(b),!1;if(m!==null)return m(v,_,S,T,b)},h.onerror=()=>{d(),r(new SyntaxError)},h.onload=()=>{d(),s()},h.src=p,h.type="module",u.appendChild(h)}}),q1=l=>class{constructor(s){this._nativeEventTarget=s,this._listeners=new WeakMap}addEventListener(s,r,u){if(r!==null){let h=this._listeners.get(r);h===void 0&&(h=l(this,r),typeof r=="function"&&this._listeners.set(r,h)),this._nativeEventTarget.addEventListener(s,h,u)}}dispatchEvent(s){return this._nativeEventTarget.dispatchEvent(s)}removeEventListener(s,r,u){const h=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(s,h===void 0?null:h,u)}},j1=l=>(n,s,r)=>{Object.defineProperties(l,{currentFrame:{configurable:!0,get(){return Math.round(n*s)}},currentTime:{configurable:!0,get(){return n}}});try{return r()}finally{l!==null&&(delete l.currentFrame,delete l.currentTime)}},I1=l=>async n=>{try{const s=await fetch(n);if(s.ok)return[await s.text(),s.url]}catch{}throw l()},H1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},G1=(l,n,s,r,u,h)=>class extends l{constructor(p,m){const d=u(p),v={...H1,...m},_=r(d,v),S=h(d),T=S?s():null;super(p,!1,_,T),this._gain=n(this,S,_.gain,$e,ln)}get gain(){return this._gain}},Y1=(l,n,s,r,u)=>()=>{const h=new WeakMap,c=async(p,m)=>{let d=s(p);const v=We(d,m);if(!v){const _={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:d.gain.value};d=n(m,_)}return h.set(m,d),v?await l(m,p.gain,d.gain):await r(m,p.gain,d.gain),await u(p,m,d),d};return{render(p,m){const d=h.get(m);return d!==void 0?Promise.resolve(d):c(p,m)}}},F1=(l,n)=>s=>n(l,s),X1=l=>n=>{const s=l(n);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return s.renderer},Z1=l=>n=>{var s;return(s=l.get(n))!==null&&s!==void 0?s:0},Q1=l=>n=>{const s=l(n);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return s.renderer},P1=l=>n=>l.get(n),Be=()=>new DOMException("","InvalidStateError"),W1=l=>n=>{const s=l.get(n);if(s===void 0)throw Be();return s},K1=(l,n)=>s=>{let r=l.get(s);if(r!==void 0)return r;if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new n(1,1,44100),l.set(s,r),r},J1=l=>n=>{const s=l.get(n);if(s===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return s},Fo=()=>new DOMException("","InvalidAccessError"),$1=l=>{l.getFrequencyResponse=(n=>(s,r,u)=>{if(s.length!==r.length||r.length!==u.length)throw Fo();return n.call(l,s,r,u)})(l.getFrequencyResponse)},tT={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},eT=(l,n,s,r,u,h)=>class extends l{constructor(p,m){const d=r(p),v=u(d),_={...tT,...m},S=n(d,v?null:p.baseLatency,_),T=v?s(_.feedback,_.feedforward):null;super(p,!1,S,T),$1(S),this._nativeIIRFilterNode=S,h(this,1)}getFrequencyResponse(p,m,d){return this._nativeIIRFilterNode.getFrequencyResponse(p,m,d)}},Qg=(l,n,s,r,u,h,c,p,m,d,v)=>{const _=d.length;let S=p;for(let T=0;T<_;T+=1){let b=s[0]*d[T];for(let E=1;E<u;E+=1){const x=S-E&m-1;b+=s[E]*h[x],b-=l[E]*c[x]}for(let E=u;E<r;E+=1)b+=s[E]*h[S-E&m-1];for(let E=u;E<n;E+=1)b-=l[E]*c[S-E&m-1];h[S]=d[T],c[S]=b,S=S+1&m-1,v[T]=b}return S},nT=(l,n,s,r)=>{const u=s instanceof Float64Array?s:new Float64Array(s),h=r instanceof Float64Array?r:new Float64Array(r),c=u.length,p=h.length,m=Math.min(c,p);if(u[0]!==1){for(let b=0;b<c;b+=1)h[b]/=u[0];for(let b=1;b<p;b+=1)u[b]/=u[0]}const d=32,v=new Float32Array(d),_=new Float32Array(d),S=n.createBuffer(l.numberOfChannels,l.length,l.sampleRate),T=l.numberOfChannels;for(let b=0;b<T;b+=1){const E=l.getChannelData(b),x=S.getChannelData(b);v.fill(0),_.fill(0),Qg(u,c,h,p,m,v,_,0,d,E,x)}return S},iT=(l,n,s,r,u)=>(h,c)=>{const p=new WeakMap;let m=null;const d=async(v,_)=>{let S=null,T=n(v);const b=We(T,_);if(_.createIIRFilter===void 0?S=l(_,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):b||(T=_.createIIRFilter(c,h)),p.set(_,S===null?T:S),S!==null){if(m===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const x=new s(v.context.destination.channelCount,v.context.length,_.sampleRate);m=(async()=>{await r(v,x,x.destination);const C=await u(x);return nT(C,_,h,c)})()}const E=await m;return S.buffer=E,S.start(0),S}return await r(v,_,T),T};return{render(v,_){const S=p.get(_);return S!==void 0?Promise.resolve(S):d(v,_)}}},sT=(l,n,s,r,u,h)=>c=>(p,m)=>{const d=l.get(p);if(d===void 0){if(!c&&h(p)){const v=r(p),{outputs:_}=s(p);for(const S of _)if(Kr(S)){const T=r(S[0]);n(v,T,S[1],S[2])}else{const T=u(S[0]);v.disconnect(T,S[1])}}l.set(p,m)}else l.set(p,d+m)},aT=(l,n)=>s=>{const r=l.get(s);return n(r)||n(s)},rT=(l,n)=>s=>l.has(s)||n(s),lT=(l,n)=>s=>l.has(s)||n(s),oT=(l,n)=>s=>{const r=l.get(s);return n(r)||n(s)},uT=l=>n=>l!==null&&n instanceof l,cT=l=>n=>l!==null&&typeof l.AudioNode=="function"&&n instanceof l.AudioNode,hT=l=>n=>l!==null&&typeof l.AudioParam=="function"&&n instanceof l.AudioParam,fT=(l,n)=>s=>l(s)||n(s),dT=l=>n=>l!==null&&n instanceof l,pT=l=>l!==null&&l.isSecureContext,mT=(l,n,s,r)=>class extends l{constructor(h,c){const p=s(h),m=n(p,c);if(r(p))throw TypeError();super(h,!0,m,null),this._nativeMediaElementAudioSourceNode=m}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},gT={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},vT=(l,n,s,r)=>class extends l{constructor(h,c){const p=s(h);if(r(p))throw new TypeError;const m={...gT,...c},d=n(p,m);super(h,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},_T=(l,n,s,r)=>class extends l{constructor(h,c){const p=s(h),m=n(p,c);if(r(p))throw new TypeError;super(h,!0,m,null),this._nativeMediaStreamAudioSourceNode=m}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},yT=(l,n,s)=>class extends l{constructor(u,h){const c=s(u),p=n(c,h);super(u,!0,p,null)}},TT=(l,n,s,r,u,h)=>class extends s{constructor(p,m){super(p),this._nativeContext=p,Go.set(this,p),r(p)&&u.set(p,new Set),this._destination=new l(this,m),this._listener=n(this,p),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(p){const m=typeof p=="function"?h(this,p):null;this._nativeContext.onstatechange=m;const d=this._nativeContext.onstatechange;this._onstatechange=d!==null&&d===m?p:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Xr=l=>{const n=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const s=l.decodeAudioData(n.buffer,()=>{});return s===void 0?!1:(s.catch(()=>{}),!0)}catch{}return!1},ST=(l,n)=>(s,r,u)=>{const h=new Set;return s.connect=(c=>(p,m=0,d=0)=>{const v=h.size===0;if(n(p))return c.call(s,p,m,d),l(h,[p,m,d],_=>_[0]===p&&_[1]===m&&_[2]===d,!0),v&&r(),p;c.call(s,p,m),l(h,[p,m],_=>_[0]===p&&_[1]===m,!0),v&&r()})(s.connect),s.disconnect=(c=>(p,m,d)=>{const v=h.size>0;if(p===void 0)c.apply(s),h.clear();else if(typeof p=="number"){c.call(s,p);for(const S of h)S[1]===p&&h.delete(S)}else{n(p)?c.call(s,p,m,d):c.call(s,p,m);for(const S of h)S[0]===p&&(m===void 0||S[1]===m)&&(d===void 0||S[2]===d)&&h.delete(S)}const _=h.size===0;v&&_&&u()})(s.disconnect),s},de=(l,n,s)=>{const r=n[s];r!==void 0&&r!==l[s]&&(l[s]=r)},Me=(l,n)=>{de(l,n,"channelCount"),de(l,n,"channelCountMode"),de(l,n,"channelInterpretation")},Sg=l=>typeof l.getFloatTimeDomainData=="function",bT=l=>{l.getFloatTimeDomainData=n=>{const s=new Uint8Array(n.length);l.getByteTimeDomainData(s);const r=Math.max(s.length,l.fftSize);for(let u=0;u<r;u+=1)n[u]=(s[u]-128)*.0078125;return n}},xT=(l,n)=>(s,r)=>{const u=s.createAnalyser();if(Me(u,r),!(r.maxDecibels>r.minDecibels))throw n();return de(u,r,"fftSize"),de(u,r,"maxDecibels"),de(u,r,"minDecibels"),de(u,r,"smoothingTimeConstant"),l(Sg,()=>Sg(u))||bT(u),u},AT=l=>l===null?null:l.hasOwnProperty("AudioBuffer")?l.AudioBuffer:null,ye=(l,n,s)=>{const r=n[s];r!==void 0&&r!==l[s].value&&(l[s].value=r)},ET=l=>{l.start=(n=>{let s=!1;return(r=0,u=0,h)=>{if(s)throw Be();n.call(l,r,u,h),s=!0}})(l.start)},Gh=l=>{l.start=(n=>(s=0,r=0,u)=>{if(typeof u=="number"&&u<0||r<0||s<0)throw new RangeError("The parameters can't be negative.");n.call(l,s,r,u)})(l.start)},Yh=l=>{l.stop=(n=>(s=0)=>{if(s<0)throw new RangeError("The parameter can't be negative.");n.call(l,s)})(l.stop)},wT=(l,n,s,r,u,h,c,p,m,d,v)=>(_,S)=>{const T=_.createBufferSource();return Me(T,S),ye(T,S,"playbackRate"),de(T,S,"buffer"),de(T,S,"loop"),de(T,S,"loopEnd"),de(T,S,"loopStart"),n(s,()=>s(_))||ET(T),n(r,()=>r(_))||m(T),n(u,()=>u(_))||d(T,_),n(h,()=>h(_))||Gh(T),n(c,()=>c(_))||v(T,_),n(p,()=>p(_))||Yh(T),l(_,T),T},NT=l=>l===null?null:l.hasOwnProperty("AudioContext")?l.AudioContext:l.hasOwnProperty("webkitAudioContext")?l.webkitAudioContext:null,OT=(l,n)=>(s,r,u)=>{const h=s.destination;if(h.channelCount!==r)try{h.channelCount=r}catch{}u&&h.channelCountMode!=="explicit"&&(h.channelCountMode="explicit"),h.maxChannelCount===0&&Object.defineProperty(h,"maxChannelCount",{value:r});const c=l(s,{channelCount:r,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,gain:1});return n(c,"channelCount",p=>()=>p.call(c),p=>m=>{p.call(c,m);try{h.channelCount=m}catch(d){if(m>h.maxChannelCount)throw d}}),n(c,"channelCountMode",p=>()=>p.call(c),p=>m=>{p.call(c,m),h.channelCountMode=m}),n(c,"channelInterpretation",p=>()=>p.call(c),p=>m=>{p.call(c,m),h.channelInterpretation=m}),Object.defineProperty(c,"maxChannelCount",{get:()=>h.maxChannelCount}),c.connect(h),c},CT=l=>l===null?null:l.hasOwnProperty("AudioWorkletNode")?l.AudioWorkletNode:null,DT=l=>{const{port1:n}=new MessageChannel;try{n.postMessage(l)}finally{n.close()}},RT=(l,n,s,r,u)=>(h,c,p,m,d,v)=>{if(p!==null)try{const _=new p(h,m,v),S=new Map;let T=null;if(Object.defineProperties(_,{channelCount:{get:()=>v.channelCount,set:()=>{throw l()}},channelCountMode:{get:()=>"explicit",set:()=>{throw l()}},onprocessorerror:{get:()=>T,set:b=>{typeof T=="function"&&_.removeEventListener("processorerror",T),T=typeof b=="function"?b:null,typeof T=="function"&&_.addEventListener("processorerror",T)}}}),_.addEventListener=(b=>(...E)=>{if(E[0]==="processorerror"){const x=typeof E[1]=="function"?E[1]:typeof E[1]=="object"&&E[1]!==null&&typeof E[1].handleEvent=="function"?E[1].handleEvent:null;if(x!==null){const C=S.get(E[1]);C!==void 0?E[1]=C:(E[1]=V=>{V.type==="error"?(Object.defineProperties(V,{type:{value:"processorerror"}}),x(V)):x(new ErrorEvent(E[0],{...V}))},S.set(x,E[1]))}}return b.call(_,"error",E[1],E[2]),b.call(_,...E)})(_.addEventListener),_.removeEventListener=(b=>(...E)=>{if(E[0]==="processorerror"){const x=S.get(E[1]);x!==void 0&&(S.delete(E[1]),E[1]=x)}return b.call(_,"error",E[1],E[2]),b.call(_,E[0],E[1],E[2])})(_.removeEventListener),v.numberOfOutputs!==0){const b=s(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return _.connect(b).connect(h.destination),u(_,()=>b.disconnect(),()=>b.connect(h.destination))}return _}catch(_){throw _.code===11?r():_}if(d===void 0)throw r();return DT(v),n(h,c,d,v)},Pg=(l,n)=>l===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(l*n))))),MT=l=>new Promise((n,s)=>{const{port1:r,port2:u}=new MessageChannel;r.onmessage=({data:h})=>{r.close(),u.close(),n(h)},r.onmessageerror=({data:h})=>{r.close(),u.close(),s(h)},u.postMessage(l)}),kT=async(l,n)=>{const s=await MT(n);return new l(s)},UT=(l,n,s,r)=>{let u=Ch.get(l);u===void 0&&(u=new WeakMap,Ch.set(l,u));const h=kT(s,r);return u.set(n,h),h},zT=(l,n,s,r,u,h,c,p,m,d,v,_,S)=>(T,b,E,x)=>{if(x.numberOfInputs===0&&x.numberOfOutputs===0)throw m();const C=Array.isArray(x.outputChannelCount)?x.outputChannelCount:Array.from(x.outputChannelCount);if(C.some(pt=>pt<1))throw m();if(C.length!==x.numberOfOutputs)throw n();if(x.channelCountMode!=="explicit")throw m();const V=x.channelCount*x.numberOfInputs,H=C.reduce((pt,At)=>pt+At,0),K=E.parameterDescriptors===void 0?0:E.parameterDescriptors.length;if(V+K>6||H>6)throw m();const O=new MessageChannel,q=[],Y=[];for(let pt=0;pt<x.numberOfInputs;pt+=1)q.push(c(T,{channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,gain:1})),Y.push(u(T,{channelCount:x.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:x.channelCount}));const k=[];if(E.parameterDescriptors!==void 0)for(const{defaultValue:pt,maxValue:At,minValue:ot,name:ct}of E.parameterDescriptors){const X=h(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:x.parameterData[ct]!==void 0?x.parameterData[ct]:pt===void 0?0:pt});Object.defineProperties(X.offset,{defaultValue:{get:()=>pt===void 0?0:pt},maxValue:{get:()=>At===void 0?$e:At},minValue:{get:()=>ot===void 0?ln:ot}}),k.push(X)}const st=r(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,V+K)}),nt=Pg(b,T.sampleRate),tt=p(T,nt,V+K,Math.max(1,H)),Q=u(T,{channelCount:Math.max(1,H),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,H)}),ft=[];for(let pt=0;pt<x.numberOfOutputs;pt+=1)ft.push(r(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[pt]}));for(let pt=0;pt<x.numberOfInputs;pt+=1){q[pt].connect(Y[pt]);for(let At=0;At<x.channelCount;At+=1)Y[pt].connect(st,At,pt*x.channelCount+At)}const ht=new Xg(E.parameterDescriptors===void 0?[]:E.parameterDescriptors.map(({name:pt},At)=>{const ot=k[At];return ot.connect(st,0,V+At),ot.start(0),[pt,ot.offset]}));st.connect(tt);let vt=x.channelInterpretation,R=null;const F=x.numberOfOutputs===0?[tt]:ft,rt={get bufferSize(){return nt},get channelCount(){return x.channelCount},set channelCount(pt){throw s()},get channelCountMode(){return x.channelCountMode},set channelCountMode(pt){throw s()},get channelInterpretation(){return vt},set channelInterpretation(pt){for(const At of q)At.channelInterpretation=pt;vt=pt},get context(){return tt.context},get inputs(){return q},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get onprocessorerror(){return R},set onprocessorerror(pt){typeof R=="function"&&rt.removeEventListener("processorerror",R),R=typeof pt=="function"?pt:null,typeof R=="function"&&rt.addEventListener("processorerror",R)},get parameters(){return ht},get port(){return O.port2},addEventListener(...pt){return tt.addEventListener(pt[0],pt[1],pt[2])},connect:l.bind(null,F),disconnect:d.bind(null,F),dispatchEvent(...pt){return tt.dispatchEvent(pt[0])},removeEventListener(...pt){return tt.removeEventListener(pt[0],pt[1],pt[2])}},lt=new Map;O.port1.addEventListener=(pt=>(...At)=>{if(At[0]==="message"){const ot=typeof At[1]=="function"?At[1]:typeof At[1]=="object"&&At[1]!==null&&typeof At[1].handleEvent=="function"?At[1].handleEvent:null;if(ot!==null){const ct=lt.get(At[1]);ct!==void 0?At[1]=ct:(At[1]=X=>{v(T.currentTime,T.sampleRate,()=>ot(X))},lt.set(ot,At[1]))}}return pt.call(O.port1,At[0],At[1],At[2])})(O.port1.addEventListener),O.port1.removeEventListener=(pt=>(...At)=>{if(At[0]==="message"){const ot=lt.get(At[1]);ot!==void 0&&(lt.delete(At[1]),At[1]=ot)}return pt.call(O.port1,At[0],At[1],At[2])})(O.port1.removeEventListener);let A=null;Object.defineProperty(O.port1,"onmessage",{get:()=>A,set:pt=>{typeof A=="function"&&O.port1.removeEventListener("message",A),A=typeof pt=="function"?pt:null,typeof A=="function"&&(O.port1.addEventListener("message",A),O.port1.start())}}),E.prototype.port=O.port1;let j=null;UT(T,rt,E,x).then(pt=>j=pt);const it=qo(x.numberOfInputs,x.channelCount),at=qo(x.numberOfOutputs,C),dt=E.parameterDescriptors===void 0?[]:E.parameterDescriptors.reduce((pt,{name:At})=>({...pt,[At]:new Float32Array(128)}),{});let mt=!0;const Dt=()=>{x.numberOfOutputs>0&&tt.disconnect(Q);for(let pt=0,At=0;pt<x.numberOfOutputs;pt+=1){const ot=ft[pt];for(let ct=0;ct<C[pt];ct+=1)Q.disconnect(ot,At+ct,ct);At+=C[pt]}},ut=new Map;tt.onaudioprocess=({inputBuffer:pt,outputBuffer:At})=>{if(j!==null){const ot=_(rt);for(let ct=0;ct<nt;ct+=128){for(let X=0;X<x.numberOfInputs;X+=1)for(let bt=0;bt<x.channelCount;bt+=1)Lo(pt,it[X],bt,bt,ct);E.parameterDescriptors!==void 0&&E.parameterDescriptors.forEach(({name:X},bt)=>{Lo(pt,dt,X,V+bt,ct)});for(let X=0;X<x.numberOfInputs;X+=1)for(let bt=0;bt<C[X];bt+=1)at[X][bt].byteLength===0&&(at[X][bt]=new Float32Array(128));try{const X=it.map((yt,Ut)=>{if(ot[Ut].size>0)return ut.set(Ut,nt/128),yt;const Yt=ut.get(Ut);return Yt===void 0?[]:(yt.every(Fe=>Fe.every(ue=>ue===0))&&(Yt===1?ut.delete(Ut):ut.set(Ut,Yt-1)),yt)});mt=v(T.currentTime+ct/T.sampleRate,T.sampleRate,()=>j.process(X,at,dt));for(let yt=0,Ut=0;yt<x.numberOfOutputs;yt+=1){for(let Rt=0;Rt<C[yt];Rt+=1)Zg(At,at[yt],Rt,Ut+Rt,ct);Ut+=C[yt]}}catch(X){mt=!1,rt.dispatchEvent(new ErrorEvent("processorerror",{colno:X.colno,filename:X.filename,lineno:X.lineno,message:X.message}))}if(!mt){for(let X=0;X<x.numberOfInputs;X+=1){q[X].disconnect(Y[X]);for(let bt=0;bt<x.channelCount;bt+=1)Y[ct].disconnect(st,bt,X*x.channelCount+bt)}if(E.parameterDescriptors!==void 0){const X=E.parameterDescriptors.length;for(let bt=0;bt<X;bt+=1){const yt=k[bt];yt.disconnect(st,0,V+bt),yt.stop()}}st.disconnect(tt),tt.onaudioprocess=null,Zt?Dt():Ce();break}}}};let Zt=!1;const oe=c(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ye=()=>tt.connect(oe).connect(T.destination),Ce=()=>{tt.disconnect(oe),oe.disconnect()},qe=()=>{if(mt){Ce(),x.numberOfOutputs>0&&tt.connect(Q);for(let pt=0,At=0;pt<x.numberOfOutputs;pt+=1){const ot=ft[pt];for(let ct=0;ct<C[pt];ct+=1)Q.connect(ot,At+ct,ct);At+=C[pt]}}Zt=!0},Vn=()=>{mt&&(Ye(),Dt()),Zt=!1};return Ye(),S(rt,qe,Vn)},Wg=(l,n)=>{const s=l.createBiquadFilter();return Me(s,n),ye(s,n,"Q"),ye(s,n,"detune"),ye(s,n,"frequency"),ye(s,n,"gain"),de(s,n,"type"),s},VT=(l,n)=>(s,r)=>{const u=s.createChannelMerger(r.numberOfInputs);return l!==null&&l.name==="webkitAudioContext"&&n(s,u),Me(u,r),u},BT=l=>{const n=l.numberOfOutputs;Object.defineProperty(l,"channelCount",{get:()=>n,set:s=>{if(s!==n)throw Be()}}),Object.defineProperty(l,"channelCountMode",{get:()=>"explicit",set:s=>{if(s!=="explicit")throw Be()}}),Object.defineProperty(l,"channelInterpretation",{get:()=>"discrete",set:s=>{if(s!=="discrete")throw Be()}})},Jr=(l,n)=>{const s=l.createChannelSplitter(n.numberOfOutputs);return Me(s,n),BT(s),s},LT=(l,n,s,r,u)=>(h,c)=>{if(h.createConstantSource===void 0)return s(h,c);const p=h.createConstantSource();return Me(p,c),ye(p,c,"offset"),n(r,()=>r(h))||Gh(p),n(u,()=>u(h))||Yh(p),l(h,p),p},qa=(l,n)=>(l.connect=n.connect.bind(n),l.disconnect=n.disconnect.bind(n),l),qT=(l,n,s,r)=>(u,{offset:h,...c})=>{const p=u.createBuffer(1,2,44100),m=n(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=s(u,{...c,gain:h}),v=p.getChannelData(0);v[0]=1,v[1]=1,m.buffer=p,m.loop=!0;const _={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(b){d.channelCount=b},get channelCountMode(){return d.channelCountMode},set channelCountMode(b){d.channelCountMode=b},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(b){d.channelInterpretation=b},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return m.onended},set onended(b){m.onended=b},addEventListener(...b){return m.addEventListener(b[0],b[1],b[2])},dispatchEvent(...b){return m.dispatchEvent(b[0])},removeEventListener(...b){return m.removeEventListener(b[0],b[1],b[2])},start(b=0){m.start.call(m,b)},stop(b=0){m.stop.call(m,b)}},S=()=>m.connect(d),T=()=>m.disconnect(d);return l(u,m),r(qa(_,d),S,T)},jT=(l,n)=>(s,r)=>{const u=s.createConvolver();if(Me(u,r),r.disableNormalization===u.normalize&&(u.normalize=!r.disableNormalization),de(u,r,"buffer"),r.channelCount>2||(n(u,"channelCount",h=>()=>h.call(u),h=>c=>{if(c>2)throw l();return h.call(u,c)}),r.channelCountMode==="max"))throw l();return n(u,"channelCountMode",h=>()=>h.call(u),h=>c=>{if(c==="max")throw l();return h.call(u,c)}),u},Kg=(l,n)=>{const s=l.createDelay(n.maxDelayTime);return Me(s,n),ye(s,n,"delayTime"),s},IT=l=>(n,s)=>{const r=n.createDynamicsCompressor();if(Me(r,s),s.channelCount>2||s.channelCountMode==="max")throw l();return ye(r,s,"attack"),ye(r,s,"knee"),ye(r,s,"ratio"),ye(r,s,"release"),ye(r,s,"threshold"),r},un=(l,n)=>{const s=l.createGain();return Me(s,n),ye(s,n,"gain"),s},HT=l=>(n,s,r)=>{if(n.createIIRFilter===void 0)return l(n,s,r);const u=n.createIIRFilter(r.feedforward,r.feedback);return Me(u,r),u};function GT(l,n){const s=n[0]*n[0]+n[1]*n[1];return[(l[0]*n[0]+l[1]*n[1])/s,(l[1]*n[0]-l[0]*n[1])/s]}function YT(l,n){return[l[0]*n[0]-l[1]*n[1],l[0]*n[1]+l[1]*n[0]]}function bg(l,n){let s=[0,0];for(let r=l.length-1;r>=0;r-=1)s=YT(s,n),s[0]+=l[r];return s}const FT=(l,n,s,r)=>(u,h,{channelCount:c,channelCountMode:p,channelInterpretation:m,feedback:d,feedforward:v})=>{const _=Pg(h,u.sampleRate),S=d instanceof Float64Array?d:new Float64Array(d),T=v instanceof Float64Array?v:new Float64Array(v),b=S.length,E=T.length,x=Math.min(b,E);if(b===0||b>20)throw r();if(S[0]===0)throw n();if(E===0||E>20)throw r();if(T[0]===0)throw n();if(S[0]!==1){for(let k=0;k<E;k+=1)T[k]/=S[0];for(let k=1;k<b;k+=1)S[k]/=S[0]}const C=s(u,_,c,c);C.channelCount=c,C.channelCountMode=p,C.channelInterpretation=m;const V=32,H=[],K=[],O=[];for(let k=0;k<c;k+=1){H.push(0);const st=new Float32Array(V),nt=new Float32Array(V);st.fill(0),nt.fill(0),K.push(st),O.push(nt)}C.onaudioprocess=k=>{const st=k.inputBuffer,nt=k.outputBuffer,tt=st.numberOfChannels;for(let Q=0;Q<tt;Q+=1){const ft=st.getChannelData(Q),ht=nt.getChannelData(Q);H[Q]=Qg(S,b,T,E,x,K[Q],O[Q],H[Q],V,ft,ht)}};const q=u.sampleRate/2;return qa({get bufferSize(){return _},get channelCount(){return C.channelCount},set channelCount(k){C.channelCount=k},get channelCountMode(){return C.channelCountMode},set channelCountMode(k){C.channelCountMode=k},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(k){C.channelInterpretation=k},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...k){return C.addEventListener(k[0],k[1],k[2])},dispatchEvent(...k){return C.dispatchEvent(k[0])},getFrequencyResponse(k,st,nt){if(k.length!==st.length||st.length!==nt.length)throw l();const tt=k.length;for(let Q=0;Q<tt;Q+=1){const ft=-Math.PI*(k[Q]/q),ht=[Math.cos(ft),Math.sin(ft)],vt=bg(T,ht),R=bg(S,ht),F=GT(vt,R);st[Q]=Math.sqrt(F[0]*F[0]+F[1]*F[1]),nt[Q]=Math.atan2(F[1],F[0])}},removeEventListener(...k){return C.removeEventListener(k[0],k[1],k[2])}},C)},XT=(l,n)=>l.createMediaElementSource(n.mediaElement),ZT=(l,n)=>{const s=l.createMediaStreamDestination();return Me(s,n),s.numberOfOutputs===1&&Object.defineProperty(s,"numberOfOutputs",{get:()=>0}),s},QT=(l,{mediaStream:n})=>{const s=n.getAudioTracks();s.sort((h,c)=>h.id<c.id?-1:h.id>c.id?1:0);const r=s.slice(0,1),u=l.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(u,"mediaStream",{value:n}),u},PT=(l,n)=>(s,{mediaStreamTrack:r})=>{if(typeof s.createMediaStreamTrackSource=="function")return s.createMediaStreamTrackSource(r);const u=new MediaStream([r]),h=s.createMediaStreamSource(u);if(r.kind!=="audio")throw l();if(n(s))throw new TypeError;return h},WT=l=>l===null?null:l.hasOwnProperty("OfflineAudioContext")?l.OfflineAudioContext:l.hasOwnProperty("webkitOfflineAudioContext")?l.webkitOfflineAudioContext:null,KT=(l,n,s,r,u,h)=>(c,p)=>{const m=c.createOscillator();return Me(m,p),ye(m,p,"detune"),ye(m,p,"frequency"),p.periodicWave!==void 0?m.setPeriodicWave(p.periodicWave):de(m,p,"type"),n(s,()=>s(c))||Gh(m),n(r,()=>r(c))||h(m,c),n(u,()=>u(c))||Yh(m),l(c,m),m},JT=l=>(n,s)=>{const r=n.createPanner();return r.orientationX===void 0?l(n,s):(Me(r,s),ye(r,s,"orientationX"),ye(r,s,"orientationY"),ye(r,s,"orientationZ"),ye(r,s,"positionX"),ye(r,s,"positionY"),ye(r,s,"positionZ"),de(r,s,"coneInnerAngle"),de(r,s,"coneOuterAngle"),de(r,s,"coneOuterGain"),de(r,s,"distanceModel"),de(r,s,"maxDistance"),de(r,s,"panningModel"),de(r,s,"refDistance"),de(r,s,"rolloffFactor"),r)},$T=(l,n,s,r,u,h,c,p,m,d)=>(v,{coneInnerAngle:_,coneOuterAngle:S,coneOuterGain:T,distanceModel:b,maxDistance:E,orientationX:x,orientationY:C,orientationZ:V,panningModel:H,positionX:K,positionY:O,positionZ:q,refDistance:Y,rolloffFactor:k,...st})=>{const nt=v.createPanner();if(st.channelCount>2||st.channelCountMode==="max")throw c();Me(nt,st);const tt={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},Q=s(v,{...tt,channelInterpretation:"speakers",numberOfInputs:6}),ft=r(v,{...st,gain:1}),ht=r(v,{...tt,gain:1}),vt=r(v,{...tt,gain:0}),R=r(v,{...tt,gain:0}),F=r(v,{...tt,gain:0}),rt=r(v,{...tt,gain:0}),lt=r(v,{...tt,gain:0}),A=u(v,256,6,1),j=h(v,{...tt,curve:new Float32Array([1,1]),oversample:"none"});let W=[x,C,V],it=[K,O,q];const at=new Float32Array(1);A.onaudioprocess=({inputBuffer:ut})=>{const Zt=[m(ut,at,0),m(ut,at,1),m(ut,at,2)];Zt.some((Ye,Ce)=>Ye!==W[Ce])&&(nt.setOrientation(...Zt),W=Zt);const oe=[m(ut,at,3),m(ut,at,4),m(ut,at,5)];oe.some((Ye,Ce)=>Ye!==it[Ce])&&(nt.setPosition(...oe),it=oe)},Object.defineProperty(vt.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(rt.gain,"defaultValue",{get:()=>0}),Object.defineProperty(lt.gain,"defaultValue",{get:()=>0});const dt={get bufferSize(){},get channelCount(){return nt.channelCount},set channelCount(ut){if(ut>2)throw c();ft.channelCount=ut,nt.channelCount=ut},get channelCountMode(){return nt.channelCountMode},set channelCountMode(ut){if(ut==="max")throw c();ft.channelCountMode=ut,nt.channelCountMode=ut},get channelInterpretation(){return nt.channelInterpretation},set channelInterpretation(ut){ft.channelInterpretation=ut,nt.channelInterpretation=ut},get coneInnerAngle(){return nt.coneInnerAngle},set coneInnerAngle(ut){nt.coneInnerAngle=ut},get coneOuterAngle(){return nt.coneOuterAngle},set coneOuterAngle(ut){nt.coneOuterAngle=ut},get coneOuterGain(){return nt.coneOuterGain},set coneOuterGain(ut){if(ut<0||ut>1)throw n();nt.coneOuterGain=ut},get context(){return nt.context},get distanceModel(){return nt.distanceModel},set distanceModel(ut){nt.distanceModel=ut},get inputs(){return[ft]},get maxDistance(){return nt.maxDistance},set maxDistance(ut){if(ut<0)throw new RangeError;nt.maxDistance=ut},get numberOfInputs(){return nt.numberOfInputs},get numberOfOutputs(){return nt.numberOfOutputs},get orientationX(){return ht.gain},get orientationY(){return vt.gain},get orientationZ(){return R.gain},get panningModel(){return nt.panningModel},set panningModel(ut){nt.panningModel=ut},get positionX(){return F.gain},get positionY(){return rt.gain},get positionZ(){return lt.gain},get refDistance(){return nt.refDistance},set refDistance(ut){if(ut<0)throw new RangeError;nt.refDistance=ut},get rolloffFactor(){return nt.rolloffFactor},set rolloffFactor(ut){if(ut<0)throw new RangeError;nt.rolloffFactor=ut},addEventListener(...ut){return ft.addEventListener(ut[0],ut[1],ut[2])},dispatchEvent(...ut){return ft.dispatchEvent(ut[0])},removeEventListener(...ut){return ft.removeEventListener(ut[0],ut[1],ut[2])}};_!==dt.coneInnerAngle&&(dt.coneInnerAngle=_),S!==dt.coneOuterAngle&&(dt.coneOuterAngle=S),T!==dt.coneOuterGain&&(dt.coneOuterGain=T),b!==dt.distanceModel&&(dt.distanceModel=b),E!==dt.maxDistance&&(dt.maxDistance=E),x!==dt.orientationX.value&&(dt.orientationX.value=x),C!==dt.orientationY.value&&(dt.orientationY.value=C),V!==dt.orientationZ.value&&(dt.orientationZ.value=V),H!==dt.panningModel&&(dt.panningModel=H),K!==dt.positionX.value&&(dt.positionX.value=K),O!==dt.positionY.value&&(dt.positionY.value=O),q!==dt.positionZ.value&&(dt.positionZ.value=q),Y!==dt.refDistance&&(dt.refDistance=Y),k!==dt.rolloffFactor&&(dt.rolloffFactor=k),(W[0]!==1||W[1]!==0||W[2]!==0)&&nt.setOrientation(...W),(it[0]!==0||it[1]!==0||it[2]!==0)&&nt.setPosition(...it);const mt=()=>{ft.connect(nt),l(ft,j,0,0),j.connect(ht).connect(Q,0,0),j.connect(vt).connect(Q,0,1),j.connect(R).connect(Q,0,2),j.connect(F).connect(Q,0,3),j.connect(rt).connect(Q,0,4),j.connect(lt).connect(Q,0,5),Q.connect(A).connect(v.destination)},Dt=()=>{ft.disconnect(nt),p(ft,j,0,0),j.disconnect(ht),ht.disconnect(Q),j.disconnect(vt),vt.disconnect(Q),j.disconnect(R),R.disconnect(Q),j.disconnect(F),F.disconnect(Q),j.disconnect(rt),rt.disconnect(Q),j.disconnect(lt),lt.disconnect(Q),Q.disconnect(A),A.disconnect(v.destination)};return d(qa(dt,nt),mt,Dt)},tS=l=>(n,{disableNormalization:s,imag:r,real:u})=>{const h=r instanceof Float32Array?r:new Float32Array(r),c=u instanceof Float32Array?u:new Float32Array(u),p=n.createPeriodicWave(c,h,{disableNormalization:s});if(Array.from(r).length<2)throw l();return p},$r=(l,n,s,r)=>l.createScriptProcessor(n,s,r),eS=(l,n)=>(s,r)=>{const u=r.channelCountMode;if(u==="clamped-max")throw n();if(s.createStereoPanner===void 0)return l(s,r);const h=s.createStereoPanner();return Me(h,r),ye(h,r,"pan"),Object.defineProperty(h,"channelCountMode",{get:()=>u,set:c=>{if(c!==u)throw n()}}),h},nS=(l,n,s,r,u,h)=>{const p=new Float32Array([1,1]),m=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},v={...d,oversample:"none"},_=(b,E,x,C)=>{const V=new Float32Array(16385),H=new Float32Array(16385);for(let st=0;st<16385;st+=1){const nt=st/16384*m;V[st]=Math.cos(nt),H[st]=Math.sin(nt)}const K=s(b,{...d,gain:0}),O=r(b,{...v,curve:V}),q=r(b,{...v,curve:p}),Y=s(b,{...d,gain:0}),k=r(b,{...v,curve:H});return{connectGraph(){E.connect(K),E.connect(q.inputs===void 0?q:q.inputs[0]),E.connect(Y),q.connect(x),x.connect(O.inputs===void 0?O:O.inputs[0]),x.connect(k.inputs===void 0?k:k.inputs[0]),O.connect(K.gain),k.connect(Y.gain),K.connect(C,0,0),Y.connect(C,0,1)},disconnectGraph(){E.disconnect(K),E.disconnect(q.inputs===void 0?q:q.inputs[0]),E.disconnect(Y),q.disconnect(x),x.disconnect(O.inputs===void 0?O:O.inputs[0]),x.disconnect(k.inputs===void 0?k:k.inputs[0]),O.disconnect(K.gain),k.disconnect(Y.gain),K.disconnect(C,0,0),Y.disconnect(C,0,1)}}},S=(b,E,x,C)=>{const V=new Float32Array(16385),H=new Float32Array(16385),K=new Float32Array(16385),O=new Float32Array(16385),q=Math.floor(16385/2);for(let F=0;F<16385;F+=1)if(F>q){const rt=(F-q)/(16384-q)*m;V[F]=Math.cos(rt),H[F]=Math.sin(rt),K[F]=0,O[F]=1}else{const rt=F/(16384-q)*m;V[F]=1,H[F]=0,K[F]=Math.cos(rt),O[F]=Math.sin(rt)}const Y=n(b,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),k=s(b,{...d,gain:0}),st=r(b,{...v,curve:V}),nt=s(b,{...d,gain:0}),tt=r(b,{...v,curve:H}),Q=r(b,{...v,curve:p}),ft=s(b,{...d,gain:0}),ht=r(b,{...v,curve:K}),vt=s(b,{...d,gain:0}),R=r(b,{...v,curve:O});return{connectGraph(){E.connect(Y),E.connect(Q.inputs===void 0?Q:Q.inputs[0]),Y.connect(k,0),Y.connect(nt,0),Y.connect(ft,1),Y.connect(vt,1),Q.connect(x),x.connect(st.inputs===void 0?st:st.inputs[0]),x.connect(tt.inputs===void 0?tt:tt.inputs[0]),x.connect(ht.inputs===void 0?ht:ht.inputs[0]),x.connect(R.inputs===void 0?R:R.inputs[0]),st.connect(k.gain),tt.connect(nt.gain),ht.connect(ft.gain),R.connect(vt.gain),k.connect(C,0,0),ft.connect(C,0,0),nt.connect(C,0,1),vt.connect(C,0,1)},disconnectGraph(){E.disconnect(Y),E.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),Y.disconnect(k,0),Y.disconnect(nt,0),Y.disconnect(ft,1),Y.disconnect(vt,1),Q.disconnect(x),x.disconnect(st.inputs===void 0?st:st.inputs[0]),x.disconnect(tt.inputs===void 0?tt:tt.inputs[0]),x.disconnect(ht.inputs===void 0?ht:ht.inputs[0]),x.disconnect(R.inputs===void 0?R:R.inputs[0]),st.disconnect(k.gain),tt.disconnect(nt.gain),ht.disconnect(ft.gain),R.disconnect(vt.gain),k.disconnect(C,0,0),ft.disconnect(C,0,0),nt.disconnect(C,0,1),vt.disconnect(C,0,1)}}},T=(b,E,x,C,V)=>{if(E===1)return _(b,x,C,V);if(E===2)return S(b,x,C,V);throw u()};return(b,{channelCount:E,channelCountMode:x,pan:C,...V})=>{if(x==="max")throw u();const H=l(b,{...V,channelCount:1,channelCountMode:x,numberOfInputs:2}),K=s(b,{...V,channelCount:E,channelCountMode:x,gain:1}),O=s(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C});let{connectGraph:q,disconnectGraph:Y}=T(b,E,K,O,H);Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(O.gain,"maxValue",{get:()=>1}),Object.defineProperty(O.gain,"minValue",{get:()=>-1});const k={get bufferSize(){},get channelCount(){return K.channelCount},set channelCount(Q){K.channelCount!==Q&&(st&&Y(),{connectGraph:q,disconnectGraph:Y}=T(b,Q,K,O,H),st&&q()),K.channelCount=Q},get channelCountMode(){return K.channelCountMode},set channelCountMode(Q){if(Q==="clamped-max"||Q==="max")throw u();K.channelCountMode=Q},get channelInterpretation(){return K.channelInterpretation},set channelInterpretation(Q){K.channelInterpretation=Q},get context(){return K.context},get inputs(){return[K]},get numberOfInputs(){return K.numberOfInputs},get numberOfOutputs(){return K.numberOfOutputs},get pan(){return O.gain},addEventListener(...Q){return K.addEventListener(Q[0],Q[1],Q[2])},dispatchEvent(...Q){return K.dispatchEvent(Q[0])},removeEventListener(...Q){return K.removeEventListener(Q[0],Q[1],Q[2])}};let st=!1;const nt=()=>{q(),st=!0},tt=()=>{Y(),st=!1};return h(qa(k,H),nt,tt)}},iS=(l,n,s,r,u,h,c)=>(p,m)=>{const d=p.createWaveShaper();if(h!==null&&h.name==="webkitAudioContext"&&p.createGain().gain.automationRate===void 0)return s(p,m);Me(d,m);const v=m.curve===null||m.curve instanceof Float32Array?m.curve:new Float32Array(m.curve);if(v!==null&&v.length<2)throw n();de(d,{curve:v},"curve"),de(d,m,"oversample");let _=null,S=!1;return c(d,"curve",E=>()=>E.call(d),E=>x=>(E.call(d,x),S&&(r(x)&&_===null?_=l(p,d):!r(x)&&_!==null&&(_(),_=null)),x)),u(d,()=>{S=!0,r(d.curve)&&(_=l(p,d))},()=>{S=!1,_!==null&&(_(),_=null)})},sS=(l,n,s,r,u)=>(h,{curve:c,oversample:p,...m})=>{const d=h.createWaveShaper(),v=h.createWaveShaper();Me(d,m),Me(v,m);const _=s(h,{...m,gain:1}),S=s(h,{...m,gain:-1}),T=s(h,{...m,gain:1}),b=s(h,{...m,gain:-1});let E=null,x=!1,C=null;const V={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(O){_.channelCount=O,S.channelCount=O,d.channelCount=O,T.channelCount=O,v.channelCount=O,b.channelCount=O},get channelCountMode(){return d.channelCountMode},set channelCountMode(O){_.channelCountMode=O,S.channelCountMode=O,d.channelCountMode=O,T.channelCountMode=O,v.channelCountMode=O,b.channelCountMode=O},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(O){_.channelInterpretation=O,S.channelInterpretation=O,d.channelInterpretation=O,T.channelInterpretation=O,v.channelInterpretation=O,b.channelInterpretation=O},get context(){return d.context},get curve(){return C},set curve(O){if(O!==null&&O.length<2)throw n();if(O===null)d.curve=O,v.curve=O;else{const q=O.length,Y=new Float32Array(q+2-q%2),k=new Float32Array(q+2-q%2);Y[0]=O[0],k[0]=-O[q-1];const st=Math.ceil((q+1)/2),nt=(q+1)/2-1;for(let tt=1;tt<st;tt+=1){const Q=tt/st*nt,ft=Math.floor(Q),ht=Math.ceil(Q);Y[tt]=ft===ht?O[ft]:(1-(Q-ft))*O[ft]+(1-(ht-Q))*O[ht],k[tt]=ft===ht?-O[q-1-ft]:-((1-(Q-ft))*O[q-1-ft])-(1-(ht-Q))*O[q-1-ht]}Y[st]=q%2===1?O[st-1]:(O[st-2]+O[st-1])/2,d.curve=Y,v.curve=k}C=O,x&&(r(C)&&E===null?E=l(h,_):E!==null&&(E(),E=null))},get inputs(){return[_]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(O){d.oversample=O,v.oversample=O},addEventListener(...O){return _.addEventListener(O[0],O[1],O[2])},dispatchEvent(...O){return _.dispatchEvent(O[0])},removeEventListener(...O){return _.removeEventListener(O[0],O[1],O[2])}};c!==null&&(V.curve=c instanceof Float32Array?c:new Float32Array(c)),p!==V.oversample&&(V.oversample=p);const H=()=>{_.connect(d).connect(T),_.connect(S).connect(v).connect(b).connect(T),x=!0,r(C)&&(E=l(h,_))},K=()=>{_.disconnect(d),d.disconnect(T),_.disconnect(S),S.disconnect(v),v.disconnect(b),b.disconnect(T),x=!1,E!==null&&(E(),E=null)};return u(qa(V,T),H,K)},en=()=>new DOMException("","NotSupportedError"),aS={numberOfChannels:1},rS=(l,n,s,r,u)=>class extends l{constructor(c,p,m){let d;if(typeof c=="number"&&p!==void 0&&m!==void 0)d={length:p,numberOfChannels:c,sampleRate:m};else if(typeof c=="object")d=c;else throw new Error("The given parameters are not valid.");const{length:v,numberOfChannels:_,sampleRate:S}={...aS,...d},T=r(_,v,S);n(Xr,()=>Xr(T))||T.addEventListener("statechange",(()=>{let b=0;const E=x=>{this._state==="running"&&(b>0?(T.removeEventListener("statechange",E),x.stopImmediatePropagation(),this._waitForThePromiseToSettle(x)):b+=1)};return E})()),super(T,_),this._length=v,this._nativeOfflineAudioContext=T,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(s()):(this._state="running",u(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Hg(this)}))}_waitForThePromiseToSettle(c){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(c):setTimeout(()=>this._waitForThePromiseToSettle(c))}},lS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},oS=(l,n,s,r,u,h,c)=>class extends l{constructor(m,d){const v=u(m),_={...lS,...d},S=s(v,_),T=h(v),b=T?r():null,E=m.sampleRate/2;super(m,!1,S,b),this._detune=n(this,T,S.detune,153600,-153600),this._frequency=n(this,T,S.frequency,E,-E),this._nativeOscillatorNode=S,this._onended=null,this._oscillatorNodeRenderer=b,this._oscillatorNodeRenderer!==null&&_.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=_.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(m){const d=typeof m=="function"?c(this,m):null;this._nativeOscillatorNode.onended=d;const v=this._nativeOscillatorNode.onended;this._onended=v!==null&&v===d?m:v}get type(){return this._nativeOscillatorNode.type}set type(m){this._nativeOscillatorNode.type=m,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(m){this._nativeOscillatorNode.setPeriodicWave(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=m)}start(m=0){if(this._nativeOscillatorNode.start(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=m),this.context.state!=="closed"){Ma(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),Ni(this)&&Pr(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(m=0){this._nativeOscillatorNode.stop(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=m)}},uS=(l,n,s,r,u)=>()=>{const h=new WeakMap;let c=null,p=null,m=null;const d=async(v,_)=>{let S=s(v);const T=We(S,_);if(!T){const b={channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,detune:S.detune.value,frequency:S.frequency.value,periodicWave:c===null?void 0:c,type:S.type};S=n(_,b),p!==null&&S.start(p),m!==null&&S.stop(m)}return h.set(_,S),T?(await l(_,v.detune,S.detune),await l(_,v.frequency,S.frequency)):(await r(_,v.detune,S.detune),await r(_,v.frequency,S.frequency)),await u(v,_,S),S};return{set periodicWave(v){c=v},set start(v){p=v},set stop(v){m=v},render(v,_){const S=h.get(_);return S!==void 0?Promise.resolve(S):d(v,_)}}},cS={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},hS=(l,n,s,r,u,h,c)=>class extends l{constructor(m,d){const v=u(m),_={...cS,...d},S=s(v,_),T=h(v),b=T?r():null;super(m,!1,S,b),this._nativePannerNode=S,this._orientationX=n(this,T,S.orientationX,$e,ln),this._orientationY=n(this,T,S.orientationY,$e,ln),this._orientationZ=n(this,T,S.orientationZ,$e,ln),this._positionX=n(this,T,S.positionX,$e,ln),this._positionY=n(this,T,S.positionY,$e,ln),this._positionZ=n(this,T,S.positionZ,$e,ln),c(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(m){this._nativePannerNode.coneInnerAngle=m}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(m){this._nativePannerNode.coneOuterAngle=m}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(m){this._nativePannerNode.coneOuterGain=m}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(m){this._nativePannerNode.distanceModel=m}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(m){this._nativePannerNode.maxDistance=m}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(m){this._nativePannerNode.panningModel=m}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(m){this._nativePannerNode.refDistance=m}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(m){this._nativePannerNode.rolloffFactor=m}},fS=(l,n,s,r,u,h,c,p,m,d)=>()=>{const v=new WeakMap;let _=null;const S=async(T,b)=>{let E=null,x=h(T);const C={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation},V={...C,coneInnerAngle:x.coneInnerAngle,coneOuterAngle:x.coneOuterAngle,coneOuterGain:x.coneOuterGain,distanceModel:x.distanceModel,maxDistance:x.maxDistance,panningModel:x.panningModel,refDistance:x.refDistance,rolloffFactor:x.rolloffFactor},H=We(x,b);if("bufferSize"in x)E=r(b,{...C,gain:1});else if(!H){const K={...V,orientationX:x.orientationX.value,orientationY:x.orientationY.value,orientationZ:x.orientationZ.value,positionX:x.positionX.value,positionY:x.positionY.value,positionZ:x.positionZ.value};x=u(b,K)}if(v.set(b,E===null?x:E),E!==null){if(_===null){if(c===null)throw new Error("Missing the native OfflineAudioContext constructor.");const tt=new c(6,T.context.length,b.sampleRate),Q=n(tt,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});Q.connect(tt.destination),_=(async()=>{const ft=await Promise.all([T.orientationX,T.orientationY,T.orientationZ,T.positionX,T.positionY,T.positionZ].map(async(ht,vt)=>{const R=s(tt,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:vt===0?1:0});return await p(tt,ht,R.offset),R}));for(let ht=0;ht<6;ht+=1)ft[ht].connect(Q,0,ht),ft[ht].start(0);return d(tt)})()}const K=await _,O=r(b,{...C,gain:1});await m(T,b,O);const q=[];for(let tt=0;tt<K.numberOfChannels;tt+=1)q.push(K.getChannelData(tt));let Y=[q[0][0],q[1][0],q[2][0]],k=[q[3][0],q[4][0],q[5][0]],st=r(b,{...C,gain:1}),nt=u(b,{...V,orientationX:Y[0],orientationY:Y[1],orientationZ:Y[2],positionX:k[0],positionY:k[1],positionZ:k[2]});O.connect(st).connect(nt.inputs[0]),nt.connect(E);for(let tt=128;tt<K.length;tt+=128){const Q=[q[0][tt],q[1][tt],q[2][tt]],ft=[q[3][tt],q[4][tt],q[5][tt]];if(Q.some((ht,vt)=>ht!==Y[vt])||ft.some((ht,vt)=>ht!==k[vt])){Y=Q,k=ft;const ht=tt/b.sampleRate;st.gain.setValueAtTime(0,ht),st=r(b,{...C,gain:0}),nt=u(b,{...V,orientationX:Y[0],orientationY:Y[1],orientationZ:Y[2],positionX:k[0],positionY:k[1],positionZ:k[2]}),st.gain.setValueAtTime(1,ht),O.connect(st).connect(nt.inputs[0]),nt.connect(E)}}return E}return H?(await l(b,T.orientationX,x.orientationX),await l(b,T.orientationY,x.orientationY),await l(b,T.orientationZ,x.orientationZ),await l(b,T.positionX,x.positionX),await l(b,T.positionY,x.positionY),await l(b,T.positionZ,x.positionZ)):(await p(b,T.orientationX,x.orientationX),await p(b,T.orientationY,x.orientationY),await p(b,T.orientationZ,x.orientationZ),await p(b,T.positionX,x.positionX),await p(b,T.positionY,x.positionY),await p(b,T.positionZ,x.positionZ)),La(x)?await m(T,b,x.inputs[0]):await m(T,b,x),x};return{render(T,b){const E=v.get(b);return E!==void 0?Promise.resolve(E):S(T,b)}}},dS={disableNormalization:!1},pS=(l,n,s,r)=>class Jg{constructor(h,c){const p=n(h),m=r({...dS,...c}),d=l(p,m);return s.add(d),d}static[Symbol.hasInstance](h){return h!==null&&typeof h=="object"&&Object.getPrototypeOf(h)===Jg.prototype||s.has(h)}},mS=(l,n)=>(s,r,u)=>(l(r).replay(u),n(r,s,u)),gS=(l,n,s)=>async(r,u,h)=>{const c=l(r);await Promise.all(c.activeInputs.map((p,m)=>Array.from(p).map(async([d,v])=>{const S=await n(d).render(d,u),T=r.context.destination;!s(d)&&(r!==T||!s(r))&&S.connect(h,v,m)})).reduce((p,m)=>[...p,...m],[]))},vS=(l,n,s)=>async(r,u,h)=>{const c=n(r);await Promise.all(Array.from(c.activeInputs).map(async([p,m])=>{const v=await l(p).render(p,u);s(p)||v.connect(h,m)}))},_S=(l,n,s,r)=>u=>l(Xr,()=>Xr(u))?Promise.resolve(l(r,r)).then(h=>{if(!h){const c=s(u,512,0,1);u.oncomplete=()=>{c.onaudioprocess=null,c.disconnect()},c.onaudioprocess=()=>u.currentTime,c.connect(u.destination)}return u.startRendering()}):new Promise(h=>{const c=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});u.oncomplete=p=>{c.disconnect(),h(p.renderedBuffer)},c.connect(u.destination),u.startRendering()}),yS=l=>(n,s)=>{l.set(n,s)},TS=l=>(n,s)=>l.set(n,s),SS=(l,n,s,r,u,h,c,p)=>(m,d)=>s(m).render(m,d).then(()=>Promise.all(Array.from(r(d)).map(v=>s(v).render(v,d)))).then(()=>u(d)).then(v=>(typeof v.copyFromChannel!="function"?(c(v),jh(v)):n(h,()=>h(v))||p(v),l.add(v),v)),bS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},xS=(l,n,s,r,u,h)=>class extends l{constructor(p,m){const d=u(p),v={...bS,...m},_=s(d,v),S=h(d),T=S?r():null;super(p,!1,_,T),this._pan=n(this,S,_.pan)}get pan(){return this._pan}},AS=(l,n,s,r,u)=>()=>{const h=new WeakMap,c=async(p,m)=>{let d=s(p);const v=We(d,m);if(!v){const _={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,pan:d.pan.value};d=n(m,_)}return h.set(m,d),v?await l(m,p.pan,d.pan):await r(m,p.pan,d.pan),La(d)?await u(p,m,d.inputs[0]):await u(p,m,d),d};return{render(p,m){const d=h.get(m);return d!==void 0?Promise.resolve(d):c(p,m)}}},ES=l=>()=>{if(l===null)return!1;try{new l({length:1,sampleRate:44100})}catch{return!1}return!0},wS=(l,n)=>async()=>{if(l===null)return!0;if(n===null)return!1;const s=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new n(1,128,44100),u=URL.createObjectURL(s);let h=!1,c=!1;try{await r.audioWorklet.addModule(u);const p=new l(r,"a",{numberOfOutputs:0}),m=r.createOscillator();p.port.onmessage=()=>h=!0,p.onprocessorerror=()=>c=!0,m.connect(p),m.start(0),await r.startRendering(),await new Promise(d=>setTimeout(d))}catch{}finally{URL.revokeObjectURL(u)}return h&&!c},NS=(l,n)=>()=>{if(n===null)return Promise.resolve(!1);const s=new n(1,1,44100),r=l(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(u=>{s.oncomplete=()=>{r.disconnect(),u(s.currentTime!==0)},s.startRendering()})},OS=()=>new DOMException("","UnknownError"),CS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},DS=(l,n,s,r,u,h,c)=>class extends l{constructor(m,d){const v=u(m),_={...CS,...d},S=s(v,_),b=h(v)?r():null;super(m,!0,S,b),this._isCurveNullified=!1,this._nativeWaveShaperNode=S,c(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(m){if(m===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(m.length<2)throw n();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=m}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(m){this._nativeWaveShaperNode.oversample=m}},RS=(l,n,s)=>()=>{const r=new WeakMap,u=async(h,c)=>{let p=n(h);if(!We(p,c)){const d={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,curve:p.curve,oversample:p.oversample};p=l(c,d)}return r.set(c,p),La(p)?await s(h,c,p.inputs[0]):await s(h,c,p),p};return{render(h,c){const p=r.get(c);return p!==void 0?Promise.resolve(p):u(h,c)}}},MS=()=>typeof window>"u"?null:window,kS=(l,n)=>s=>{s.copyFromChannel=(r,u,h=0)=>{const c=l(h),p=l(u);if(p>=s.numberOfChannels)throw n();const m=s.length,d=s.getChannelData(p),v=r.length;for(let _=c<0?-c:0;_+c<m&&_<v;_+=1)r[_]=d[_+c]},s.copyToChannel=(r,u,h=0)=>{const c=l(h),p=l(u);if(p>=s.numberOfChannels)throw n();const m=s.length,d=s.getChannelData(p),v=r.length;for(let _=c<0?-c:0;_+c<m&&_<v;_+=1)d[_+c]=r[_]}},US=l=>n=>{n.copyFromChannel=(s=>(r,u,h=0)=>{const c=l(h),p=l(u);if(c<n.length)return s.call(n,r,p,c)})(n.copyFromChannel),n.copyToChannel=(s=>(r,u,h=0)=>{const c=l(h),p=l(u);if(c<n.length)return s.call(n,r,p,c)})(n.copyToChannel)},zS=l=>(n,s)=>{const r=s.createBuffer(1,1,44100);n.buffer===null&&(n.buffer=r),l(n,"buffer",u=>()=>{const h=u.call(n);return h===r?null:h},u=>h=>u.call(n,h===null?r:h))},VS=(l,n)=>(s,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw l()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw l()}});const u=s.createBufferSource();n(r,()=>{const p=r.numberOfInputs;for(let m=0;m<p;m+=1)u.connect(r,0,m)},()=>u.disconnect(r))},$g=(l,n,s)=>l.copyFromChannel===void 0?l.getChannelData(s)[0]:(l.copyFromChannel(n,s),n[0]),t0=l=>{if(l===null)return!1;const n=l.length;return n%2!==0?l[Math.floor(n/2)]!==0:l[n/2-1]+l[n/2]!==0},tl=(l,n,s,r)=>{let u=l;for(;!u.hasOwnProperty(n);)u=Object.getPrototypeOf(u);const{get:h,set:c}=Object.getOwnPropertyDescriptor(u,n);Object.defineProperty(l,n,{get:s(h),set:r(c)})},BS=l=>({...l,outputChannelCount:l.outputChannelCount!==void 0?l.outputChannelCount:l.numberOfInputs===1&&l.numberOfOutputs===1?[l.channelCount]:Array.from({length:l.numberOfOutputs},()=>1)}),LS=l=>({...l,channelCount:l.numberOfOutputs}),qS=l=>{const{imag:n,real:s}=l;return n===void 0?s===void 0?{...l,imag:[0,0],real:[0,0]}:{...l,imag:Array.from(s,()=>0),real:s}:s===void 0?{...l,imag:n,real:Array.from(n,()=>0)}:{...l,imag:n,real:s}},e0=(l,n,s)=>{try{l.setValueAtTime(n,s)}catch(r){if(r.code!==9)throw r;e0(l,n,s+1e-7)}},jS=l=>{const n=l.createBufferSource();n.start();try{n.start()}catch{return!0}return!1},IS=l=>{const n=l.createBufferSource(),s=l.createBuffer(1,1,44100);n.buffer=s;try{n.start(0,1)}catch{return!1}return!0},HS=l=>{const n=l.createBufferSource();n.start();try{n.stop()}catch{return!1}return!0},Fh=l=>{const n=l.createOscillator();try{n.start(-1)}catch(s){return s instanceof RangeError}return!1},n0=l=>{const n=l.createBuffer(1,1,44100),s=l.createBufferSource();s.buffer=n,s.start(),s.stop();try{return s.stop(),!0}catch{return!1}},Xh=l=>{const n=l.createOscillator();try{n.stop(-1)}catch(s){return s instanceof RangeError}return!1},GS=l=>{const{port1:n,port2:s}=new MessageChannel;try{n.postMessage(l)}finally{n.close(),s.close()}},YS=l=>{l.start=(n=>(s=0,r=0,u)=>{const h=l.buffer,c=h===null?r:Math.min(h.duration,r);h!==null&&c>h.duration-.5/l.context.sampleRate?n.call(l,s,0,0):n.call(l,s,c,u)})(l.start)},i0=(l,n)=>{const s=n.createGain();l.connect(s);const r=(u=>()=>{u.call(l,s),l.removeEventListener("ended",r)})(l.disconnect);l.addEventListener("ended",r),qa(l,s),l.stop=(u=>{let h=!1;return(c=0)=>{if(h)try{u.call(l,c)}catch{s.gain.setValueAtTime(0,c)}else u.call(l,c),h=!0}})(l.stop)},ja=(l,n)=>s=>{const r={value:l};return Object.defineProperties(s,{currentTarget:r,target:r}),typeof n=="function"?n.call(l,s):n.handleEvent.call(l,s)},FS=hy(Hs),XS=vy(Hs),ZS=C1(Yo),s0=new WeakMap,QS=Z1(s0),Xn=a1(new Map,new WeakMap),ai=MS(),a0=xT(Xn,ri),Zh=X1(tn),Ge=gS(tn,Zh,qs),PS=by(a0,ce,Ge),le=W1(Go),Ci=WT(ai),se=dT(Ci),r0=new WeakMap,l0=q1(ja),el=NT(ai),Qh=uT(el),Ph=cT(ai),o0=hT(ai),Zr=CT(ai),xe=Zy(fy(zg),gy(FS,XS,zo,ZS,Vo,tn,QS,Qr,ce,Hs,Ni,qs,Co),Xn,sT(Nh,Vo,tn,ce,Fr,Ni),ri,Fo,en,E1(zo,Nh,tn,ce,Fr,le,Ni,se),M1(r0,tn,Fn),l0,le,Qh,Ph,o0,se,Zr),WS=Sy(xe,PS,ri,a0,le,se),Wh=new WeakSet,xg=AT(ai),u0=_1(new Uint32Array(1)),Kh=kS(u0,ri),Jh=US(u0),c0=Ay(Wh,Xn,en,xg,Ci,ES(xg),Kh,Jh),Xo=_y(un),h0=vS(Zh,Wr,qs),li=f1(h0),Ia=wT(Xo,Xn,jS,IS,HS,Fh,n0,Xh,YS,zS(tl),i0),oi=mS(Q1(Wr),h0),KS=Ny(li,Ia,ce,oi,Ge),Zn=Qy(dy(Vg),r0,qh,Py,ay,ry,ly,oy,uy,Ah,kg,el,e0),JS=wy(xe,KS,Zn,Be,Ia,le,se,ja),$S=Vy(xe,By,ri,Be,OT(un,tl),le,se,Ge),tb=s1(li,Wg,ce,oi,Ge),Gs=TS(s0),eb=i1(xe,Zn,tb,Fo,Wg,le,se,Gs),hs=ST(Hs,Ph),nb=VS(Be,hs),fs=VT(el,nb),ib=o1(fs,ce,Ge),sb=l1(xe,ib,fs,le,se),ab=h1(Jr,ce,Ge),rb=c1(xe,ab,Jr,le,se,LS),lb=qT(Xo,Ia,un,hs),Ha=LT(Xo,Xn,lb,Fh,Xh),ob=v1(li,Ha,ce,oi,Ge),ub=g1(xe,Zn,ob,Ha,le,se,ja),f0=jT(en,tl),cb=S1(f0,ce,Ge),hb=T1(xe,cb,f0,le,se,Gs),fb=O1(li,Kg,ce,oi,Ge),db=N1(xe,Zn,fb,Kg,le,se,Gs),d0=IT(en),pb=V1(li,d0,ce,oi,Ge),mb=z1(xe,Zn,pb,d0,en,le,se,Gs),gb=Y1(li,un,ce,oi,Ge),vb=G1(xe,Zn,gb,un,le,se),_b=FT(Fo,Be,$r,en),Zo=_S(Xn,un,$r,NS(un,Ci)),yb=iT(Ia,ce,Ci,Ge,Zo),Tb=HT(_b),Sb=eT(xe,Tb,yb,le,se,Gs),bb=Ly(Zn,fs,Ha,$r,en,$g,se,tl),p0=new WeakMap,xb=TT($S,bb,l0,se,p0,ja),m0=KT(Xo,Xn,Fh,n0,Xh,i0),Ab=uS(li,m0,ce,oi,Ge),Eb=oS(xe,Zn,m0,Ab,le,se,ja),g0=p1(Ia),wb=sS(g0,Be,un,t0,hs),Qo=iS(g0,Be,wb,t0,hs,el,tl),Nb=$T(zo,Be,fs,un,$r,Qo,en,Vo,$g,hs),v0=JT(Nb),Ob=fS(li,fs,Ha,un,v0,ce,Ci,oi,Ge,Zo),Cb=hS(xe,Zn,v0,Ob,le,se,Gs),Db=tS(ri),Rb=pS(Db,le,new WeakSet,qS),Mb=nS(fs,Jr,un,Qo,en,hs),_0=eS(Mb,en),kb=AS(li,_0,ce,oi,Ge),Ub=xS(xe,Zn,_0,kb,le,se),zb=RS(Qo,ce,Ge),Vb=DS(xe,Be,Qo,zb,le,se,Gs),y0=pT(ai),$h=j1(ai),T0=new WeakMap,Bb=K1(T0,Ci),Lb=y0?my(Xn,en,L1(ai),$h,I1(cy),le,Bb,se,Zr,new WeakMap,new WeakMap,wS(Zr,Ci),ai):void 0,qb=fT(Qh,se),jb=A1(Wh,Xn,x1,B1,new WeakSet,le,qb,ko,Xr,Kh,Jh),S0=e1(Lb,WS,c0,JS,eb,sb,rb,ub,hb,jb,db,mb,vb,Sb,xb,Eb,Cb,Rb,Ub,Vb),Ib=mT(xe,XT,le,se),Hb=vT(xe,ZT,le,se),Gb=_T(xe,QT,le,se),Yb=PT(Be,se),Fb=yT(xe,Yb,le),Xb=zy(S0,Be,en,OS,Ib,Hb,Gb,Fb,el),tf=J1(p0),Zb=yy(tf),b0=d1(ri),Qb=D1(tf),x0=k1(ri),A0=new WeakMap,Pb=F1(A0,Fn),Wb=zT(b0,ri,Be,fs,Jr,Ha,un,$r,en,x0,$h,Pb,hs),Kb=RT(Be,Wb,un,en,hs),Jb=t1(li,b0,Ia,fs,Jr,Ha,un,Qb,x0,$h,ce,Zr,Ci,oi,Ge,Zo),$b=P1(T0),tx=yS(A0),Ag=y0?Ky(Zb,xe,Zn,Jb,Kb,tn,$b,le,se,Zr,BS,tx,GS,ja):void 0,ex=b1(en,Ci),nx=SS(Wh,Xn,Zh,tf,Zo,ko,Kh,Jh),ix=rS(S0,Xn,Be,ex,nx),sx=aT(Go,Qh),ax=rT(Lh,Ph),rx=lT(qh,o0),lx=oT(Go,se);function Un(l){return l===void 0}function Ht(l){return l!==void 0}function ox(l){return typeof l=="function"}function ls(l){return typeof l=="number"}function Bs(l){return Object.prototype.toString.call(l)==="[object Object]"&&l.constructor===Object}function ux(l){return typeof l=="boolean"}function Sn(l){return Array.isArray(l)}function Oi(l){return typeof l=="string"}function Ao(l){return Oi(l)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(l)}function Ct(l,n){if(!l)throw new Error(n)}function os(l,n,s=1/0){if(!(n<=l&&l<=s))throw new RangeError(`Value must be within [${n}, ${s}], got: ${l}`)}function E0(l){!l.isOffline&&l.state!=="running"&&Po('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let w0=!1,Eg=!1;function wg(l){w0=l}function cx(l){Un(l)&&w0&&!Eg&&(Eg=!0,Po("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let N0=console;function hx(...l){N0.log(...l)}function Po(...l){N0.warn(...l)}function fx(l){return new Xb(l)}function dx(l,n,s){return new ix(l,n,s)}const yn=typeof self=="object"?self:null,px=yn&&(yn.hasOwnProperty("AudioContext")||yn.hasOwnProperty("webkitAudioContext"));function mx(l,n,s){return Ct(Ht(Ag),"AudioWorkletNode only works in a secure context (https or localhost)"),new(l instanceof yn?.BaseAudioContext?yn?.AudioWorkletNode:Ag)(l,n,s)}function Qn(l,n,s,r){var u=arguments.length,h=u<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,s):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(l,n,s,r);else for(var p=l.length-1;p>=0;p--)(c=l[p])&&(h=(u<3?c(h):u>3?c(n,s,h):c(n,s))||h);return u>3&&h&&Object.defineProperty(n,s,h),h}function Oe(l,n,s,r){function u(h){return h instanceof s?h:new s(function(c){c(h)})}return new(s||(s=Promise))(function(h,c){function p(v){try{d(r.next(v))}catch(_){c(_)}}function m(v){try{d(r.throw(v))}catch(_){c(_)}}function d(v){v.done?h(v.value):u(v.value).then(p,m)}d((r=r.apply(l,n||[])).next())})}class gx{constructor(n,s,r,u){this._callback=n,this._type=s,this._minimumUpdateInterval=Math.max(128/(u||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const n=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),s=URL.createObjectURL(n),r=new Worker(s);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(n){var s;this._updateInterval=Math.max(n,this._minimumUpdateInterval),this._type==="worker"&&((s=this._worker)===null||s===void 0||s.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(n){this._disposeClock(),this._type=n,this._createClock()}dispose(){this._disposeClock()}}function js(l){return rx(l)}function rs(l){return ax(l)}function Do(l){return lx(l)}function Ea(l){return sx(l)}function vx(l){return l instanceof c0}function _x(l,n){return l==="value"||js(n)||rs(n)||vx(n)}function Ls(l,...n){if(!n.length)return l;const s=n.shift();if(Bs(l)&&Bs(s))for(const r in s)_x(r,s[r])?l[r]=s[r]:Bs(s[r])?(l[r]||Object.assign(l,{[r]:{}}),Ls(l[r],s[r])):Object.assign(l,{[r]:s[r]});return Ls(l,...n)}function yx(l,n){return l.length===n.length&&l.every((s,r)=>n[r]===s)}function kt(l,n,s=[],r){const u={},h=Array.from(n);if(Bs(h[0])&&r&&!Reflect.has(h[0],r)&&(Object.keys(h[0]).some(p=>Reflect.has(l,p))||(Ls(u,{[r]:h[0]}),s.splice(s.indexOf(r),1),h.shift())),h.length===1&&Bs(h[0]))Ls(u,h[0]);else for(let c=0;c<s.length;c++)Ht(h[c])&&(u[s[c]]=h[c]);return Ls(l,u)}function Tx(l){return l.constructor.getDefaults()}function Da(l,n){return Un(l)?n:l}function Mh(l,n){return n.forEach(s=>{Reflect.has(l,s)&&delete l[s]}),l}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Di{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...n){(this.debug||yn&&this.toString()===yn.TONE_DEBUG_CLASS)&&hx(this,...n)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Di.version=Mg;const ef=1e-6;function ka(l,n){return l>n+ef}function kh(l,n){return ka(l,n)||Hn(l,n)}function jo(l,n){return l+ef<n}function Hn(l,n){return Math.abs(l-n)<ef}function Sx(l,n,s){return Math.max(Math.min(l,s),n)}class zn extends Di{constructor(){super(),this.name="Timeline",this._timeline=[];const n=kt(zn.getDefaults(),arguments,["memory"]);this.memory=n.memory,this.increasing=n.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(n){if(Ct(Reflect.has(n,"time"),"Timeline: events must have a time attribute"),n.time=n.time.valueOf(),this.increasing&&this.length){const s=this._timeline[this.length-1];Ct(kh(n.time,s.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(n)}else{const s=this._search(n.time);this._timeline.splice(s+1,0,n)}if(this.length>this.memory){const s=this.length-this.memory;this._timeline.splice(0,s)}return this}remove(n){const s=this._timeline.indexOf(n);return s!==-1&&this._timeline.splice(s,1),this}get(n,s="time"){const r=this._search(n,s);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(n,s="time"){const r=this._search(n,s);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(n){const s=this._timeline.length;if(s>0&&this._timeline[s-1].time<n)return this._timeline[s-1];const r=this._search(n);return r-1>=0?this._timeline[r-1]:null}cancel(n){if(this._timeline.length>1){let s=this._search(n);if(s>=0)if(Hn(this._timeline[s].time,n)){for(let r=s;r>=0&&Hn(this._timeline[r].time,n);r--)s=r;this._timeline=this._timeline.slice(0,s)}else this._timeline=this._timeline.slice(0,s+1);else this._timeline=[]}else this._timeline.length===1&&kh(this._timeline[0].time,n)&&(this._timeline=[]);return this}cancelBefore(n){const s=this._search(n);return s>=0&&(this._timeline=this._timeline.slice(s+1)),this}previousEvent(n){const s=this._timeline.indexOf(n);return s>0?this._timeline[s-1]:null}_search(n,s="time"){if(this._timeline.length===0)return-1;let r=0;const u=this._timeline.length;let h=u;if(u>0&&this._timeline[u-1][s]<=n)return u-1;for(;r<h;){let c=Math.floor(r+(h-r)/2);const p=this._timeline[c],m=this._timeline[c+1];if(Hn(p[s],n)){for(let d=c;d<this._timeline.length;d++){const v=this._timeline[d];if(Hn(v[s],n))c=d;else break}return c}else{if(jo(p[s],n)&&ka(m[s],n))return c;ka(p[s],n)?h=c:r=c+1}}return-1}_iterate(n,s=0,r=this._timeline.length-1){this._timeline.slice(s,r+1).forEach(n)}forEach(n){return this._iterate(n),this}forEachBefore(n,s){const r=this._search(n);return r!==-1&&this._iterate(s,0,r),this}forEachAfter(n,s){const r=this._search(n);return this._iterate(s,r+1),this}forEachBetween(n,s,r){let u=this._search(n),h=this._search(s);return u!==-1&&h!==-1?(this._timeline[u].time!==n&&(u+=1),this._timeline[h].time===s&&(h-=1),this._iterate(r,u,h)):u===-1&&this._iterate(r,0,h),this}forEachFrom(n,s){let r=this._search(n);for(;r>=0&&this._timeline[r].time>=n;)r--;return this._iterate(s,r+1),this}forEachAtTime(n,s){const r=this._search(n);if(r!==-1&&Hn(this._timeline[r].time,n)){let u=r;for(let h=r;h>=0&&Hn(this._timeline[h].time,n);h--)u=h;this._iterate(h=>{s(h)},u,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const O0=[];function Wo(l){O0.push(l)}function bx(l){O0.forEach(n=>n(l))}const C0=[];function Ko(l){C0.push(l)}function xx(l){C0.forEach(n=>n(l))}class nl extends Di{constructor(){super(...arguments),this.name="Emitter"}on(n,s){return n.split(/\W+/).forEach(u=>{Un(this._events)&&(this._events={}),this._events.hasOwnProperty(u)||(this._events[u]=[]),this._events[u].push(s)}),this}once(n,s){const r=(...u)=>{s(...u),this.off(n,r)};return this.on(n,r),this}off(n,s){return n.split(/\W+/).forEach(u=>{if(Un(this._events)&&(this._events={}),this._events.hasOwnProperty(u))if(Un(s))this._events[u]=[];else{const h=this._events[u];for(let c=h.length-1;c>=0;c--)h[c]===s&&h.splice(c,1)}}),this}emit(n,...s){if(this._events&&this._events.hasOwnProperty(n)){const r=this._events[n].slice(0);for(let u=0,h=r.length;u<h;u++)r[u].apply(this,s)}return this}static mixin(n){["on","once","off","emit"].forEach(s=>{const r=Object.getOwnPropertyDescriptor(nl.prototype,s);Object.defineProperty(n.prototype,s,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class D0 extends nl{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class il extends D0{constructor(){var n,s;super(),this.name="Context",this._constants=new Map,this._timeouts=new zn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=kt(il.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((n=arguments[0])===null||n===void 0?void 0:n.latencyHint)||""):(this._context=fx({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new gx(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((s=arguments[0])===null||s===void 0)&&s.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(bx(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(n,s,r){return this._context.createBuffer(n,s,r)}createChannelMerger(n){return this._context.createChannelMerger(n)}createChannelSplitter(n){return this._context.createChannelSplitter(n)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(n){return this._context.createDelay(n)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(n,s){return this._context.createIIRFilter(n,s)}createPanner(){return this._context.createPanner()}createPeriodicWave(n,s,r){return this._context.createPeriodicWave(n,s,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(n){return Ct(Ea(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(n)}createMediaElementSource(n){return Ct(Ea(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(n)}createMediaStreamDestination(){return Ct(Ea(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(n){return this._context.decodeAudioData(n)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(n){Ct(!this._initialized,"The listener cannot be set after initialization."),this._listener=n}get transport(){return this.initialize(),this._transport}set transport(n){Ct(!this._initialized,"The transport cannot be set after initialization."),this._transport=n}get draw(){return this.initialize(),this._draw}set draw(n){Ct(!this._initialized,"Draw cannot be set after initialization."),this._draw=n}get destination(){return this.initialize(),this._destination}set destination(n){Ct(!this._initialized,"The destination cannot be set after initialization."),this._destination=n}createAudioWorkletNode(n,s){return mx(this.rawContext,n,s)}addAudioWorkletModule(n){return Oe(this,void 0,void 0,function*(){Ct(Ht(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(n)),yield this._workletPromise})}workletsAreReady(){return Oe(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(n){this._ticker.updateInterval=n}get clockSource(){return this._ticker.type}set clockSource(n){this._ticker.type=n}get lookAhead(){return this._lookAhead}set lookAhead(n){this._lookAhead=n,this.updateInterval=n?n/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Ea(this._context)?this._context.resume():Promise.resolve()}close(){return Oe(this,void 0,void 0,function*(){Ea(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&xx(this)})}getConstant(n){if(this._constants.has(n))return this._constants.get(n);{const s=this._context.createBuffer(1,128,this._context.sampleRate),r=s.getChannelData(0);for(let h=0;h<r.length;h++)r[h]=n;const u=this._context.createBufferSource();return u.channelCount=1,u.channelCountMode="explicit",u.buffer=s,u.loop=!0,u.start(0),this._constants.set(n,u),u}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(n=>this._constants[n].disconnect()),this.close(),this}_timeoutLoop(){const n=this.now();this._timeouts.forEachBefore(n,s=>{s.callback(),this._timeouts.remove(s)})}setTimeout(n,s){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:n,id:this._timeoutIds,time:r+s}),this._timeoutIds}clearTimeout(n){return this._timeouts.forEach(s=>{s.id===n&&this._timeouts.remove(s)}),this}clearInterval(n){return this.clearTimeout(n)}setInterval(n,s){const r=++this._timeoutIds,u=()=>{const h=this.now();this._timeouts.add({callback:()=>{n(),u()},id:r,time:h+s})};return u(),r}}class Ax extends D0{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(n,s,r){return{}}createChannelMerger(n){return{}}createChannelSplitter(n){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(n){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(n,s){return{}}createPanner(){return{}}createPeriodicWave(n,s,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(n){return{}}createMediaElementSource(n){return{}}createMediaStreamDestination(){return{}}decodeAudioData(n){return Promise.resolve({})}createAudioWorkletNode(n,s){return{}}get rawContext(){return{}}addAudioWorkletModule(n){return Oe(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(n,s){return 0}clearTimeout(n){return this}setInterval(n,s){return 0}clearInterval(n){return this}getConstant(n){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(n){}get destination(){return{}}set destination(n){}now(){return 0}immediate(){return 0}}function Te(l,n){Sn(n)?n.forEach(s=>Te(l,s)):Object.defineProperty(l,n,{enumerable:!0,writable:!1})}function R0(l,n){Sn(n)?n.forEach(s=>R0(l,s)):Object.defineProperty(l,n,{writable:!0})}const ie=()=>{};class fe extends Di{constructor(){super(),this.name="ToneAudioBuffer",this.onload=ie;const n=kt(fe.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=n.reverse,this.onload=n.onload,Oi(n.url)?this.load(n.url).catch(n.onerror):n.url&&this.set(n.url)}static getDefaults(){return{onerror:ie,onload:ie,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Gn().sampleRate}set(n){return n instanceof fe?n.loaded?this._buffer=n.get():n.onload=()=>{this.set(n),this.onload(this)}:this._buffer=n,this._reversed&&this._reverse(),this}get(){return this._buffer}load(n){return Oe(this,void 0,void 0,function*(){const s=fe.load(n).then(r=>{this.set(r),this.onload(this)});fe.downloads.push(s);try{yield s}finally{const r=fe.downloads.indexOf(s);fe.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(n){const s=Sn(n)&&n[0].length>0,r=s?n.length:1,u=s?n[0].length:n.length,h=Gn(),c=h.createBuffer(r,u,h.sampleRate),p=!s&&r===1?[n]:n;for(let m=0;m<r;m++)c.copyToChannel(p[m],m);return this._buffer=c,this}toMono(n){if(ls(n))this.fromArray(this.toArray(n));else{let s=new Float32Array(this.length);const r=this.numberOfChannels;for(let u=0;u<r;u++){const h=this.toArray(u);for(let c=0;c<h.length;c++)s[c]+=h[c]}s=s.map(u=>u/r),this.fromArray(s)}return this}toArray(n){if(ls(n))return this.getChannelData(n);if(this.numberOfChannels===1)return this.toArray(0);{const s=[];for(let r=0;r<this.numberOfChannels;r++)s[r]=this.getChannelData(r);return s}}getChannelData(n){return this._buffer?this._buffer.getChannelData(n):new Float32Array(0)}slice(n,s=this.duration){Ct(this.loaded,"Buffer is not loaded");const r=Math.floor(n*this.sampleRate),u=Math.floor(s*this.sampleRate);Ct(r<u,"The start time must be less than the end time");const h=u-r,c=Gn().createBuffer(this.numberOfChannels,h,this.sampleRate);for(let p=0;p<this.numberOfChannels;p++)c.copyToChannel(this.getChannelData(p).subarray(r,u),p);return new fe(c)}_reverse(){if(this.loaded)for(let n=0;n<this.numberOfChannels;n++)this.getChannelData(n).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(n){this._reversed!==n&&(this._reversed=n,this._reverse())}static fromArray(n){return new fe().fromArray(n)}static fromUrl(n){return Oe(this,void 0,void 0,function*(){return yield new fe().load(n)})}static load(n){return Oe(this,void 0,void 0,function*(){const s=fe.baseUrl===""||fe.baseUrl.endsWith("/")?fe.baseUrl:fe.baseUrl+"/",r=yield fetch(s+n);if(!r.ok)throw new Error(`could not load url: ${n}`);const u=yield r.arrayBuffer();return yield Gn().decodeAudioData(u)})}static supportsType(n){const s=n.split("."),r=s[s.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Oe(this,void 0,void 0,function*(){for(yield Promise.resolve();fe.downloads.length;)yield fe.downloads[0]})}}fe.baseUrl="";fe.downloads=[];class nf extends il{constructor(){super({clockSource:"offline",context:Do(arguments[0])?arguments[0]:dx(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Do(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Do(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(n){return Oe(this,void 0,void 0,function*(){let s=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,s++;const r=Math.floor(this.sampleRate/128);n&&s%r===0&&(yield new Promise(u=>setTimeout(u,1)))}})}render(){return Oe(this,arguments,void 0,function*(n=!0){yield this.workletsAreReady(),yield this._renderClock(n);const s=yield this._context.startRendering();return new fe(s)})}close(){return Promise.resolve()}}const M0=new Ax;let zs=M0;function Gn(){return zs===M0&&px&&Ex(new il),zs}function Ex(l,n=!1){n&&zs.dispose(),Ea(l)?zs=new il(l):Do(l)?zs=new nf(l):zs=l}function wx(){return zs.resume()}if(yn&&!yn.TONE_SILENCE_LOGGING){const n=` * Tone.js v${Mg} * `;console.log(`%c${n}`,"background: #000; color: #fff")}function Nx(l){return Math.pow(10,l/20)}function Ox(l){return 20*(Math.log(l)/Math.LN10)}function k0(l){return Math.pow(2,l/12)}let Jo=440;function Cx(){return Jo}function Dx(l){Jo=l}function Vs(l){return Math.round(U0(l))}function U0(l){return 69+12*Math.log2(l/Jo)}function z0(l){return Jo*Math.pow(2,(l-69)/12)}class sf extends Di{constructor(n,s,r){super(),this.defaultUnits="s",this._val=s,this._units=r,this.context=n,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:n=>this._frequencyToUnits(parseFloat(n)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:n=>this._ticksToUnits(parseInt(n,10)),regexp:/^(\d+)i$/i},m:{method:n=>this._beatsToUnits(parseInt(n,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(n,s)=>{const r=parseInt(n,10),u=s==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*u:this._beatsToUnits(4/r)*u},regexp:/^(\d+)n(\.?)$/i},number:{method:n=>this._expressions[this.defaultUnits].method.call(this,n),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:n=>this._secondsToUnits(parseFloat(n)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:n=>parseInt(n,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:n=>{const s=parseInt(n,10);return this._beatsToUnits(8/(Math.floor(s)*3))},regexp:/^(\d+)t$/i},tr:{method:(n,s,r)=>{let u=0;return n&&n!=="0"&&(u+=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),s&&s!=="0"&&(u+=this._beatsToUnits(parseFloat(s))),r&&r!=="0"&&(u+=this._beatsToUnits(parseFloat(r)/4)),u},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof sf&&this.fromType(this._val),Un(this._val))return this._noArg();if(Oi(this._val)&&Un(this._units)){for(const n in this._expressions)if(this._expressions[n].regexp.test(this._val.trim())){this._units=n;break}}else if(Bs(this._val)){let n=0;for(const s in this._val)if(Ht(this._val[s])){const r=this._val[s],u=new this.constructor(this.context,s).valueOf()*r;n+=u}return n}if(Ht(this._units)){const n=this._expressions[this._units],s=this._val.toString().trim().match(n.regexp);return s?n.method.apply(this,s.slice(1)):n.method.call(this,this._val)}else return Oi(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(n){return 1/n}_beatsToUnits(n){return 60/this._getBpm()*n}_secondsToUnits(n){return n}_ticksToUnits(n){return n*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(n){switch(this._units=void 0,this.defaultUnits){case"s":this._val=n.toSeconds();break;case"i":this._val=n.toTicks();break;case"hz":this._val=n.toFrequency();break;case"midi":this._val=n.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Yn extends sf{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:n=>this._now()+new this.constructor(this.context,n).valueOf(),regexp:/^\+(.+)/},quantize:{method:n=>{const s=new Yn(this.context,n).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(s))},regexp:/^@(.+)/}})}quantize(n,s=1){const r=new this.constructor(this.context,n).valueOf(),u=this.valueOf(),p=Math.round(u/r)*r-u;return u+p*s}toNotation(){const n=this.toSeconds(),s=["1m"];for(let h=1;h<9;h++){const c=Math.pow(2,h);s.push(c+"n."),s.push(c+"n"),s.push(c+"t")}s.push("0");let r=s[0],u=new Yn(this.context,s[0]).toSeconds();return s.forEach(h=>{const c=new Yn(this.context,h).toSeconds();Math.abs(c-n)<Math.abs(u-n)&&(r=h,u=c)}),r}toBarsBeatsSixteenths(){const n=this._beatsToUnits(1);let s=this.valueOf()/n;s=parseFloat(s.toFixed(4));const r=Math.floor(s/this._getTimeSignature());let u=s%1*4;s=Math.floor(s)%this._getTimeSignature();const h=u.toString();return h.length>3&&(u=parseFloat(parseFloat(h).toFixed(3))),[r,s,u].join(":")}toTicks(){const n=this._beatsToUnits(1);return this.valueOf()/n*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Vs(this.toFrequency())}_now(){return this.context.now()}}class Tn extends Yn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Cx()}static set A4(n){Dx(n)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(n){return this.defaultUnits==="midi"?n:Tn.mtof(n)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(n,s){const u=Rx[n.toLowerCase()]+(parseInt(s,10)+1)*12;return this.defaultUnits==="midi"?u:Tn.mtof(u)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(n,s,r){let u=1;return n&&n!=="0"&&(u*=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),s&&s!=="0"&&(u*=this._beatsToUnits(parseFloat(s))),r&&r!=="0"&&(u*=this._beatsToUnits(parseFloat(r)/4)),u}}})}transpose(n){return new Tn(this.context,this.valueOf()*k0(n))}harmonize(n){return n.map(s=>this.transpose(s))}toMidi(){return Vs(this.valueOf())}toNote(){const n=this.toFrequency(),s=Math.log2(n/Tn.A4);let r=Math.round(12*s)+57;const u=Math.floor(r/12);return u<0&&(r+=-12*u),Mx[r%12]+u.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const n=this._beatsToUnits(1),s=this.valueOf()/n;return Math.floor(s*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(n){return n}_ticksToUnits(n){return 1/(n*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(n){return 1/super._beatsToUnits(n)}_secondsToUnits(n){return 1/n}static mtof(n){return z0(n)}static ftom(n){return Vs(n)}}const Rx={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},Mx=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Yr extends Yn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class on extends Di{constructor(){super();const n=kt(on.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=n.context}static getDefaults(){return{context:Gn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(n){return cx(n),new Yn(this.context,n).toSeconds()}toFrequency(n){return new Tn(this.context,n).toFrequency()}toTicks(n){return new Yr(this.context,n).toTicks()}_getPartialProperties(n){const s=this.get();return Object.keys(s).forEach(r=>{Un(n[r])&&delete s[r]}),s}get(){const n=Tx(this);return Object.keys(n).forEach(s=>{if(Reflect.has(this,s)){const r=this[s];Ht(r)&&Ht(r.value)&&Ht(r.setValueAtTime)?n[s]=r.value:r instanceof on?n[s]=r._getPartialProperties(n[s]):Sn(r)||ls(r)||Oi(r)||ux(r)?n[s]=r:delete n[s]}}),n}set(n){return Object.keys(n).forEach(s=>{Reflect.has(this,s)&&Ht(this[s])&&(this[s]&&Ht(this[s].value)&&Ht(this[s].setValueAtTime)?this[s].value!==n[s]&&(this[s].value=n[s]):this[s]instanceof on?this[s].set(n[s]):this[s]=n[s])}),this}}class af extends zn{constructor(n="stopped"){super(),this.name="StateTimeline",this._initial=n,this.setStateAtTime(this._initial,0)}getValueAtTime(n){const s=this.get(n);return s!==null?s.state:this._initial}setStateAtTime(n,s,r){return os(s,0),this.add(Object.assign({},r,{state:n,time:s})),this}getLastState(n,s){const r=this._search(s);for(let u=r;u>=0;u--){const h=this._timeline[u];if(h.state===n)return h}}getNextState(n,s){const r=this._search(s);if(r!==-1)for(let u=r;u<this._timeline.length;u++){const h=this._timeline[u];if(h.state===n)return h}}}class me extends on{constructor(){const n=kt(me.getDefaults(),arguments,["param","units","convert"]);for(super(n),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Ct(Ht(n.param)&&(js(n.param)||n.param instanceof me),"param must be an AudioParam");!js(n.param);)n.param=n.param._param;this._swappable=Ht(n.swappable)?n.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=n.param,this.input.connect(this._param)):this._param=this.input=n.param,this._events=new zn(1e3),this._initialValue=this._param.defaultValue,this.units=n.units,this.convert=n.convert,this._minValue=n.minValue,this._maxValue=n.maxValue,Ht(n.value)&&n.value!==this._toType(this._initialValue)&&this.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(on.getDefaults(),{convert:!0,units:"number"})}get value(){const n=this.now();return this.getValueAtTime(n)}set value(n){this.cancelScheduledValues(this.now()),this.setValueAtTime(n,this.now())}get minValue(){return Ht(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Ht(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(n,s){return this.units===s}_assertRange(n){return Ht(this.maxValue)&&Ht(this.minValue)&&os(n,this._fromType(this.minValue),this._fromType(this.maxValue)),n}_fromType(n){return this.convert&&!this.overridden?this._is(n,"time")?this.toSeconds(n):this._is(n,"decibels")?Nx(n):this._is(n,"frequency")?this.toFrequency(n):n:this.overridden?0:n}_toType(n){return this.convert&&this.units==="decibels"?Ox(n):n}setValueAtTime(n,s){const r=this.toSeconds(s),u=this._fromType(n);return Ct(isFinite(u)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._assertRange(u),this.log(this.units,"setValueAtTime",n,r),this._events.add({time:r,type:"setValueAtTime",value:u}),this._param.setValueAtTime(u,r),this}getValueAtTime(n){const s=Math.max(this.toSeconds(n),0),r=this._events.getAfter(s),u=this._events.get(s);let h=this._initialValue;if(u===null)h=this._initialValue;else if(u.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const c=this._events.getBefore(u.time);let p;c===null?p=this._initialValue:p=c.value,u.type==="setTargetAtTime"&&(h=this._exponentialApproach(u.time,p,u.value,u.constant,s))}else if(r===null)h=u.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let c=u.value;if(u.type==="setTargetAtTime"){const p=this._events.getBefore(u.time);p===null?c=this._initialValue:c=p.value}r.type==="linearRampToValueAtTime"?h=this._linearInterpolate(u.time,c,r.time,r.value,s):h=this._exponentialInterpolate(u.time,c,r.time,r.value,s)}else h=u.value;return this._toType(h)}setRampPoint(n){n=this.toSeconds(n);let s=this.getValueAtTime(n);return this.cancelAndHoldAtTime(n),this._fromType(s)===0&&(s=this._toType(this._minOutput)),this.setValueAtTime(s,n),this}linearRampToValueAtTime(n,s){const r=this._fromType(n),u=this.toSeconds(s);return Ct(isFinite(r)&&isFinite(u),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._assertRange(r),this._events.add({time:u,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",n,u),this._param.linearRampToValueAtTime(r,u),this}exponentialRampToValueAtTime(n,s){let r=this._fromType(n);r=Hn(r,0)?this._minOutput:r,this._assertRange(r);const u=this.toSeconds(s);return Ct(isFinite(r)&&isFinite(u),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._events.add({time:u,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",n,u),this._param.exponentialRampToValueAtTime(r,u),this}exponentialRampTo(n,s,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(n,r+this.toSeconds(s)),this}linearRampTo(n,s,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(n,r+this.toSeconds(s)),this}targetRampTo(n,s,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(n,r,s),this}exponentialApproachValueAtTime(n,s,r){s=this.toSeconds(s),r=this.toSeconds(r);const u=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(n,s,u),this.cancelAndHoldAtTime(s+r*.9),this.linearRampToValueAtTime(n,s+r),this}setTargetAtTime(n,s,r){const u=this._fromType(n);Ct(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const h=this.toSeconds(s);return this._assertRange(u),Ct(isFinite(u)&&isFinite(h),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._events.add({constant:r,time:h,type:"setTargetAtTime",value:u}),this.log(this.units,"setTargetAtTime",n,h,r),this._param.setTargetAtTime(u,h,r),this}setValueCurveAtTime(n,s,r,u=1){r=this.toSeconds(r),s=this.toSeconds(s);const h=this._fromType(n[0])*u;this.setValueAtTime(this._toType(h),s);const c=r/(n.length-1);for(let p=1;p<n.length;p++){const m=this._fromType(n[p])*u;this.linearRampToValueAtTime(this._toType(m),s+p*c)}return this}cancelScheduledValues(n){const s=this.toSeconds(n);return Ct(isFinite(s),`Invalid argument to cancelScheduledValues: ${JSON.stringify(n)}`),this._events.cancel(s),this._param.cancelScheduledValues(s),this.log(this.units,"cancelScheduledValues",s),this}cancelAndHoldAtTime(n){const s=this.toSeconds(n),r=this._fromType(this.getValueAtTime(s));Ct(isFinite(s),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(n)}`),this.log(this.units,"cancelAndHoldAtTime",s,"value="+r);const u=this._events.get(s),h=this._events.getAfter(s);return u&&Hn(u.time,s)?h?(this._param.cancelScheduledValues(h.time),this._events.cancel(h.time)):(this._param.cancelAndHoldAtTime(s),this._events.cancel(s+this.sampleTime)):h&&(this._param.cancelScheduledValues(h.time),this._events.cancel(h.time),h.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),s):h.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),s)),this._events.add({time:s,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,s),this}rampTo(n,s=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(n,s,r):this.linearRampTo(n,s,r),this}apply(n){const s=this.context.currentTime;n.setValueAtTime(this.getValueAtTime(s),s);const r=this._events.get(s);if(r&&r.type==="setTargetAtTime"){const u=this._events.getAfter(r.time),h=u?u.time:s+2,c=(h-s)/10;for(let p=s;p<h;p+=c)n.linearRampToValueAtTime(this.getValueAtTime(p),p)}return this._events.forEachAfter(this.context.currentTime,u=>{u.type==="cancelScheduledValues"?n.cancelScheduledValues(u.time):u.type==="setTargetAtTime"?n.setTargetAtTime(u.value,u.time,u.constant):n[u.type](u.value,u.time)}),this}setParam(n){Ct(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const s=this.input;return s.disconnect(this._param),this.apply(n),this._param=n,s.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(n,s,r,u,h){return r+(s-r)*Math.exp(-(h-n)/u)}_linearInterpolate(n,s,r,u,h){return s+(u-s)*((h-n)/(r-n))}_exponentialInterpolate(n,s,r,u,h){return s*Math.pow(u/s,(h-n)/(r-n))}}class jt extends on{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Ht(this.input)?js(this.input)||this.input instanceof me?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Ht(this.output)?this.output.numberOfOutputs:0}_isAudioNode(n){return Ht(n)&&(n instanceof jt||rs(n))}_getInternalNodes(){const n=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&n.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&n.push(this.output),n}_setChannelProperties(n){this._getInternalNodes().forEach(r=>{r.channelCount=n.channelCount,r.channelCountMode=n.channelCountMode,r.channelInterpretation=n.channelInterpretation})}_getChannelProperties(){const n=this._getInternalNodes();Ct(n.length>0,"ToneAudioNode does not have any internal nodes");const s=n[0];return{channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(n){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCount:n}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(n){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCountMode:n}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(n){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelInterpretation:n}))}connect(n,s=0,r=0){return Ga(this,n,s,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Po("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(n,s=0,r=0){return kx(this,n,s,r),this}chain(...n){return Uh(this,...n),this}fan(...n){return n.forEach(s=>this.connect(s)),this}dispose(){return super.dispose(),Ht(this.input)&&(this.input instanceof jt?this.input.dispose():rs(this.input)&&this.input.disconnect()),Ht(this.output)&&(this.output instanceof jt?this.output.dispose():rs(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Uh(...l){const n=l.shift();l.reduce((s,r)=>(s instanceof jt?s.connect(r):rs(s)&&Ga(s,r),r),n)}function Ga(l,n,s=0,r=0){for(Ct(Ht(l),"Cannot connect from undefined node"),Ct(Ht(n),"Cannot connect to undefined node"),(n instanceof jt||rs(n))&&Ct(n.numberOfInputs>0,"Cannot connect to node with no inputs"),Ct(l.numberOfOutputs>0,"Cannot connect from node with no outputs");n instanceof jt||n instanceof me;)Ht(n.input)&&(n=n.input);for(;l instanceof jt;)Ht(l.output)&&(l=l.output);js(n)?l.connect(n,s):l.connect(n,s,r)}function kx(l,n,s=0,r=0){if(Ht(n))for(;n instanceof jt;)n=n.input;for(;!rs(l);)Ht(l.output)&&(l=l.output);js(n)?l.disconnect(n,s):rs(n)?l.disconnect(n,s,r):l.disconnect()}class Pe extends jt{constructor(){const n=kt(Pe.getDefaults(),arguments,["gain","units"]);super(n),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new me({context:this.context,convert:n.convert,param:this._gainNode.gain,units:n.units,value:n.gain,minValue:n.minValue,maxValue:n.maxValue}),Te(this,"gain")}static getDefaults(){return Object.assign(jt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Ua extends jt{constructor(n){super(n),this.onended=ie,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Pe({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(s){const r=this.toSeconds(s);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=n.fadeIn,this._fadeOut=n.fadeOut,this._curve=n.curve,this.onended=n.onended}static getDefaults(){return Object.assign(jt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:ie})}_startGain(n,s=1){Ct(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=n+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,n),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(s,n+r):this._gainNode.gain.exponentialApproachValueAtTime(s,n,r)):this._gainNode.gain.setValueAtTime(s,n),this}stop(n){return this.log("stop",n),this._stopGain(this.toSeconds(n)),this}_stopGain(n){Ct(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const s=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(n)+s,this._stopTime=Math.max(this._stopTime,this.now()),s>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,s,n):this._gainNode.gain.targetRampTo(0,s,n):(this._gainNode.gain.cancelAndHoldAtTime(n),this._gainNode.gain.setValueAtTime(0,n)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?s*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==ie&&(this.onended(this),this.onended=ie,!this.context.isOffline)){const n=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(n):setTimeout(n,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Ct(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=ie,this}}class rf extends Ua{constructor(){const n=kt(rf.getDefaults(),arguments,["offset"]);super(n),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Ga(this._source,this._gainNode),this.offset=new me({context:this.context,convert:n.convert,param:this._source.offset,units:n.units,value:n.offset,minValue:n.minValue,maxValue:n.maxValue})}static getDefaults(){return Object.assign(Ua.getDefaults(),{convert:!0,offset:1,units:"number"})}start(n){const s=this.toSeconds(n);return this.log("start",s),this._startGain(s),this._source.start(s),this}_stopSource(n){this._source.stop(n)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Le extends jt{constructor(){const n=kt(Le.getDefaults(),arguments,["value","units"]);super(n),this.name="Signal",this.override=!0,this.output=this._constantSource=new rf({context:this.context,convert:n.convert,offset:n.value,units:n.units,minValue:n.minValue,maxValue:n.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(jt.getDefaults(),{convert:!0,units:"number",value:0})}connect(n,s=0,r=0){return lf(this,n,s,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(n,s){return this._param.setValueAtTime(n,s),this}getValueAtTime(n){return this._param.getValueAtTime(n)}setRampPoint(n){return this._param.setRampPoint(n),this}linearRampToValueAtTime(n,s){return this._param.linearRampToValueAtTime(n,s),this}exponentialRampToValueAtTime(n,s){return this._param.exponentialRampToValueAtTime(n,s),this}exponentialRampTo(n,s,r){return this._param.exponentialRampTo(n,s,r),this}linearRampTo(n,s,r){return this._param.linearRampTo(n,s,r),this}targetRampTo(n,s,r){return this._param.targetRampTo(n,s,r),this}exponentialApproachValueAtTime(n,s,r){return this._param.exponentialApproachValueAtTime(n,s,r),this}setTargetAtTime(n,s,r){return this._param.setTargetAtTime(n,s,r),this}setValueCurveAtTime(n,s,r,u){return this._param.setValueCurveAtTime(n,s,r,u),this}cancelScheduledValues(n){return this._param.cancelScheduledValues(n),this}cancelAndHoldAtTime(n){return this._param.cancelAndHoldAtTime(n),this}rampTo(n,s,r){return this._param.rampTo(n,s,r),this}get value(){return this._param.value}set value(n){this._param.value=n}get convert(){return this._param.convert}set convert(n){this._param.convert=n}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(n){this._param.overridden=n}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(n){return this._param.apply(n),this}}function lf(l,n,s,r){(n instanceof me||js(n)||n instanceof Le&&n.override)&&(n.cancelScheduledValues(0),n.setValueAtTime(0,0),n instanceof Le&&(n.overridden=!0)),Ga(l,n,s,r)}class of extends me{constructor(){const n=kt(of.getDefaults(),arguments,["value"]);super(n),this.name="TickParam",this._events=new zn(1/0),this._multiplier=1,this._multiplier=n.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(n.value)}),this.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(me.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(n,s,r){s=this.toSeconds(s),this.setRampPoint(s);const u=this._fromType(n),h=this._events.get(s),c=Math.round(Math.max(1/r,1));for(let p=0;p<=c;p++){const m=r*p+s,d=this._exponentialApproach(h.time,h.value,u,r,m);this.linearRampToValueAtTime(this._toType(d),m)}return this}setValueAtTime(n,s){const r=this.toSeconds(s);super.setValueAtTime(n,s);const u=this._events.get(r),h=this._events.previousEvent(u),c=this._getTicksUntilEvent(h,r);return u.ticks=Math.max(c,0),this}linearRampToValueAtTime(n,s){const r=this.toSeconds(s);super.linearRampToValueAtTime(n,s);const u=this._events.get(r),h=this._events.previousEvent(u),c=this._getTicksUntilEvent(h,r);return u.ticks=Math.max(c,0),this}exponentialRampToValueAtTime(n,s){s=this.toSeconds(s);const r=this._fromType(n),u=this._events.get(s),h=Math.round(Math.max((s-u.time)*10,1)),c=(s-u.time)/h;for(let p=0;p<=h;p++){const m=c*p+u.time,d=this._exponentialInterpolate(u.time,u.value,s,r,m);this.linearRampToValueAtTime(this._toType(d),m)}return this}_getTicksUntilEvent(n,s){if(n===null)n={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Un(n.ticks)){const c=this._events.previousEvent(n);n.ticks=this._getTicksUntilEvent(c,n.time)}const r=this._fromType(this.getValueAtTime(n.time));let u=this._fromType(this.getValueAtTime(s));const h=this._events.get(s);return h&&h.time===s&&h.type==="setValueAtTime"&&(u=this._fromType(this.getValueAtTime(s-this.sampleTime))),.5*(s-n.time)*(r+u)+n.ticks}getTicksAtTime(n){const s=this.toSeconds(n),r=this._events.get(s);return Math.max(this._getTicksUntilEvent(r,s),0)}getDurationOfTicks(n,s){const r=this.toSeconds(s),u=this.getTicksAtTime(s);return this.getTimeOfTick(u+n)-r}getTimeOfTick(n){const s=this._events.get(n,"ticks"),r=this._events.getAfter(n,"ticks");if(s&&s.ticks===n)return s.time;if(s&&r&&r.type==="linearRampToValueAtTime"&&s.value!==r.value){const u=this._fromType(this.getValueAtTime(s.time)),c=(this._fromType(this.getValueAtTime(r.time))-u)/(r.time-s.time),p=Math.sqrt(Math.pow(u,2)-2*c*(s.ticks-n)),m=(-u+p)/c,d=(-u-p)/c;return(m>0?m:d)+s.time}else return s?s.value===0?1/0:s.time+(n-s.ticks)/s.value:n/this._initialValue}ticksToTime(n,s){return this.getDurationOfTicks(n,s)}timeToTicks(n,s){const r=this.toSeconds(s),u=this.toSeconds(n),h=this.getTicksAtTime(r);return this.getTicksAtTime(r+u)-h}_fromType(n){return this.units==="bpm"&&this.multiplier?1/(60/n/this.multiplier):super._fromType(n)}_toType(n){return this.units==="bpm"&&this.multiplier?n/this.multiplier*60:super._toType(n)}get multiplier(){return this._multiplier}set multiplier(n){const s=this.value;this._multiplier=n,this.cancelScheduledValues(0),this.setValueAtTime(s,0)}}class uf extends Le{constructor(){const n=kt(uf.getDefaults(),arguments,["value"]);super(n),this.name="TickSignal",this.input=this._param=new of({context:this.context,convert:n.convert,multiplier:n.multiplier,param:this._constantSource.offset,units:n.units,value:n.value})}static getDefaults(){return Object.assign(Le.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(n,s){return this._param.ticksToTime(n,s)}timeToTicks(n,s){return this._param.timeToTicks(n,s)}getTimeOfTick(n){return this._param.getTimeOfTick(n)}getDurationOfTicks(n,s){return this._param.getDurationOfTicks(n,s)}getTicksAtTime(n){return this._param.getTicksAtTime(n)}get multiplier(){return this._param.multiplier}set multiplier(n){this._param.multiplier=n}dispose(){return super.dispose(),this._param.dispose(),this}}class cf extends on{constructor(){const n=kt(cf.getDefaults(),arguments,["frequency"]);super(n),this.name="TickSource",this._state=new af,this._tickOffset=new zn,this._ticksAtTime=new zn,this._secondsAtTime=new zn,this.frequency=new uf({context:this.context,units:n.units,value:n.frequency}),Te(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},on.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(n,s){const r=this.toSeconds(n);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),Ht(s)&&this.setTicksAtTime(s,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(n){const s=this.toSeconds(n);if(this._state.getValueAtTime(s)==="stopped"){const r=this._state.get(s);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(s),this._state.setStateAtTime("stopped",s),this.setTicksAtTime(0,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}pause(n){const s=this.toSeconds(n);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}cancel(n){return n=this.toSeconds(n),this._state.cancel(n),this._tickOffset.cancel(n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getTicksAtTime(n){const s=this.toSeconds(n),r=this._state.getLastState("stopped",s),u=this._ticksAtTime.get(s),h={state:"paused",time:s};this._state.add(h);let c=u||r,p=u?u.ticks:0,m=null;return this._state.forEachBetween(c.time,s+this.sampleTime,d=>{let v=c.time;const _=this._tickOffset.get(d.time);_&&_.time>=c.time&&(p=_.ticks,v=_.time),c.state==="started"&&d.state!=="started"&&(p+=this.frequency.getTicksAtTime(d.time)-this.frequency.getTicksAtTime(v),d.time!==h.time&&(m={state:d.state,time:d.time,ticks:p})),c=d}),this._state.remove(h),m&&this._ticksAtTime.add(m),p}get ticks(){return this.getTicksAtTime(this.now())}set ticks(n){this.setTicksAtTime(n,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(n){const s=this.now(),r=this.frequency.timeToTicks(n,s);this.setTicksAtTime(r,s)}getSecondsAtTime(n){n=this.toSeconds(n);const s=this._state.getLastState("stopped",n),r={state:"paused",time:n};this._state.add(r);const u=this._secondsAtTime.get(n);let h=u||s,c=u?u.seconds:0,p=null;return this._state.forEachBetween(h.time,n+this.sampleTime,m=>{let d=h.time;const v=this._tickOffset.get(m.time);v&&v.time>=h.time&&(c=v.seconds,d=v.time),h.state==="started"&&m.state!=="started"&&(c+=m.time-d,m.time!==r.time&&(p={state:m.state,time:m.time,seconds:c})),h=m}),this._state.remove(r),p&&this._secondsAtTime.add(p),c}setTicksAtTime(n,s){return s=this.toSeconds(s),this._tickOffset.cancel(s),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(n,s),ticks:n,time:s}),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}getStateAtTime(n){return n=this.toSeconds(n),this._state.getValueAtTime(n)}getTimeOfTick(n,s=this.now()){const r=this._tickOffset.get(s),u=this._state.get(s),h=Math.max(r.time,u.time),c=this.frequency.getTicksAtTime(h)+n-r.ticks;return this.frequency.getTimeOfTick(c)}forEachTickBetween(n,s,r){let u=this._state.get(n);this._state.forEachBetween(n,s,c=>{u&&u.state==="started"&&c.state!=="started"&&this.forEachTickBetween(Math.max(u.time,n),c.time-this.sampleTime,r),u=c});let h=null;if(u&&u.state==="started"){const c=Math.max(u.time,n),p=this.frequency.getTicksAtTime(c),m=this.frequency.getTicksAtTime(u.time),d=p-m;let v=Math.ceil(d)-d;v=Hn(v,1)?0:v;let _=this.frequency.getTimeOfTick(p+v);for(;_<s;){try{r(_,Math.round(this.getTicksAtTime(_)))}catch(S){h=S;break}_+=this.frequency.getDurationOfTicks(1,_)}}if(h)throw h;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class $o extends on{constructor(){const n=kt($o.getDefaults(),arguments,["callback","frequency"]);super(n),this.name="Clock",this.callback=ie,this._lastUpdate=0,this._state=new af("stopped"),this._boundLoop=this._loop.bind(this),this.callback=n.callback,this._tickSource=new cf({context:this.context,frequency:n.frequency,units:n.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Te(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(on.getDefaults(),{callback:ie,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(n,s){E0(this.context);const r=this.toSeconds(n);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,s),r<this._lastUpdate&&this.emit("start",r,s)),this}stop(n){const s=this.toSeconds(n);return this.log("stop",s),this._state.cancel(s),this._state.setStateAtTime("stopped",s),this._tickSource.stop(s),s<this._lastUpdate&&this.emit("stop",s),this}pause(n){const s=this.toSeconds(n);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._tickSource.pause(s),s<this._lastUpdate&&this.emit("pause",s)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(n){this._tickSource.ticks=n}get seconds(){return this._tickSource.seconds}set seconds(n){this._tickSource.seconds=n}getSecondsAtTime(n){return this._tickSource.getSecondsAtTime(n)}setTicksAtTime(n,s){return this._tickSource.setTicksAtTime(n,s),this}getTimeOfTick(n,s=this.now()){return this._tickSource.getTimeOfTick(n,s)}getTicksAtTime(n){return this._tickSource.getTicksAtTime(n)}nextTickTime(n,s){const r=this.toSeconds(s),u=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(u+n,r)}_loop(){const n=this._lastUpdate,s=this.now();this._lastUpdate=s,this.log("loop",n,s),n!==s&&(this._state.forEachBetween(n,s,r=>{switch(r.state){case"started":const u=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,u);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(n,s,(r,u)=>{this.callback(r,u)}))}getStateAtTime(n){const s=this.toSeconds(n);return this._state.getValueAtTime(s)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}nl.mixin($o);class Ya extends jt{constructor(){const n=kt(Ya.getDefaults(),arguments,["volume"]);super(n),this.name="Volume",this.input=this.output=new Pe({context:this.context,gain:n.volume,units:"decibels"}),this.volume=this.output.gain,Te(this,"volume"),this._unmutedVolume=n.volume,this.mute=n.mute}static getDefaults(){return Object.assign(jt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(n){!this.mute&&n?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!n&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class hf extends jt{constructor(){const n=kt(hf.getDefaults(),arguments);super(n),this.name="Destination",this.input=new Ya({context:this.context}),this.output=new Pe({context:this.context}),this.volume=this.input.volume,Uh(this.input,this.output,this.context.rawContext.destination),this.mute=n.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(jt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(n){this.input.mute=n}chain(...n){return this.input.disconnect(),n.unshift(this.input),n.push(this.output),Uh(...n),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Wo(l=>{l.destination=new hf({context:l})});Ko(l=>{l.destination.dispose()});class Ux extends jt{constructor(){super(...arguments),this.name="Listener",this.positionX=new me({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new me({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new me({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new me({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new me({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new me({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new me({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new me({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new me({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(jt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Wo(l=>{l.listener=new Ux({context:l})});Ko(l=>{l.listener.dispose()});class ff extends Di{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const n=kt(ff.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=n.baseUrl,Object.keys(n.urls).forEach(s=>{this._loadingCount++;const r=n.urls[s];this.add(s,r,this._bufferLoaded.bind(this,n.onload),n.onerror)})}static getDefaults(){return{baseUrl:"",onerror:ie,onload:ie,urls:{}}}has(n){return this._buffers.has(n.toString())}get(n){return Ct(this.has(n),`ToneAudioBuffers has no buffer named: ${n}`),this._buffers.get(n.toString())}_bufferLoaded(n){this._loadingCount--,this._loadingCount===0&&n&&n()}get loaded(){return Array.from(this._buffers).every(([n,s])=>s.loaded)}add(n,s,r=ie,u=ie){return Oi(s)?(this.baseUrl&&s.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(n.toString(),new fe(this.baseUrl+s,r,u))):this._buffers.set(n.toString(),new fe(s,r,u)),this}dispose(){return super.dispose(),this._buffers.forEach(n=>n.dispose()),this._buffers.clear(),this}}class Io extends Tn{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(n){return Vs(super._frequencyToUnits(n))}_ticksToUnits(n){return Vs(super._ticksToUnits(n))}_beatsToUnits(n){return Vs(super._beatsToUnits(n))}_secondsToUnits(n){return Vs(super._secondsToUnits(n))}toMidi(){return this.valueOf()}toFrequency(){return z0(this.toMidi())}transpose(n){return new Io(this.context,this.toMidi()+n)}}class Oa extends Yr{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(n){return this._getPPQ()*n}_secondsToUnits(n){return Math.floor(n/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(n){return n}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class zx extends on{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new zn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(n,s){return this._events.add({callback:n,time:this.toSeconds(s)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(n){return this._events.cancel(this.toSeconds(n)),this}_drawLoop(){const n=this.context.currentTime;this._events.forEachBefore(n+this.anticipation,s=>{n-s.time<=this.expiration&&s.callback(),this._events.remove(s)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Wo(l=>{l.draw=new zx({context:l})});Ko(l=>{l.draw.dispose()});class Vx extends Di{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(n){Ct(Ht(n.time),"Events must have a time property"),Ct(Ht(n.duration),"Events must have a duration parameter"),n.time=n.time.valueOf();let s=new Bx(n.time,n.time+n.duration,n);for(this._root===null?this._root=s:this._root.insert(s),this._length++;s!==null;)s.updateHeight(),s.updateMax(),this._rebalance(s),s=s.parent;return this}remove(n){if(this._root!==null){const s=[];this._root.search(n.time,s);for(const r of s)if(r.event===n){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(n){return this.forEachFrom(n,s=>this.remove(s)),this}_setRoot(n){this._root=n,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(n,s){n.parent!==null?(n.isLeftChild()?n.parent.left=s:n.parent.right=s,this._rebalance(n.parent)):this._setRoot(s)}_removeNode(n){if(n.left===null&&n.right===null)this._replaceNodeInParent(n,null);else if(n.right===null)this._replaceNodeInParent(n,n.left);else if(n.left===null)this._replaceNodeInParent(n,n.right);else{const s=n.getBalance();let r,u=null;if(s>0)if(n.left.right===null)r=n.left,r.right=n.right,u=r;else{for(r=n.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,u=r.parent,r.left=n.left,r.right=n.right)}else if(n.right.left===null)r=n.right,r.left=n.left,u=r;else{for(r=n.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,u=r.parent,r.left=n.left,r.right=n.right)}n.parent!==null?n.isLeftChild()?n.parent.left=r:n.parent.right=r:this._setRoot(r),u&&this._rebalance(u)}n.dispose()}_rotateLeft(n){const s=n.parent,r=n.isLeftChild(),u=n.right;u&&(n.right=u.left,u.left=n),s!==null?r?s.left=u:s.right=u:this._setRoot(u)}_rotateRight(n){const s=n.parent,r=n.isLeftChild(),u=n.left;u&&(n.left=u.right,u.right=n),s!==null?r?s.left=u:s.right=u:this._setRoot(u)}_rebalance(n){const s=n.getBalance();s>1&&n.left?n.left.getBalance()<0?this._rotateLeft(n.left):this._rotateRight(n):s<-1&&n.right&&(n.right.getBalance()>0?this._rotateRight(n.right):this._rotateLeft(n))}get(n){if(this._root!==null){const s=[];if(this._root.search(n,s),s.length>0){let r=s[0];for(let u=1;u<s.length;u++)s[u].low>r.low&&(r=s[u]);return r.event}}return null}forEach(n){if(this._root!==null){const s=[];this._root.traverse(r=>s.push(r)),s.forEach(r=>{r.event&&n(r.event)})}return this}forEachAtTime(n,s){if(this._root!==null){const r=[];this._root.search(n,r),r.forEach(u=>{u.event&&s(u.event)})}return this}forEachFrom(n,s){if(this._root!==null){const r=[];this._root.searchAfter(n,r),r.forEach(u=>{u.event&&s(u.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(n=>n.dispose()),this._root=null,this}}class Bx{constructor(n,s,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=n,this.high=s,this.max=this.high}insert(n){n.low<=this.low?this.left===null?this.left=n:this.left.insert(n):this.right===null?this.right=n:this.right.insert(n)}search(n,s){n>this.max||(this.left!==null&&this.left.search(n,s),this.low<=n&&this.high>n&&s.push(this),!(this.low>n)&&this.right!==null&&this.right.search(n,s))}searchAfter(n,s){this.low>=n&&(s.push(this),this.left!==null&&this.left.searchAfter(n,s)),this.right!==null&&this.right.searchAfter(n,s)}traverse(n){n(this),this.left!==null&&this.left.traverse(n),this.right!==null&&this.right.traverse(n)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let n=0;return this.left!==null&&this.right!==null?n=this.left.height-this.right.height:this.left!==null?n=this.left.height+1:this.right!==null&&(n=-(this.right.height+1)),n}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(n){this._left=n,n!==null&&(n.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(n){this._right=n,n!==null&&(n.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Lx extends Di{constructor(n){super(),this.name="TimelineValue",this._timeline=new zn({memory:10}),this._initialValue=n}set(n,s){return this._timeline.add({value:n,time:s}),this}get(n){const s=this._timeline.get(n);return s?s.value:this._initialValue}}class za extends jt{constructor(){super(kt(za.getDefaults(),arguments,["context"]))}connect(n,s=0,r=0){return lf(this,n,s,r),this}}class sl extends za{constructor(){const n=kt(sl.getDefaults(),arguments,["mapping","length"]);super(n),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Sn(n.mapping)||n.mapping instanceof Float32Array?this.curve=Float32Array.from(n.mapping):ox(n.mapping)&&this.setMap(n.mapping,n.length)}static getDefaults(){return Object.assign(Le.getDefaults(),{length:1024})}setMap(n,s=1024){const r=new Float32Array(s);for(let u=0,h=s;u<h;u++){const c=u/(h-1)*2-1;r[u]=n(c,u)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(n){this._shaper.curve=n}get oversample(){return this._shaper.oversample}set oversample(n){const s=["none","2x","4x"].some(r=>r.includes(n));Ct(s,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=n}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class df extends za{constructor(){const n=kt(df.getDefaults(),arguments,["value"]);super(n),this.name="Pow",this._exponentScaler=this.input=this.output=new sl({context:this.context,mapping:this._expFunc(n.value),length:8192}),this._exponent=n.value}static getDefaults(){return Object.assign(za.getDefaults(),{value:1})}_expFunc(n){return s=>Math.pow(Math.abs(s),n)}get value(){return this._exponent}set value(n){this._exponent=n,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class us{constructor(n,s){this.id=us._eventId++,this._remainderTime=0;const r=Object.assign(us.getDefaults(),s);this.transport=n,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:ie,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(n){if(this.callback){const s=this.transport.bpm.getDurationOfTicks(1,n);this.callback(n+this._remainderTime*s),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}us._eventId=0;class pf extends us{constructor(n,s){super(n,s),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(pf.getDefaults(),s);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},us.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(n){this._createEvents(n),super.invoke(n)}_createEvent(){return jo(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Oa(this.context,this._nextTick).toSeconds()):-1}_createEvents(n){jo(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Oa(this.context,this._nextTick).toSeconds()))}_restart(n){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const s=this.transport.getTicksAtTime(n);ka(s,this.time)&&(this._nextTick=this.floatTime+Math.ceil((s-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class tu extends on{constructor(){const n=kt(tu.getDefaults(),arguments);super(n),this.name="Transport",this._loop=new Lx(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new zn,this._repeatedEvents=new Vx,this._syncedSignals=[],this._swingAmount=0,this._ppq=n.ppq,this._clock=new $o({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=n.ppq,this.bpm.setValueAtTime(n.bpm,0),Te(this,"bpm"),this._timeSignature=n.timeSignature,this._swingTicks=n.ppq/2}static getDefaults(){return Object.assign(on.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(n,s){if(this._loop.get(n)&&s>=this._loopEnd&&(this.emit("loopEnd",n),this._clock.setTicksAtTime(this._loopStart,n),s=this._loopStart,this.emit("loopStart",n,this._clock.getSecondsAtTime(n)),this.emit("loop",n)),this._swingAmount>0&&s%this._ppq!==0&&s%(this._swingTicks*2)!==0){const r=s%(this._swingTicks*2)/(this._swingTicks*2),u=Math.sin(r*Math.PI)*this._swingAmount;n+=new Oa(this.context,this._swingTicks*2/3).toSeconds()*u}wg(!0),this._timeline.forEachAtTime(s,r=>r.invoke(n)),wg(!1)}schedule(n,s){const r=new us(this,{callback:n,time:new Yr(this.context,s).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(n,s,r,u=1/0){const h=new pf(this,{callback:n,duration:new Yn(this.context,u).toTicks(),interval:new Yn(this.context,s).toTicks(),time:new Yr(this.context,r).toTicks()});return this._addEvent(h,this._repeatedEvents)}scheduleOnce(n,s){const r=new us(this,{callback:n,once:!0,time:new Yr(this.context,s).toTicks()});return this._addEvent(r,this._timeline)}clear(n){if(this._scheduledEvents.hasOwnProperty(n)){const s=this._scheduledEvents[n.toString()];s.timeline.remove(s.event),s.event.dispose(),delete this._scheduledEvents[n.toString()]}return this}_addEvent(n,s){return this._scheduledEvents[n.id.toString()]={event:n,timeline:s},s.add(n),n.id}cancel(n=0){const s=this.toTicks(n);return this._timeline.forEachFrom(s,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(s,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(n,s)=>{s=new Oa(this.context,s).toSeconds(),this.emit("start",n,s)}),this._clock.on("stop",n=>{this.emit("stop",n)}),this._clock.on("pause",n=>{this.emit("pause",n)})}get state(){return this._clock.getStateAtTime(this.now())}start(n,s){this.context.resume();let r;return Ht(s)&&(r=this.toTicks(s)),this._clock.start(n,r),this}stop(n){return this._clock.stop(n),this}pause(n){return this._clock.pause(n),this}toggle(n){return n=this.toSeconds(n),this._clock.getStateAtTime(n)!=="started"?this.start(n):this.stop(n),this}get timeSignature(){return this._timeSignature}set timeSignature(n){Sn(n)&&(n=n[0]/n[1]*4),this._timeSignature=n}get loopStart(){return new Yn(this.context,this._loopStart,"i").toSeconds()}set loopStart(n){this._loopStart=this.toTicks(n)}get loopEnd(){return new Yn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(n){this._loopEnd=this.toTicks(n)}get loop(){return this._loop.get(this.now())}set loop(n){this._loop.set(n,this.now())}setLoopPoints(n,s){return this.loopStart=n,this.loopEnd=s,this}get swing(){return this._swingAmount}set swing(n){this._swingAmount=n}get swingSubdivision(){return new Oa(this.context,this._swingTicks).toNotation()}set swingSubdivision(n){this._swingTicks=this.toTicks(n)}get position(){const n=this.now(),s=this._clock.getTicksAtTime(n);return new Oa(this.context,s).toBarsBeatsSixteenths()}set position(n){const s=this.toTicks(n);this.ticks=s}get seconds(){return this._clock.seconds}set seconds(n){const s=this.now(),r=this._clock.frequency.timeToTicks(n,s);this.ticks=r}get progress(){if(this.loop){const n=this.now();return(this._clock.getTicksAtTime(n)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(n){if(this._clock.ticks!==n){const s=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(s),u=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,s),h=s+u;this.emit("stop",h),this._clock.setTicksAtTime(n,h),this.emit("start",h,this._clock.getSecondsAtTime(h))}else this.emit("ticks",s),this._clock.setTicksAtTime(n,s)}}getTicksAtTime(n){return this._clock.getTicksAtTime(n)}getSecondsAtTime(n){return this._clock.getSecondsAtTime(n)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(n){this._clock.frequency.multiplier=n}nextSubdivision(n){if(n=this.toTicks(n),this.state!=="started")return 0;{const s=this.now(),r=this.getTicksAtTime(s),u=n-r%n;return this._clock.nextTickTime(u,s)}}syncSignal(n,s){const r=this.now();let u=this.bpm,h=1/(60/u.getValueAtTime(r)/this.PPQ),c=[];if(n.units==="time"){const m=.015625/h,d=new Pe(m),v=new df(-1),_=new Pe(m);u.chain(d,v,_),u=_,h=1/h,c=[d,v,_]}s||(n.getValueAtTime(r)!==0?s=n.getValueAtTime(r)/h:s=0);const p=new Pe(s);return u.connect(p),p.connect(n._param),c.push(p),this._syncedSignals.push({initial:n.value,nodes:c,signal:n}),n.value=0,this}unsyncSignal(n){for(let s=this._syncedSignals.length-1;s>=0;s--){const r=this._syncedSignals[s];r.signal===n&&(r.nodes.forEach(u=>u.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(s,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),R0(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}nl.mixin(tu);Wo(l=>{l.transport=new tu({context:l})});Ko(l=>{l.transport.dispose()});class bn extends jt{constructor(n){super(n),this.input=void 0,this._state=new af("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=ie,this._syncedStop=ie,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ya({context:this.context,mute:n.mute,volume:n.volume}),this.volume=this._volume.volume,Te(this,"volume"),this.onstop=n.onstop}static getDefaults(){return Object.assign(jt.getDefaults(),{mute:!1,onstop:ie,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(n){this._volume.mute=n}_clampToCurrentTime(n){return this._synced?n:Math.max(n,this.context.currentTime)}start(n,s,r){let u=Un(n)&&this._synced?this.context.transport.seconds:this.toSeconds(n);if(u=this._clampToCurrentTime(u),!this._synced&&this._state.getValueAtTime(u)==="started")Ct(ka(u,this._state.get(u).time),"Start time must be strictly greater than previous start time"),this._state.cancel(u),this._state.setStateAtTime("started",u),this.log("restart",u),this.restart(u,s,r);else if(this.log("start",u),this._state.setStateAtTime("started",u),this._synced){const h=this._state.get(u);h&&(h.offset=this.toSeconds(Da(s,0)),h.duration=r?this.toSeconds(r):void 0);const c=this.context.transport.schedule(p=>{this._start(p,s,r)},u);this._scheduled.push(c),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>u&&this._syncedStart(this.now(),this.context.transport.seconds)}else E0(this.context),this._start(u,s,r);return this}stop(n){let s=Un(n)&&this._synced?this.context.transport.seconds:this.toSeconds(n);if(s=this._clampToCurrentTime(s),this._state.getValueAtTime(s)==="started"||Ht(this._state.getNextState("started",s))){if(this.log("stop",s),!this._synced)this._stop(s);else{const r=this.context.transport.schedule(this._stop.bind(this),s);this._scheduled.push(r)}this._state.cancel(s),this._state.setStateAtTime("stopped",s)}return this}restart(n,s,r){return n=this.toSeconds(n),this._state.getValueAtTime(n)==="started"&&(this._state.cancel(n),this._restart(n,s,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(n,s)=>{if(ka(s,0)){const r=this._state.get(s);if(r&&r.state==="started"&&r.time!==s){const u=s-this.toSeconds(r.time);let h;r.duration&&(h=this.toSeconds(r.duration)-u),this._start(n,this.toSeconds(r.offset)+u,h)}}},this._syncedStop=n=>{const s=this.context.transport.getSecondsAtTime(Math.max(n-this.sampleTime,0));this._state.getValueAtTime(s)==="started"&&this._stop(n)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(n=>this.context.transport.clear(n)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=ie,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class eu extends Ua{constructor(){const n=kt(eu.getDefaults(),arguments,["url","onload"]);super(n),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Ga(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new me({context:this.context,param:this._source.playbackRate,units:"positive",value:n.playbackRate}),this.loop=n.loop,this.loopStart=n.loopStart,this.loopEnd=n.loopEnd,this._buffer=new fe(n.url,n.onload,n.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Ua.getDefaults(),{url:new fe,loop:!1,loopEnd:0,loopStart:0,onload:ie,onerror:ie,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(n){this._fadeIn=n}get fadeOut(){return this._fadeOut}set fadeOut(n){this._fadeOut=n}get curve(){return this._curve}set curve(n){this._curve=n}start(n,s,r,u=1){Ct(this.buffer.loaded,"buffer is either not set or not loaded");const h=this.toSeconds(n);this._startGain(h,u),this.loop?s=Da(s,this.loopStart):s=Da(s,0);let c=Math.max(this.toSeconds(s),0);if(this.loop){const p=this.toSeconds(this.loopEnd)||this.buffer.duration,m=this.toSeconds(this.loopStart),d=p-m;kh(c,p)&&(c=(c-m)%d+m),Hn(c,this.buffer.duration)&&(c=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,jo(c,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(h,c)),Ht(r)){let p=this.toSeconds(r);p=Math.max(p,0),this.stop(h+p)}return this}_stopSource(n){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(n)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(n){this._source.loopStart=this.toSeconds(n)}get loopEnd(){return this._source.loopEnd}set loopEnd(n){this._source.loopEnd=this.toSeconds(n)}get buffer(){return this._buffer}set buffer(n){this._buffer.set(n)}get loop(){return this._source.loop}set loop(n){this._source.loop=n,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Ys(l,n){return Oe(this,void 0,void 0,function*(){const s=n/l.context.sampleRate,r=new nf(1,s,l.context.sampleRate);return new l.constructor(Object.assign(l.get(),{frequency:2/s,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class mf extends Ua{constructor(){const n=kt(mf.getDefaults(),arguments,["frequency","type"]);super(n),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Ga(this._oscillator,this._gainNode),this.type=n.type,this.frequency=new me({context:this.context,param:this._oscillator.frequency,units:"frequency",value:n.frequency}),this.detune=new me({context:this.context,param:this._oscillator.detune,units:"cents",value:n.detune}),Te(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ua.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(n){const s=this.toSeconds(n);return this.log("start",s),this._startGain(s),this._oscillator.start(s),this}_stopSource(n){this._oscillator.stop(n)}setPeriodicWave(n){return this._oscillator.setPeriodicWave(n),this}get type(){return this._oscillator.type}set type(n){this._oscillator.type=n}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Ne extends bn{constructor(){const n=kt(Ne.getDefaults(),arguments,["frequency","type"]);super(n),this.name="Oscillator",this._oscillator=null,this.frequency=new Le({context:this.context,units:"frequency",value:n.frequency}),Te(this,"frequency"),this.detune=new Le({context:this.context,units:"cents",value:n.detune}),Te(this,"detune"),this._partials=n.partials,this._partialCount=n.partialCount,this._type=n.type,n.partialCount&&n.type!=="custom"&&(this._type=this.baseType+n.partialCount.toString()),this.phase=n.phase}static getDefaults(){return Object.assign(bn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(n){const s=this.toSeconds(n),r=new mf({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(s)}_stop(n){const s=this.toSeconds(n);this._oscillator&&this._oscillator.stop(s)}_restart(n){const s=this.toSeconds(n);return this.log("restart",s),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(s),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Ne._periodicWaveCache.find(s=>s.phase===this._phase&&yx(s.partials,this._partials));{const n=Ne._periodicWaveCache.find(s=>s.type===this._type&&s.phase===this._phase);return this._partialCount=n?n.partialCount:this._partialCount,n}}get type(){return this._type}set type(n){this._type=n;const s=["sine","square","sawtooth","triangle"].indexOf(n)!==-1;if(this._phase===0&&s)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=n);else{const r=this._getCachedPeriodicWave();if(Ht(r)){const{partials:u,wave:h}=r;this._wave=h,this._partials=u,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[u,h]=this._getRealImaginary(n,this._phase),c=this.context.createPeriodicWave(u,h);this._wave=c,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Ne._periodicWaveCache.push({imag:h,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:u,type:this._type,wave:this._wave}),Ne._periodicWaveCache.length>100&&Ne._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(n){this.partialCount&&this._type!=="custom"&&n!=="custom"?this.type=n+this.partialCount:this.type=n}get partialCount(){return this._partialCount}set partialCount(n){os(n,0);let s=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(s=r[1]),this._type!=="custom")n===0?this.type=s:this.type=s+n.toString();else{const u=new Float32Array(n);this._partials.forEach((h,c)=>u[c]=h),this._partials=Array.from(u),this.type=this._type}}_getRealImaginary(n,s){let u=2048;const h=new Float32Array(u),c=new Float32Array(u);let p=1;if(n==="custom"){if(p=this._partials.length+1,this._partialCount=this._partials.length,u=p,this._partials.length===0)return[h,c]}else{const m=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(n);m?(p=parseInt(m[2],10)+1,this._partialCount=parseInt(m[2],10),n=m[1],p=Math.max(p,2),u=p):this._partialCount=0,this._partials=[]}for(let m=1;m<u;++m){const d=2/(m*Math.PI);let v;switch(n){case"sine":v=m<=p?1:0,this._partials[m-1]=v;break;case"square":v=m&1?2*d:0,this._partials[m-1]=v;break;case"sawtooth":v=d*(m&1?1:-1),this._partials[m-1]=v;break;case"triangle":m&1?v=2*(d*d)*(m-1>>1&1?-1:1):v=0,this._partials[m-1]=v;break;case"custom":v=this._partials[m-1];break;default:throw new TypeError("Oscillator: invalid type: "+n)}v!==0?(h[m]=-v*Math.sin(s*m),c[m]=v*Math.cos(s*m)):(h[m]=0,c[m]=0)}return[h,c]}_inverseFFT(n,s,r){let u=0;const h=n.length;for(let c=0;c<h;c++)u+=n[c]*Math.cos(c*r)+s[c]*Math.sin(c*r);return u}getInitialValue(){const[n,s]=this._getRealImaginary(this._type,0);let r=0;const u=Math.PI*2,h=32;for(let c=0;c<h;c++)r=Math.max(this._inverseFFT(n,s,c/h*u),r);return Sx(-this._inverseFFT(n,s,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(n){this._phase=n*Math.PI/180,this.type=this._type}asArray(){return Oe(this,arguments,void 0,function*(n=1024){return Ys(this,n)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Ne._periodicWaveCache=[];class qx extends za{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new sl({context:this.context,mapping:n=>(n+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Va extends Le{constructor(){const n=kt(Va.getDefaults(),arguments,["value"]);super(n),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Pe({context:this.context,minValue:n.minValue,maxValue:n.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(Le.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class nu extends bn{constructor(){const n=kt(nu.getDefaults(),arguments,["frequency","type","modulationType"]);super(n),this.name="AMOscillator",this._modulationScale=new qx({context:this.context}),this._modulationNode=new Pe({context:this.context}),this._carrier=new Ne({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase,type:n.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Ne({context:this.context,phase:n.phase,type:n.modulationType}),this.harmonicity=new Va({context:this.context,units:"positive",value:n.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Te(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ne.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(n){this._modulator.start(n),this._carrier.start(n)}_stop(n){this._modulator.stop(n),this._carrier.stop(n)}_restart(n){this._modulator.restart(n),this._carrier.restart(n)}get type(){return this._carrier.type}set type(n){this._carrier.type=n}get baseType(){return this._carrier.baseType}set baseType(n){this._carrier.baseType=n}get partialCount(){return this._carrier.partialCount}set partialCount(n){this._carrier.partialCount=n}get modulationType(){return this._modulator.type}set modulationType(n){this._modulator.type=n}get phase(){return this._carrier.phase}set phase(n){this._carrier.phase=n,this._modulator.phase=n}get partials(){return this._carrier.partials}set partials(n){this._carrier.partials=n}asArray(){return Oe(this,arguments,void 0,function*(n=1024){return Ys(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class iu extends bn{constructor(){const n=kt(iu.getDefaults(),arguments,["frequency","type","modulationType"]);super(n),this.name="FMOscillator",this._modulationNode=new Pe({context:this.context,gain:0}),this._carrier=new Ne({context:this.context,detune:n.detune,frequency:0,onstop:()=>this.onstop(this),phase:n.phase,type:n.type}),this.detune=this._carrier.detune,this.frequency=new Le({context:this.context,units:"frequency",value:n.frequency}),this._modulator=new Ne({context:this.context,phase:n.phase,type:n.modulationType}),this.harmonicity=new Va({context:this.context,units:"positive",value:n.harmonicity}),this.modulationIndex=new Va({context:this.context,units:"positive",value:n.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Te(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ne.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(n){this._modulator.start(n),this._carrier.start(n)}_stop(n){this._modulator.stop(n),this._carrier.stop(n)}_restart(n){return this._modulator.restart(n),this._carrier.restart(n),this}get type(){return this._carrier.type}set type(n){this._carrier.type=n}get baseType(){return this._carrier.baseType}set baseType(n){this._carrier.baseType=n}get partialCount(){return this._carrier.partialCount}set partialCount(n){this._carrier.partialCount=n}get modulationType(){return this._modulator.type}set modulationType(n){this._modulator.type=n}get phase(){return this._carrier.phase}set phase(n){this._carrier.phase=n,this._modulator.phase=n}get partials(){return this._carrier.partials}set partials(n){this._carrier.partials=n}asArray(){return Oe(this,arguments,void 0,function*(n=1024){return Ys(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class al extends bn{constructor(){const n=kt(al.getDefaults(),arguments,["frequency","width"]);super(n),this.name="PulseOscillator",this._widthGate=new Pe({context:this.context,gain:0}),this._thresh=new sl({context:this.context,mapping:s=>s<=0?-1:1}),this.width=new Le({context:this.context,units:"audioRange",value:n.width}),this._triangle=new Ne({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Te(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(bn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(n){n=this.toSeconds(n),this._triangle.start(n),this._widthGate.gain.setValueAtTime(1,n)}_stop(n){n=this.toSeconds(n),this._triangle.stop(n),this._widthGate.gain.cancelScheduledValues(n),this._widthGate.gain.setValueAtTime(0,n)}_restart(n){this._triangle.restart(n),this._widthGate.gain.cancelScheduledValues(n),this._widthGate.gain.setValueAtTime(1,n)}get phase(){return this._triangle.phase}set phase(n){this._triangle.phase=n}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(n){this._triangle.type=n}asArray(){return Oe(this,arguments,void 0,function*(n=1024){return Ys(this,n)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class su extends bn{constructor(){const n=kt(su.getDefaults(),arguments,["frequency","type","spread"]);super(n),this.name="FatOscillator",this._oscillators=[],this.frequency=new Le({context:this.context,units:"frequency",value:n.frequency}),this.detune=new Le({context:this.context,units:"cents",value:n.detune}),this._spread=n.spread,this._type=n.type,this._phase=n.phase,this._partials=n.partials,this._partialCount=n.partialCount,this.count=n.count,Te(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ne.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(n){n=this.toSeconds(n),this._forEach(s=>s.start(n))}_stop(n){n=this.toSeconds(n),this._forEach(s=>s.stop(n))}_restart(n){this._forEach(s=>s.restart(n))}_forEach(n){for(let s=0;s<this._oscillators.length;s++)n(this._oscillators[s],s)}get type(){return this._type}set type(n){this._type=n,this._forEach(s=>s.type=n)}get spread(){return this._spread}set spread(n){if(this._spread=n,this._oscillators.length>1){const s=-n/2,r=n/(this._oscillators.length-1);this._forEach((u,h)=>u.detune.value=s+r*h)}}get count(){return this._oscillators.length}set count(n){if(os(n,1),this._oscillators.length!==n){this._forEach(s=>s.dispose()),this._oscillators=[];for(let s=0;s<n;s++){const r=new Ne({context:this.context,volume:-6-n*1.1,type:this._type,phase:this._phase+s/n*360,partialCount:this._partialCount,onstop:s===0?()=>this.onstop(this):ie});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[s]=r}this.spread=this._spread,this.state==="started"&&this._forEach(s=>s.start())}}get phase(){return this._phase}set phase(n){this._phase=n,this._forEach((s,r)=>s.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(n){this._forEach(s=>s.baseType=n),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this._type="custom",this._forEach(s=>s.partials=n))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(n){this._partialCount=n,this._forEach(s=>s.partialCount=n),this._type=this._oscillators[0].type}asArray(){return Oe(this,arguments,void 0,function*(n=1024){return Ys(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(n=>n.dispose()),this}}class au extends bn{constructor(){const n=kt(au.getDefaults(),arguments,["frequency","modulationFrequency"]);super(n),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Va({context:this.context,value:2}),this._pulse=new al({context:this.context,frequency:n.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Ne({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Te(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(bn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(n){n=this.toSeconds(n),this._modulator.start(n),this._pulse.start(n)}_stop(n){n=this.toSeconds(n),this._modulator.stop(n),this._pulse.stop(n)}_restart(n){this._modulator.restart(n),this._pulse.restart(n)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(n){this._modulator.phase=n}asArray(){return Oe(this,arguments,void 0,function*(n=1024){return Ys(this,n)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Ng={am:nu,fat:su,fm:iu,oscillator:Ne,pulse:al,pwm:au};class Ho extends bn{constructor(){const n=kt(Ho.getDefaults(),arguments,["frequency","type"]);super(n),this.name="OmniOscillator",this.frequency=new Le({context:this.context,units:"frequency",value:n.frequency}),this.detune=new Le({context:this.context,units:"cents",value:n.detune}),Te(this,["frequency","detune"]),this.set(n)}static getDefaults(){return Object.assign(Ne.getDefaults(),iu.getDefaults(),nu.getDefaults(),su.getDefaults(),al.getDefaults(),au.getDefaults())}_start(n){this._oscillator.start(n)}_stop(n){this._oscillator.stop(n)}_restart(n){return this._oscillator.restart(n),this}get type(){let n="";return["am","fm","fat"].some(s=>this._sourceType===s)&&(n=this._sourceType),n+this._oscillator.type}set type(n){n.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(2)):n.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(2)):n.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(3)):n==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):n==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=n)}get partials(){return this._oscillator.partials}set partials(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=n)}get partialCount(){return this._oscillator.partialCount}set partialCount(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=n)}set(n){return Reflect.has(n,"type")&&n.type&&(this.type=n.type),super.set(n),this}_createNewOscillator(n){if(n!==this._sourceType){this._sourceType=n;const s=Ng[n],r=this.now();if(this._oscillator){const u=this._oscillator;u.stop(r),this.context.setTimeout(()=>u.dispose(),this.blockTime)}this._oscillator=new s({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(n){this._oscillator.phase=n}get sourceType(){return this._sourceType}set sourceType(n){let s="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(s=this._oscillator.type),n==="fm"?this.type="fm"+s:n==="am"?this.type="am"+s:n==="fat"?this.type="fat"+s:n==="oscillator"?this.type=s:n==="pulse"?this.type="pulse":n==="pwm"&&(this.type="pwm")}_getOscType(n,s){return n instanceof Ng[s]}get baseType(){return this._oscillator.baseType}set baseType(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&n!=="pulse"&&n!=="pwm"&&(this._oscillator.baseType=n)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(n){this._getOscType(this._oscillator,"fat")&&ls(n)&&(this._oscillator.count=n)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(n){this._getOscType(this._oscillator,"fat")&&ls(n)&&(this._oscillator.spread=n)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(n){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Oi(n)&&(this._oscillator.modulationType=n)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Oe(this,arguments,void 0,function*(n=1024){return Ys(this,n)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function V0(l,n=1/0){const s=new WeakMap;return function(r,u){Reflect.defineProperty(r,u,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(h){os(h,l,n),s.set(this,h)}})}}function Ri(l,n=1/0){const s=new WeakMap;return function(r,u){Reflect.defineProperty(r,u,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(h){os(this.toSeconds(h),l,n),s.set(this,h)}})}}class ru extends bn{constructor(){const n=kt(ru.getDefaults(),arguments,["url","onload"]);super(n),this.name="Player",this._activeSources=new Set,this._buffer=new fe({onload:this._onload.bind(this,n.onload),onerror:n.onerror,reverse:n.reverse,url:n.url}),this.autostart=n.autostart,this._loop=n.loop,this._loopStart=n.loopStart,this._loopEnd=n.loopEnd,this._playbackRate=n.playbackRate,this.fadeIn=n.fadeIn,this.fadeOut=n.fadeOut}static getDefaults(){return Object.assign(bn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:ie,onerror:ie,playbackRate:1,reverse:!1})}load(n){return Oe(this,void 0,void 0,function*(){return yield this._buffer.load(n),this._onload(),this})}_onload(n=ie){n(),this.autostart&&this.start()}_onSourceEnd(n){this.onstop(this),this._activeSources.delete(n),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(n,s,r){return super.start(n,s,r),this}_start(n,s,r){this._loop?s=Da(s,this._loopStart):s=Da(s,0);const u=this.toSeconds(s),h=r;r=Da(r,Math.max(this._buffer.duration-u,0));let c=this.toSeconds(r);c=c/this._playbackRate,n=this.toSeconds(n);const p=new eu({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(n+c),this._state.setStateAtTime("stopped",n+c,{implicitEnd:!0})),this._activeSources.add(p),this._loop&&Un(h)?p.start(n,u):p.start(n,u,c-this.toSeconds(this.fadeOut))}_stop(n){const s=this.toSeconds(n);this._activeSources.forEach(r=>r.stop(s))}restart(n,s,r){return super.restart(n,s,r),this}_restart(n,s,r){var u;(u=[...this._activeSources].pop())===null||u===void 0||u.stop(n),this._start(n,s,r)}seek(n,s){const r=this.toSeconds(s);if(this._state.getValueAtTime(r)==="started"){const u=this.toSeconds(n);this._stop(r),this._start(r,u)}return this}setLoopPoints(n,s){return this.loopStart=n,this.loopEnd=s,this}get loopStart(){return this._loopStart}set loopStart(n){this._loopStart=n,this.buffer.loaded&&os(this.toSeconds(n),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopStart=n})}get loopEnd(){return this._loopEnd}set loopEnd(n){this._loopEnd=n,this.buffer.loaded&&os(this.toSeconds(n),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopEnd=n})}get buffer(){return this._buffer}set buffer(n){this._buffer.set(n)}get loop(){return this._loop}set loop(n){if(this._loop!==n&&(this._loop=n,this._activeSources.forEach(s=>{s.loop=n}),n)){const s=this._state.getNextState("stopped",this.now());s&&this._state.cancel(s.time)}}get playbackRate(){return this._playbackRate}set playbackRate(n){this._playbackRate=n;const s=this.now(),r=this._state.getNextState("stopped",s);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(u=>u.cancelStop())),this._activeSources.forEach(u=>{u.playbackRate.setValueAtTime(n,s)})}get reverse(){return this._buffer.reverse}set reverse(n){this._buffer.reverse=n}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(n=>n.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Qn([Ri(0)],ru.prototype,"fadeIn",void 0);Qn([Ri(0)],ru.prototype,"fadeOut",void 0);class ds extends jt{constructor(){const n=kt(ds.getDefaults(),arguments,["attack","decay","sustain","release"]);super(n),this.name="Envelope",this._sig=new Le({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=n.attack,this.decay=n.decay,this.sustain=n.sustain,this.release=n.release,this.attackCurve=n.attackCurve,this.releaseCurve=n.releaseCurve,this.decayCurve=n.decayCurve}static getDefaults(){return Object.assign(jt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(n,s){if(Oi(n))return n;{let r;for(r in Eo)if(Eo[r][s]===n)return r;return n}}_setCurve(n,s,r){if(Oi(r)&&Reflect.has(Eo,r)){const u=Eo[r];Bs(u)?n!=="_decayCurve"&&(this[n]=u[s]):this[n]=u}else if(Sn(r)&&n!=="_decayCurve")this[n]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(n){this._setCurve("_attackCurve","In",n)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(n){this._setCurve("_releaseCurve","Out",n)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(n){this._setCurve("_decayCurve","Out",n)}triggerAttack(n,s=1){this.log("triggerAttack",n,s),n=this.toSeconds(n);let u=this.toSeconds(this.attack);const h=this.toSeconds(this.decay),c=this.getValueAtTime(n);if(c>0){const p=1/u;u=(1-c)/p}if(u<this.sampleTime)this._sig.cancelScheduledValues(n),this._sig.setValueAtTime(s,n);else if(this._attackCurve==="linear")this._sig.linearRampTo(s,u,n);else if(this._attackCurve==="exponential")this._sig.targetRampTo(s,u,n);else{this._sig.cancelAndHoldAtTime(n);let p=this._attackCurve;for(let m=1;m<p.length;m++)if(p[m-1]<=c&&c<=p[m]){p=this._attackCurve.slice(m),p[0]=c;break}this._sig.setValueCurveAtTime(p,n,u,s)}if(h&&this.sustain<1){const p=s*this.sustain,m=n+u;this.log("decay",m),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(p,h+m):this._sig.exponentialApproachValueAtTime(p,m,h)}return this}triggerRelease(n){this.log("triggerRelease",n),n=this.toSeconds(n);const s=this.getValueAtTime(n);if(s>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,n):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,n):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,n):(Ct(Sn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(n),this._sig.setValueCurveAtTime(this._releaseCurve,n,r,s))}return this}getValueAtTime(n){return this._sig.getValueAtTime(n)}triggerAttackRelease(n,s,r=1){return s=this.toSeconds(s),this.triggerAttack(s,r),this.triggerRelease(s+this.toSeconds(n)),this}cancel(n){return this._sig.cancelScheduledValues(this.toSeconds(n)),this}connect(n,s=0,r=0){return lf(this,n,s,r),this}asArray(){return Oe(this,arguments,void 0,function*(n=1024){const s=n/this.context.sampleRate,r=new nf(1,s,this.context.sampleRate),u=this.toSeconds(this.attack)+this.toSeconds(this.decay),h=u+this.toSeconds(this.release),c=h*.1,p=h+c,m=new this.constructor(Object.assign(this.get(),{attack:s*this.toSeconds(this.attack)/p,decay:s*this.toSeconds(this.decay)/p,release:s*this.toSeconds(this.release)/p,context:r}));return m._sig.toDestination(),m.triggerAttackRelease(s*(u+c)/p,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Qn([Ri(0)],ds.prototype,"attack",void 0);Qn([Ri(0)],ds.prototype,"decay",void 0);Qn([V0(0,1)],ds.prototype,"sustain",void 0);Qn([Ri(0)],ds.prototype,"release",void 0);const Eo=(()=>{let n,s;const r=[];for(n=0;n<128;n++)r[n]=Math.sin(n/127*(Math.PI/2));const u=[],h=6.4;for(n=0;n<127;n++){s=n/127;const S=Math.sin(s*(Math.PI*2)*h-Math.PI/2)+1;u[n]=S/10+s*.83}u[127]=1;const c=[],p=5;for(n=0;n<128;n++)c[n]=Math.ceil(n/127*p)/p;const m=[];for(n=0;n<128;n++)s=n/127,m[n]=.5*(1-Math.cos(Math.PI*s));const d=[];for(n=0;n<128;n++){s=n/127;const S=Math.pow(s,3)*4+.2,T=Math.cos(S*Math.PI*2*s);d[n]=Math.abs(T*(1-s))}function v(S){const T=new Array(S.length);for(let b=0;b<S.length;b++)T[b]=1-S[b];return T}function _(S){return S.slice(0).reverse()}return{bounce:{In:v(d),Out:d},cosine:{In:r,Out:_(r)},exponential:"exponential",linear:"linear",ripple:{In:u,Out:v(u)},sine:{In:m,Out:v(m)},step:{In:c,Out:v(c)}}})();class cs extends jt{constructor(){const n=kt(cs.getDefaults(),arguments);super(n),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=s=>this._original_triggerRelease(s),this._volume=this.output=new Ya({context:this.context,volume:n.volume}),this.volume=this._volume.volume,Te(this,"volume")}static getDefaults(){return Object.assign(jt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let n=!1;return this._synced||(this._synced=!0,n=!0),n}_syncMethod(n,s){const r=this["_original_"+n]=this[n];this[n]=(...u)=>{const h=u[s],c=this.context.transport.schedule(p=>{u[s]=p,r.apply(this,u)},h);this._scheduledEvents.push(c)}}unsync(){return this._scheduledEvents.forEach(n=>this.context.transport.clear(n)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(n,s,r,u){const h=this.toSeconds(r),c=this.toSeconds(s);return this.triggerAttack(n,h,u),this.triggerRelease(h+c),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Is extends cs{constructor(){const n=kt(Is.getDefaults(),arguments);super(n),this.portamento=n.portamento,this.onsilence=n.onsilence}static getDefaults(){return Object.assign(cs.getDefaults(),{detune:0,onsilence:ie,portamento:0})}triggerAttack(n,s,r=1){this.log("triggerAttack",n,s,r);const u=this.toSeconds(s);return this._triggerEnvelopeAttack(u,r),this.setNote(n,u),this}triggerRelease(n){this.log("triggerRelease",n);const s=this.toSeconds(n);return this._triggerEnvelopeRelease(s),this}setNote(n,s){const r=this.toSeconds(s),u=n instanceof Tn?n.toFrequency():n;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const h=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(u,h,r)}else this.frequency.setValueAtTime(u,r);return this}}Qn([Ri(0)],Is.prototype,"portamento",void 0);class gf extends ds{constructor(){super(kt(gf.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Pe({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Ba extends Is{constructor(){const n=kt(Ba.getDefaults(),arguments);super(n),this.name="Synth",this.oscillator=new Ho(Object.assign({context:this.context,detune:n.detune,onstop:()=>this.onsilence(this)},n.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new gf(Object.assign({context:this.context},n.envelope)),this.oscillator.chain(this.envelope,this.output),Te(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Is.getDefaults(),{envelope:Object.assign(Mh(ds.getDefaults(),Object.keys(jt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Mh(Ho.getDefaults(),[...Object.keys(bn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(n,s){if(this.envelope.triggerAttack(n,s),this.oscillator.start(n),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),u=this.toSeconds(this.envelope.decay);this.oscillator.stop(n+r+u)}}_triggerEnvelopeRelease(n){this.envelope.triggerRelease(n),this.oscillator.stop(n+this.toSeconds(this.envelope.release))}getLevelAtTime(n){return n=this.toSeconds(n),this.envelope.getValueAtTime(n)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class lu extends Ba{constructor(){const n=kt(lu.getDefaults(),arguments);super(n),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=n.pitchDecay,this.octaves=n.octaves,Te(this,["oscillator","envelope"])}static getDefaults(){return Ls(Is.getDefaults(),Ba.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(n,s){const r=this.toSeconds(s),u=this.toFrequency(n instanceof Tn?n.toFrequency():n),h=u*this.octaves;return this.oscillator.frequency.setValueAtTime(h,r),this.oscillator.frequency.exponentialRampToValueAtTime(u,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Qn([V0(0)],lu.prototype,"octaves",void 0);Qn([Ri(0)],lu.prototype,"pitchDecay",void 0);const B0=new Set;function vf(l){B0.add(l)}function L0(l,n){const s=`registerProcessor("${l}", ${n})`;B0.add(s)}const jx=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;vf(jx);const Ix=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;vf(Ix);const Hx=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;vf(Hx);const Gx="feedback-comb-filter",Yx=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;L0(Gx,Yx);class _f extends cs{constructor(){const n=kt(_f.getDefaults(),arguments,["voice","options"]);super(n),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=u=>this.releaseAll(u),Ct(!ls(n.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const s=n.voice.getDefaults();this.options=Object.assign(s,n.options),this.voice=n.voice,this.maxPolyphony=n.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(cs.getDefaults(),{maxPolyphony:32,options:{},voice:Ba})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(n){this._availableVoices.push(n);const s=this._activeVoices.findIndex(r=>r.voice===n);this._activeVoices.splice(s,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const n=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Ct(n instanceof Is,"Voice must extend Monophonic class"),n.connect(this.output),this._voices.push(n),n}else Po("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const n=this._availableVoices.shift(),s=this._voices.indexOf(n);this._voices.splice(s,1),this.context.isOffline||n.dispose()}}_triggerAttack(n,s,r){n.forEach(u=>{const h=new Io(this.context,u).toMidi(),c=this._getNextAvailableVoice();c&&(c.triggerAttack(u,s,r),this._activeVoices.push({midi:h,voice:c,released:!1}),this.log("triggerAttack",u,s))})}_triggerRelease(n,s){n.forEach(r=>{const u=new Io(this.context,r).toMidi(),h=this._activeVoices.find(({midi:c,released:p})=>c===u&&!p);h&&(h.voice.triggerRelease(s),h.released=!0,this.log("triggerRelease",r,s))})}_scheduleEvent(n,s,r,u){Ct(!this.disposed,"Synth was already disposed"),r<=this.now()?n==="attack"?this._triggerAttack(s,r,u):this._triggerRelease(s,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(n,s,r,u)},r-this.now())}triggerAttack(n,s,r){Array.isArray(n)||(n=[n]);const u=this.toSeconds(s);return this._scheduleEvent("attack",n,u,r),this}triggerRelease(n,s){Array.isArray(n)||(n=[n]);const r=this.toSeconds(s);return this._scheduleEvent("release",n,r),this}triggerAttackRelease(n,s,r,u){const h=this.toSeconds(r);if(this.triggerAttack(n,h,u),Sn(s)){Ct(Sn(n),"If the duration is an array, the notes must also be an array"),n=n;for(let c=0;c<n.length;c++){const p=s[Math.min(c,s.length-1)],m=this.toSeconds(p);Ct(m>0,"The duration must be greater than 0"),this.triggerRelease(n[c],h+m)}}else{const c=this.toSeconds(s);Ct(c>0,"The duration must be greater than 0"),this.triggerRelease(n,h+c)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(n){const s=Mh(n,["onsilence","context"]);return this.options=Ls(this.options,s),this._voices.forEach(r=>r.set(s)),this._dummyVoice.set(s),this}get(){return this._dummyVoice.get()}releaseAll(n){const s=this.toSeconds(n);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(s)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(n=>n.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class rl extends cs{constructor(){const n=kt(rl.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(n),this.name="Sampler",this._activeSources=new Map;const s={};Object.keys(n.urls).forEach(r=>{const u=parseInt(r,10);if(Ct(Ao(r)||ls(u)&&isFinite(u),`url key is neither a note or midi pitch: ${r}`),Ao(r)){const h=new Tn(this.context,r).toMidi();s[h]=n.urls[r]}else ls(u)&&isFinite(u)&&(s[u]=n.urls[u])}),this._buffers=new ff({urls:s,onload:n.onload,baseUrl:n.baseUrl,onerror:n.onerror}),this.attack=n.attack,this.release=n.release,this.curve=n.curve,this._buffers.loaded&&Promise.resolve().then(n.onload)}static getDefaults(){return Object.assign(cs.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:ie,onerror:ie,release:.1,urls:{}})}_findClosest(n){let r=0;for(;r<96;){if(this._buffers.has(n+r))return-r;if(this._buffers.has(n-r))return r;r++}throw new Error(`No available buffers for note: ${n}`)}triggerAttack(n,s,r=1){return this.log("triggerAttack",n,s,r),Array.isArray(n)||(n=[n]),n.forEach(u=>{const h=U0(new Tn(this.context,u).toFrequency()),c=Math.round(h),p=h-c,m=this._findClosest(c),d=c-m,v=this._buffers.get(d),_=k0(m+p),S=new eu({url:v,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:_}).connect(this.output);S.start(s,0,v.duration/_,r),Sn(this._activeSources.get(c))||this._activeSources.set(c,[]),this._activeSources.get(c).push(S),S.onended=()=>{if(this._activeSources&&this._activeSources.has(c)){const T=this._activeSources.get(c),b=T.indexOf(S);b!==-1&&T.splice(b,1)}}}),this}triggerRelease(n,s){return this.log("triggerRelease",n,s),Array.isArray(n)||(n=[n]),n.forEach(r=>{const u=new Tn(this.context,r).toMidi();if(this._activeSources.has(u)&&this._activeSources.get(u).length){const h=this._activeSources.get(u);s=this.toSeconds(s),h.forEach(c=>{c.stop(s)}),this._activeSources.set(u,[])}}),this}releaseAll(n){const s=this.toSeconds(n);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(s)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(n,s,r,u=1){const h=this.toSeconds(r);return this.triggerAttack(n,h,u),Sn(s)?(Ct(Sn(n),"notes must be an array when duration is array"),n.forEach((c,p)=>{const m=s[Math.min(p,s.length-1)];this.triggerRelease(c,h+this.toSeconds(m))})):this.triggerRelease(n,h+this.toSeconds(s)),this}add(n,s,r){if(Ct(Ao(n)||isFinite(n),`note must be a pitch or midi: ${n}`),Ao(n)){const u=new Tn(this.context,n).toMidi();this._buffers.add(u,s,r)}else this._buffers.add(n,s,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(n=>{n.forEach(s=>s.dispose())}),this._activeSources.clear(),this}}Qn([Ri(0)],rl.prototype,"attack",void 0);Qn([Ri(0)],rl.prototype,"release",void 0);class yf extends jt{constructor(){const n=kt(yf.getDefaults(),arguments,["pan"]);super(n),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new me({context:this.context,param:this._panner.pan,value:n.pan,minValue:-1,maxValue:1}),this._panner.channelCount=n.channelCount,this._panner.channelCountMode="explicit",Te(this,"pan")}static getDefaults(){return Object.assign(jt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const Fx="bit-crusher",Xx=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;L0(Fx,Xx);class we extends jt{constructor(){const n=kt(we.getDefaults(),arguments,["solo"]);super(n),this.name="Solo",this.input=this.output=new Pe({context:this.context}),we._allSolos.has(this.context)||we._allSolos.set(this.context,new Set),we._allSolos.get(this.context).add(this),this.solo=n.solo}static getDefaults(){return Object.assign(jt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(n){n?this._addSolo():this._removeSolo(),we._allSolos.get(this.context).forEach(s=>s._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){we._soloed.has(this.context)||we._soloed.set(this.context,new Set),we._soloed.get(this.context).add(this)}_removeSolo(){we._soloed.has(this.context)&&we._soloed.get(this.context).delete(this)}_isSoloed(){return we._soloed.has(this.context)&&we._soloed.get(this.context).has(this)}_noSolos(){return!we._soloed.has(this.context)||we._soloed.has(this.context)&&we._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),we._allSolos.get(this.context).delete(this),this._removeSolo(),this}}we._allSolos=new Map;we._soloed=new Map;class Tf extends jt{constructor(){const n=kt(Tf.getDefaults(),arguments,["pan","volume"]);super(n),this.name="PanVol",this._panner=this.input=new yf({context:this.context,pan:n.pan,channelCount:n.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ya({context:this.context,volume:n.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=n.mute,Te(this,["pan","volume"])}static getDefaults(){return Object.assign(jt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(n){this._volume.mute=n}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Ca extends jt{constructor(){const n=kt(Ca.getDefaults(),arguments,["volume","pan"]);super(n),this.name="Channel",this._solo=this.input=new we({solo:n.solo,context:this.context}),this._panVol=this.output=new Tf({context:this.context,pan:n.pan,volume:n.volume,mute:n.mute,channelCount:n.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Te(this,["pan","volume"])}static getDefaults(){return Object.assign(jt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(n){this._solo.solo=n}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(n){this._panVol.mute=n}_getBus(n){return Ca.buses.has(n)||Ca.buses.set(n,new Pe({context:this.context})),Ca.buses.get(n)}send(n,s=0){const r=this._getBus(n),u=new Pe({context:this.context,units:"decibels",gain:s});return this.connect(u),u.connect(r),u}receive(n){return this._getBus(n).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Ca.buses=new Map;Gn().transport;Gn().destination;Gn().destination;Gn().listener;Gn().draw;Gn();function Zx(l){const n=l||window.fluidCanvas||document.getElementsByTagName("canvas")[0];Xa();let s=window.fluidConfig||{SIM_RESOLUTION:128,DYE_RESOLUTION:1024,CAPTURE_RESOLUTION:512,DENSITY_DISSIPATION:1,VELOCITY_DISSIPATION:.2,PRESSURE:.8,PRESSURE_ITERATIONS:20,CURL:30,SPLAT_RADIUS:.25,SPLAT_FORCE:6e3,SHADING:!0,COLORFUL:!0,COLOR_UPDATE_SPEED:10,PAUSED:!1,BACK_COLOR:{r:0,g:0,b:0},TRANSPARENT:!1,BLOOM:!1,BLOOM_ITERATIONS:8,BLOOM_RESOLUTION:256,BLOOM_INTENSITY:.8,BLOOM_THRESHOLD:.6,BLOOM_SOFT_KNEE:.7,SUNRAYS:!1,SUNRAYS_RESOLUTION:196,SUNRAYS_WEIGHT:1};Object.defineProperty(s,"PAUSED",{value:!1,writable:!1,configurable:!1});function r(){this.id=-1,this.texcoordX=0,this.texcoordY=0,this.prevTexcoordX=0,this.prevTexcoordY=0,this.deltaX=0,this.deltaY=0,this.down=!1,this.moved=!1,this.color=[30,0,300]}let u=[],h=[];u.push(new r);const{gl:c,ext:p}=m(n);_()&&(s.DYE_RESOLUTION=512),p.supportLinearFiltering||(s.DYE_RESOLUTION=512,s.SHADING=!1,s.BLOOM=!1,s.SUNRAYS=!1);function m(w){const L={alpha:!0,depth:!1,stencil:!1,antialias:!1,preserveDrawingBuffer:!1};let U=w.getContext("webgl2",L);const et=!!U;et||(U=w.getContext("webgl",L)||w.getContext("experimental-webgl",L));let Tt,Mt;et?(U.getExtension("EXT_color_buffer_float"),Mt=U.getExtension("OES_texture_float_linear")):(Tt=U.getExtension("OES_texture_half_float"),Mt=U.getExtension("OES_texture_half_float_linear")),U.clearColor(0,0,0,1);const Nt=et?U.HALF_FLOAT:Tt.HALF_FLOAT_OES;let Ft,Qt,An;return et?(Ft=d(U,U.RGBA16F,U.RGBA,Nt),Qt=d(U,U.RG16F,U.RG,Nt),An=d(U,U.R16F,U.RED,Nt)):(Ft=d(U,U.RGBA,U.RGBA,Nt),Qt=d(U,U.RGBA,U.RGBA,Nt),An=d(U,U.RGBA,U.RGBA,Nt)),{gl:U,ext:{formatRGBA:Ft,formatRG:Qt,formatR:An,halfFloatTexType:Nt,supportLinearFiltering:Mt}}}function d(w,L,U,et){if(!v(w,L,U,et))switch(L){case w.R16F:return d(w,w.RG16F,w.RG,et);case w.RG16F:return d(w,w.RGBA16F,w.RGBA,et);default:return null}return{internalFormat:L,format:U}}function v(w,L,U,et){let Tt=w.createTexture();w.bindTexture(w.TEXTURE_2D,Tt),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.NEAREST),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,w.NEAREST),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),w.texImage2D(w.TEXTURE_2D,0,L,4,4,0,U,et,null);let Mt=w.createFramebuffer();return w.bindFramebuffer(w.FRAMEBUFFER,Mt),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,Tt,0),w.checkFramebufferStatus(w.FRAMEBUFFER)==w.FRAMEBUFFER_COMPLETE}function _(){return/Mobi|Android/i.test(navigator.userAgent)}class S{constructor(L,U){this.vertexShader=L,this.fragmentShaderSource=U,this.programs=[],this.activeProgram=null,this.uniforms=[]}setKeywords(L){let U=0;for(let Tt=0;Tt<L.length;Tt++)U+=fl(L[Tt]);let et=this.programs[U];if(et==null){let Tt=x(c.FRAGMENT_SHADER,this.fragmentShaderSource,L);et=b(this.vertexShader,Tt),this.programs[U]=et}et!=this.activeProgram&&(this.uniforms=E(et),this.activeProgram=et)}bind(){c.useProgram(this.activeProgram)}}class T{constructor(L,U){this.uniforms={},this.program=b(L,U),this.uniforms=E(this.program)}bind(){c.useProgram(this.program)}}function b(w,L){let U=c.createProgram();return c.attachShader(U,w),c.attachShader(U,L),c.linkProgram(U),c.getProgramParameter(U,c.LINK_STATUS)||console.trace(c.getProgramInfoLog(U)),U}function E(w){let L=[],U=c.getProgramParameter(w,c.ACTIVE_UNIFORMS);for(let et=0;et<U;et++){let Tt=c.getActiveUniform(w,et).name;L[Tt]=c.getUniformLocation(w,Tt)}return L}function x(w,L,U){L=C(L,U);const et=c.createShader(w);return c.shaderSource(et,L),c.compileShader(et),c.getShaderParameter(et,c.COMPILE_STATUS)||console.trace(c.getShaderInfoLog(et)),et}function C(w,L){if(L==null)return w;let U="";return L.forEach(et=>{U+="#define "+et+`
`}),U+w}const V=x(c.VERTEX_SHADER,`
    precision highp float;

    attribute vec2 aPosition;
    varying vec2 vUv;
    varying vec2 vL;
    varying vec2 vR;
    varying vec2 vT;
    varying vec2 vB;
    uniform vec2 texelSize;

    void main () {
        vUv = aPosition * 0.5 + 0.5;
        vL = vUv - vec2(texelSize.x, 0.0);
        vR = vUv + vec2(texelSize.x, 0.0);
        vT = vUv + vec2(0.0, texelSize.y);
        vB = vUv - vec2(0.0, texelSize.y);
        gl_Position = vec4(aPosition, 0.0, 1.0);
    }
`),H=x(c.VERTEX_SHADER,`
    precision highp float;

    attribute vec2 aPosition;
    varying vec2 vUv;
    varying vec2 vL;
    varying vec2 vR;
    uniform vec2 texelSize;

    void main () {
        vUv = aPosition * 0.5 + 0.5;
        float offset = 1.33333333;
        vL = vUv - texelSize * offset;
        vR = vUv + texelSize * offset;
        gl_Position = vec4(aPosition, 0.0, 1.0);
    }
`),K=x(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying vec2 vUv;
    varying vec2 vL;
    varying vec2 vR;
    uniform sampler2D uTexture;

    void main () {
        vec4 sum = texture2D(uTexture, vUv) * 0.29411764;
        sum += texture2D(uTexture, vL) * 0.35294117;
        sum += texture2D(uTexture, vR) * 0.35294117;
        gl_FragColor = sum;
    }
`),O=x(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying highp vec2 vUv;
    uniform sampler2D uTexture;

    void main () {
        gl_FragColor = texture2D(uTexture, vUv);
    }
`),q=x(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying highp vec2 vUv;
    uniform sampler2D uTexture;
    uniform float value;

    void main () {
        gl_FragColor = value * texture2D(uTexture, vUv);
    }
`),Y=x(c.FRAGMENT_SHADER,`
    precision mediump float;

    uniform vec4 color;

    void main () {
        gl_FragColor = color;
    }
`),k=x(c.FRAGMENT_SHADER,`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    uniform sampler2D uTexture;
    uniform float aspectRatio;

    #define SCALE 25.0

    void main () {
        vec2 uv = floor(vUv * SCALE * vec2(aspectRatio, 1.0));
        float v = mod(uv.x + uv.y, 2.0);
        v = v * 0.1 + 0.8;
        gl_FragColor = vec4(vec3(v), 1.0);
    }
`),st=`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    varying vec2 vL;
    varying vec2 vR;
    varying vec2 vT;
    varying vec2 vB;
    uniform sampler2D uTexture;
    uniform sampler2D uBloom;
    uniform sampler2D uSunrays;
    uniform sampler2D uDithering;
    uniform vec2 ditherScale;
    uniform vec2 texelSize;

    vec3 linearToGamma (vec3 color) {
        color = max(color, vec3(0));
        return max(1.055 * pow(color, vec3(0.416666667)) - 0.055, vec3(0));
    }

    void main () {
        vec3 c = texture2D(uTexture, vUv).rgb;

    #ifdef SHADING
        vec3 lc = texture2D(uTexture, vL).rgb;
        vec3 rc = texture2D(uTexture, vR).rgb;
        vec3 tc = texture2D(uTexture, vT).rgb;
        vec3 bc = texture2D(uTexture, vB).rgb;

        float dx = length(rc) - length(lc);
        float dy = length(tc) - length(bc);

        vec3 n = normalize(vec3(dx, dy, length(texelSize)));
        vec3 l = vec3(0.0, 0.0, 1.0);

        float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);
        c *= diffuse;
    #endif

    #ifdef BLOOM
        vec3 bloom = texture2D(uBloom, vUv).rgb;
    #endif

    #ifdef SUNRAYS
        float sunrays = texture2D(uSunrays, vUv).r;
        c *= sunrays;
    #ifdef BLOOM
        bloom *= sunrays;
    #endif
    #endif

    #ifdef BLOOM
        float noise = texture2D(uDithering, vUv * ditherScale).r;
        noise = noise * 2.0 - 1.0;
        bloom += noise / 255.0;
        bloom = linearToGamma(bloom);
        c += bloom;
    #endif

        float a = max(c.r, max(c.g, c.b));
        gl_FragColor = vec4(c, a);
    }
`,nt=x(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying vec2 vUv;
    uniform sampler2D uTexture;
    uniform vec3 curve;
    uniform float threshold;

    void main () {
        vec3 c = texture2D(uTexture, vUv).rgb;
        float br = max(c.r, max(c.g, c.b));
        float rq = clamp(br - curve.x, 0.0, curve.y);
        rq = curve.z * rq * rq;
        c *= max(rq, br - threshold) / max(br, 0.0001);
        gl_FragColor = vec4(c, 0.0);
    }
`),tt=x(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying vec2 vL;
    varying vec2 vR;
    varying vec2 vT;
    varying vec2 vB;
    uniform sampler2D uTexture;

    void main () {
        vec4 sum = vec4(0.0);
        sum += texture2D(uTexture, vL);
        sum += texture2D(uTexture, vR);
        sum += texture2D(uTexture, vT);
        sum += texture2D(uTexture, vB);
        sum *= 0.25;
        gl_FragColor = sum;
    }
`),Q=x(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying vec2 vL;
    varying vec2 vR;
    varying vec2 vT;
    varying vec2 vB;
    uniform sampler2D uTexture;
    uniform float intensity;

    void main () {
        vec4 sum = vec4(0.0);
        sum += texture2D(uTexture, vL);
        sum += texture2D(uTexture, vR);
        sum += texture2D(uTexture, vT);
        sum += texture2D(uTexture, vB);
        sum *= 0.25;
        gl_FragColor = sum * intensity;
    }
`),ft=x(c.FRAGMENT_SHADER,`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    uniform sampler2D uTexture;

    void main () {
        vec4 c = texture2D(uTexture, vUv);
        float br = max(c.r, max(c.g, c.b));
        c.a = 1.0 - min(max(br * 20.0, 0.0), 0.8);
        gl_FragColor = c;
    }
`),ht=x(c.FRAGMENT_SHADER,`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    uniform sampler2D uTexture;
    uniform float weight;

    #define ITERATIONS 16

    void main () {
        float Density = 0.3;
        float Decay = 0.95;
        float Exposure = 0.7;

        vec2 coord = vUv;
        vec2 dir = vUv - 0.5;

        dir *= 1.0 / float(ITERATIONS) * Density;
        float illuminationDecay = 1.0;

        float color = texture2D(uTexture, vUv).a;

        for (int i = 0; i < ITERATIONS; i++)
        {
            coord -= dir;
            float col = texture2D(uTexture, coord).a;
            color += col * illuminationDecay * weight;
            illuminationDecay *= Decay;
        }

        gl_FragColor = vec4(color * Exposure, 0.0, 0.0, 1.0);
    }
`),vt=x(c.FRAGMENT_SHADER,`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    uniform sampler2D uTarget;
    uniform float aspectRatio;
    uniform vec3 color;
    uniform vec2 point;
    uniform float radius;

    void main () {
        vec2 p = vUv - point.xy;
        p.x *= aspectRatio;
        vec3 splat = exp(-dot(p, p) / radius) * color;
        vec3 base = texture2D(uTarget, vUv).xyz;
        gl_FragColor = vec4(base + splat, 1.0);
    }
`),R=x(c.FRAGMENT_SHADER,`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    uniform sampler2D uVelocity;
    uniform sampler2D uSource;
    uniform vec2 texelSize;
    uniform vec2 dyeTexelSize;
    uniform float dt;
    uniform float dissipation;

    vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {
        vec2 st = uv / tsize - 0.5;

        vec2 iuv = floor(st);
        vec2 fuv = fract(st);

        vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);
        vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);
        vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);
        vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);

        return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);
    }

    void main () {
    #ifdef MANUAL_FILTERING
        vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;
        vec4 result = bilerp(uSource, coord, dyeTexelSize);
    #else
        vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;
        vec4 result = texture2D(uSource, coord);
    #endif
        float decay = 1.0 + dissipation * dt;
        gl_FragColor = result / decay;
    }`,p.supportLinearFiltering?null:["MANUAL_FILTERING"]),F=x(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying highp vec2 vUv;
    varying highp vec2 vL;
    varying highp vec2 vR;
    varying highp vec2 vT;
    varying highp vec2 vB;
    uniform sampler2D uVelocity;

    void main () {
        float L = texture2D(uVelocity, vL).x;
        float R = texture2D(uVelocity, vR).x;
        float T = texture2D(uVelocity, vT).y;
        float B = texture2D(uVelocity, vB).y;

        vec2 C = texture2D(uVelocity, vUv).xy;
        if (vL.x < 0.0) { L = -C.x; }
        if (vR.x > 1.0) { R = -C.x; }
        if (vT.y > 1.0) { T = -C.y; }
        if (vB.y < 0.0) { B = -C.y; }

        float div = 0.5 * (R - L + T - B);
        gl_FragColor = vec4(div, 0.0, 0.0, 1.0);
    }
`),rt=x(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying highp vec2 vUv;
    varying highp vec2 vL;
    varying highp vec2 vR;
    varying highp vec2 vT;
    varying highp vec2 vB;
    uniform sampler2D uVelocity;

    void main () {
        float L = texture2D(uVelocity, vL).y;
        float R = texture2D(uVelocity, vR).y;
        float T = texture2D(uVelocity, vT).x;
        float B = texture2D(uVelocity, vB).x;
        float vorticity = R - L - T + B;
        gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);
    }
`),lt=x(c.FRAGMENT_SHADER,`
    precision highp float;
    precision highp sampler2D;

    varying vec2 vUv;
    varying vec2 vL;
    varying vec2 vR;
    varying vec2 vT;
    varying vec2 vB;
    uniform sampler2D uVelocity;
    uniform sampler2D uCurl;
    uniform float curl;
    uniform float dt;

    void main () {
        float L = texture2D(uCurl, vL).x;
        float R = texture2D(uCurl, vR).x;
        float T = texture2D(uCurl, vT).x;
        float B = texture2D(uCurl, vB).x;
        float C = texture2D(uCurl, vUv).x;

        vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));
        force /= length(force) + 0.0001;
        force *= curl * C;
        force.y *= -1.0;

        vec2 velocity = texture2D(uVelocity, vUv).xy;
        velocity += force * dt;
        velocity = min(max(velocity, -1000.0), 1000.0);
        gl_FragColor = vec4(velocity, 0.0, 1.0);
    }
`),A=x(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying highp vec2 vUv;
    varying highp vec2 vL;
    varying highp vec2 vR;
    varying highp vec2 vT;
    varying highp vec2 vB;
    uniform sampler2D uPressure;
    uniform sampler2D uDivergence;

    void main () {
        float L = texture2D(uPressure, vL).x;
        float R = texture2D(uPressure, vR).x;
        float T = texture2D(uPressure, vT).x;
        float B = texture2D(uPressure, vB).x;
        float C = texture2D(uPressure, vUv).x;
        float divergence = texture2D(uDivergence, vUv).x;
        float pressure = (L + R + B + T - divergence) * 0.25;
        gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);
    }
`),j=x(c.FRAGMENT_SHADER,`
    precision mediump float;
    precision mediump sampler2D;

    varying highp vec2 vUv;
    varying highp vec2 vL;
    varying highp vec2 vR;
    varying highp vec2 vT;
    varying highp vec2 vB;
    uniform sampler2D uPressure;
    uniform sampler2D uVelocity;

    void main () {
        float L = texture2D(uPressure, vL).x;
        float R = texture2D(uPressure, vR).x;
        float T = texture2D(uPressure, vT).x;
        float B = texture2D(uPressure, vB).x;
        vec2 velocity = texture2D(uVelocity, vUv).xy;
        velocity.xy -= vec2(R - L, T - B);
        gl_FragColor = vec4(velocity, 0.0, 1.0);
    }
`),W=(c.bindBuffer(c.ARRAY_BUFFER,c.createBuffer()),c.bufferData(c.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),c.STATIC_DRAW),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,c.createBuffer()),c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),c.STATIC_DRAW),c.vertexAttribPointer(0,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(0),(w,L=!1)=>{w==null?(c.viewport(0,0,c.drawingBufferWidth,c.drawingBufferHeight),c.bindFramebuffer(c.FRAMEBUFFER,null)):(c.viewport(0,0,w.width,w.height),c.bindFramebuffer(c.FRAMEBUFFER,w.fbo)),L&&(c.clearColor(0,0,0,1),c.clear(c.COLOR_BUFFER_BIT)),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0)});let it,at,dt,mt,Dt,ut,Zt=[],oe,Ye,Ce=ou("/LDR_LLL1_0.png");const qe=new T(H,K),Vn=new T(V,O),pt=new T(V,q),At=new T(V,Y),ot=new T(V,k),ct=new T(V,nt),X=new T(V,tt),bt=new T(V,Q),yt=new T(V,ft),Ut=new T(V,ht),Rt=new T(V,vt),Yt=new T(V,R),Fe=new T(V,F),ue=new T(V,rt),gt=new T(V,lt),It=new T(V,A),$t=new T(V,j),cn=new S(V,st);function ps(){let w=Bn(s.SIM_RESOLUTION),L=Bn(s.DYE_RESOLUTION);const U=p.halfFloatTexType,et=p.formatRGBA,Tt=p.formatRG,Mt=p.formatR,Nt=p.supportLinearFiltering?c.LINEAR:c.NEAREST;c.disable(c.BLEND),it==null?it=Ke(L.width,L.height,et.internalFormat,et.format,U,Nt):it=Wn(it,L.width,L.height,et.internalFormat,et.format,U,Nt),at==null?at=Ke(w.width,w.height,Tt.internalFormat,Tt.format,U,Nt):at=Wn(at,w.width,w.height,Tt.internalFormat,Tt.format,U,Nt),dt=Wt(w.width,w.height,Mt.internalFormat,Mt.format,U,c.NEAREST),mt=Wt(w.width,w.height,Mt.internalFormat,Mt.format,U,c.NEAREST),Dt=Ke(w.width,w.height,Mt.internalFormat,Mt.format,U,c.NEAREST),ms(),Pn()}function ms(){let w=Bn(s.BLOOM_RESOLUTION);const L=p.halfFloatTexType,U=p.formatRGBA,et=p.supportLinearFiltering?c.LINEAR:c.NEAREST;ut=Wt(w.width,w.height,U.internalFormat,U.format,L,et),Zt.length=0;for(let Tt=0;Tt<s.BLOOM_ITERATIONS;Tt++){let Mt=w.width>>Tt+1,Nt=w.height>>Tt+1;if(Mt<2||Nt<2)break;let Ft=Wt(Mt,Nt,U.internalFormat,U.format,L,et);Zt.push(Ft)}}function Pn(){let w=Bn(s.SUNRAYS_RESOLUTION);const L=p.halfFloatTexType,U=p.formatR,et=p.supportLinearFiltering?c.LINEAR:c.NEAREST;oe=Wt(w.width,w.height,U.internalFormat,U.format,L,et),Ye=Wt(w.width,w.height,U.internalFormat,U.format,L,et)}function Wt(w,L,U,et,Tt,Mt){c.activeTexture(c.TEXTURE0);let Nt=c.createTexture();c.bindTexture(c.TEXTURE_2D,Nt),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,Mt),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,Mt),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.texImage2D(c.TEXTURE_2D,0,U,w,L,0,et,Tt,null);let Ft=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,Ft),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,Nt,0),c.viewport(0,0,w,L),c.clear(c.COLOR_BUFFER_BIT);let Qt=1/w,An=1/L;return{texture:Nt,fbo:Ft,width:w,height:L,texelSizeX:Qt,texelSizeY:An,attach(Jn){return c.activeTexture(c.TEXTURE0+Jn),c.bindTexture(c.TEXTURE_2D,Nt),Jn}}}function Ke(w,L,U,et,Tt,Mt){let Nt=Wt(w,L,U,et,Tt,Mt),Ft=Wt(w,L,U,et,Tt,Mt);return{width:w,height:L,texelSizeX:Nt.texelSizeX,texelSizeY:Nt.texelSizeY,get read(){return Nt},set read(Qt){Nt=Qt},get write(){return Ft},set write(Qt){Ft=Qt},swap(){let Qt=Nt;Nt=Ft,Ft=Qt}}}function xn(w,L,U,et,Tt,Mt,Nt){let Ft=Wt(L,U,et,Tt,Mt,Nt);return Vn.bind(),c.uniform1i(Vn.uniforms.uTexture,w.attach(0)),W(Ft),Ft}function Wn(w,L,U,et,Tt,Mt,Nt){return w.width==L&&w.height==U||(w.read=xn(w.read,L,U,et,Tt,Mt,Nt),w.write=Wt(L,U,et,Tt,Mt,Nt),w.width=L,w.height=U,w.texelSizeX=1/L,w.texelSizeY=1/U),w}function ou(w){let L=c.createTexture();c.bindTexture(c.TEXTURE_2D,L),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT),c.texImage2D(c.TEXTURE_2D,0,c.RGB,1,1,0,c.RGB,c.UNSIGNED_BYTE,new Uint8Array([255,255,255]));let U={texture:L,width:1,height:1,attach(Tt){return c.activeTexture(c.TEXTURE0+Tt),c.bindTexture(c.TEXTURE_2D,L),Tt}},et=new Image;return et.onload=()=>{U.width=et.width,U.height=et.height,c.bindTexture(c.TEXTURE_2D,L),c.texImage2D(c.TEXTURE_2D,0,c.RGB,c.RGB,c.UNSIGNED_BYTE,et)},et.src=w,U}function ll(){let w=[];s.SHADING&&w.push("SHADING"),s.BLOOM&&w.push("BLOOM"),s.SUNRAYS&&w.push("SUNRAYS"),cn.setKeywords(w)}ll(),ps();let Fa=Date.now(),Mi=0;ki();function ki(){const w=uu();Xa()&&ps(),ol(w),Za(),s.PAUSED||Qa(w),ul(null),requestAnimationFrame(ki)}function uu(){let w=Date.now(),L=(w-Fa)/1e3;return L=Math.min(L,.016666),Fa=w,L}function Xa(){let w=hn(n.clientWidth),L=hn(n.clientHeight);return n.width!=w||n.height!=L?(n.width=w,n.height=L,!0):!1}function ol(w){s.COLORFUL&&(Mi+=w*s.COLOR_UPDATE_SPEED,Mi>=1&&(Mi=hi(Mi,0,1),u.forEach(L=>{L.color=ge()})))}function Za(){h.length>0&&fu(h.pop()),u.forEach(w=>{w.moved&&(w.moved=!1,hu(w))})}function Qa(w){c.disable(c.BLEND),ue.bind(),c.uniform2f(ue.uniforms.texelSize,at.texelSizeX,at.texelSizeY),c.uniform1i(ue.uniforms.uVelocity,at.read.attach(0)),W(mt),gt.bind(),c.uniform2f(gt.uniforms.texelSize,at.texelSizeX,at.texelSizeY),c.uniform1i(gt.uniforms.uVelocity,at.read.attach(0)),c.uniform1i(gt.uniforms.uCurl,mt.attach(1)),c.uniform1f(gt.uniforms.curl,s.CURL),c.uniform1f(gt.uniforms.dt,w),W(at.write),at.swap(),Fe.bind(),c.uniform2f(Fe.uniforms.texelSize,at.texelSizeX,at.texelSizeY),c.uniform1i(Fe.uniforms.uVelocity,at.read.attach(0)),W(dt),pt.bind(),c.uniform1i(pt.uniforms.uTexture,Dt.read.attach(0)),c.uniform1f(pt.uniforms.value,s.PRESSURE),W(Dt.write),Dt.swap(),It.bind(),c.uniform2f(It.uniforms.texelSize,at.texelSizeX,at.texelSizeY),c.uniform1i(It.uniforms.uDivergence,dt.attach(0));for(let U=0;U<s.PRESSURE_ITERATIONS;U++)c.uniform1i(It.uniforms.uPressure,Dt.read.attach(1)),W(Dt.write),Dt.swap();$t.bind(),c.uniform2f($t.uniforms.texelSize,at.texelSizeX,at.texelSizeY),c.uniform1i($t.uniforms.uPressure,Dt.read.attach(0)),c.uniform1i($t.uniforms.uVelocity,at.read.attach(1)),W(at.write),at.swap(),Yt.bind(),c.uniform2f(Yt.uniforms.texelSize,at.texelSizeX,at.texelSizeY),p.supportLinearFiltering||c.uniform2f(Yt.uniforms.dyeTexelSize,at.texelSizeX,at.texelSizeY);let L=at.read.attach(0);c.uniform1i(Yt.uniforms.uVelocity,L),c.uniform1i(Yt.uniforms.uSource,L),c.uniform1f(Yt.uniforms.dt,w),c.uniform1f(Yt.uniforms.dissipation,s.VELOCITY_DISSIPATION),W(at.write),at.swap(),p.supportLinearFiltering||c.uniform2f(Yt.uniforms.dyeTexelSize,it.texelSizeX,it.texelSizeY),c.uniform1i(Yt.uniforms.uVelocity,at.read.attach(0)),c.uniform1i(Yt.uniforms.uSource,it.read.attach(1)),c.uniform1f(Yt.uniforms.dissipation,s.DENSITY_DISSIPATION),W(it.write),it.swap()}function ul(w){s.BLOOM&&Xe(it.read,ut),s.SUNRAYS&&(Ui(it.read,it.write,oe),Pa(oe,Ye,1)),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),c.enable(c.BLEND),s.TRANSPARENT||cu(w,hl(s.BACK_COLOR)),s.TRANSPARENT&&Kn(w),ke(w)}function cu(w,L){At.bind(),c.uniform4f(At.uniforms.color,L.r,L.g,L.b,1),W(w)}function Kn(w){ot.bind(),c.uniform1f(ot.uniforms.aspectRatio,n.width/n.height),W(w)}function ke(w){let L=c.drawingBufferWidth,U=c.drawingBufferHeight;if(cn.bind(),s.SHADING&&c.uniform2f(cn.uniforms.texelSize,1/L,1/U),c.uniform1i(cn.uniforms.uTexture,it.read.attach(0)),s.BLOOM){c.uniform1i(cn.uniforms.uBloom,ut.attach(1)),c.uniform1i(cn.uniforms.uDithering,Ce.attach(2));let et=du(Ce,L,U);c.uniform2f(cn.uniforms.ditherScale,et.x,et.y)}s.SUNRAYS&&c.uniform1i(cn.uniforms.uSunrays,oe.attach(3)),W(w)}function Xe(w,L){if(Zt.length<2)return;let U=L;c.disable(c.BLEND),ct.bind();let et=s.BLOOM_THRESHOLD*s.BLOOM_SOFT_KNEE+1e-4,Tt=s.BLOOM_THRESHOLD-et,Mt=et*2,Nt=.25/et;c.uniform3f(ct.uniforms.curve,Tt,Mt,Nt),c.uniform1f(ct.uniforms.threshold,s.BLOOM_THRESHOLD),c.uniform1i(ct.uniforms.uTexture,w.attach(0)),W(U),X.bind();for(let Ft=0;Ft<Zt.length;Ft++){let Qt=Zt[Ft];c.uniform2f(X.uniforms.texelSize,U.texelSizeX,U.texelSizeY),c.uniform1i(X.uniforms.uTexture,U.attach(0)),W(Qt),U=Qt}c.blendFunc(c.ONE,c.ONE),c.enable(c.BLEND);for(let Ft=Zt.length-2;Ft>=0;Ft--){let Qt=Zt[Ft];c.uniform2f(X.uniforms.texelSize,U.texelSizeX,U.texelSizeY),c.uniform1i(X.uniforms.uTexture,U.attach(0)),c.viewport(0,0,Qt.width,Qt.height),W(Qt),U=Qt}c.disable(c.BLEND),bt.bind(),c.uniform2f(bt.uniforms.texelSize,U.texelSizeX,U.texelSizeY),c.uniform1i(bt.uniforms.uTexture,U.attach(0)),c.uniform1f(bt.uniforms.intensity,s.BLOOM_INTENSITY),W(L)}function Ui(w,L,U){c.disable(c.BLEND),yt.bind(),c.uniform1i(yt.uniforms.uTexture,w.attach(0)),W(L),Ut.bind(),c.uniform1f(Ut.uniforms.weight,s.SUNRAYS_WEIGHT),c.uniform1i(Ut.uniforms.uTexture,L.attach(0)),W(U)}function Pa(w,L,U){qe.bind();for(let et=0;et<U;et++)c.uniform2f(qe.uniforms.texelSize,w.texelSizeX,0),c.uniform1i(qe.uniforms.uTexture,w.attach(0)),W(L),c.uniform2f(qe.uniforms.texelSize,0,w.texelSizeY),c.uniform1i(qe.uniforms.uTexture,L.attach(0)),W(w)}function hu(w){let L=w.deltaX*s.SPLAT_FORCE,U=w.deltaY*s.SPLAT_FORCE;gs(w.texcoordX,w.texcoordY,L,U,w.color)}function fu(w){for(let L=0;L<w;L++){const U=ge();U.r*=10,U.g*=10,U.b*=10;const et=Math.random(),Tt=Math.random(),Mt=1e3*(Math.random()-.5),Nt=1e3*(Math.random()-.5);gs(et,Tt,Mt,Nt,U)}}function gs(w,L,U,et,Tt){Rt.bind(),c.uniform1i(Rt.uniforms.uTarget,at.read.attach(0)),c.uniform1f(Rt.uniforms.aspectRatio,n.width/n.height),c.uniform2f(Rt.uniforms.point,w,L),c.uniform3f(Rt.uniforms.color,U,et,0),c.uniform1f(Rt.uniforms.radius,vs(s.SPLAT_RADIUS/100)),W(at.write),at.swap(),c.uniform1i(Rt.uniforms.uTarget,it.read.attach(0)),c.uniform3f(Rt.uniforms.color,Tt.r,Tt.g,Tt.b),W(it.write),it.swap()}window.splat=gs;function vs(w){let L=n.width/n.height;return L>1&&(w*=L),w}n.addEventListener("mousedown",w=>{let L=hn(w.offsetX),U=hn(w.offsetY),et=u.find(Tt=>Tt.id==-1);et==null&&(et=new r),Fs(et,-1,L,U)}),n.addEventListener("mousemove",w=>{let L=u[0];if(!L.down)return;let U=hn(w.offsetX),et=hn(w.offsetY);ui(L,U,et)}),window.addEventListener("mouseup",()=>{ci(u[0])}),n.addEventListener("touchstart",w=>{w.preventDefault();const L=w.targetTouches;for(;L.length>=u.length;)u.push(new r);for(let U=0;U<L.length;U++){let et=hn(L[U].pageX),Tt=hn(L[U].pageY);Fs(u[U+1],L[U].identifier,et,Tt)}}),n.addEventListener("touchmove",w=>{w.preventDefault();const L=w.targetTouches;for(let U=0;U<L.length;U++){let et=u[U+1];if(!et.down)continue;let Tt=hn(L[U].pageX),Mt=hn(L[U].pageY);ui(et,Tt,Mt)}},!1),window.addEventListener("touchend",w=>{const L=w.changedTouches;for(let U=0;U<L.length;U++){let et=u.find(Tt=>Tt.id==L[U].identifier);et!=null&&ci(et)}});function Fs(w,L,U,et){w.id=L,w.down=!0,w.moved=!1,w.texcoordX=U/n.width,w.texcoordY=1-et/n.height,w.prevTexcoordX=w.texcoordX,w.prevTexcoordY=w.texcoordY,w.deltaX=0,w.deltaY=0,w.color=ge()}function ui(w,L,U){w.prevTexcoordX=w.texcoordX,w.prevTexcoordY=w.texcoordY,w.texcoordX=L/n.width,w.texcoordY=1-U/n.height,w.deltaX=_s(w.texcoordX-w.prevTexcoordX),w.deltaY=zi(w.texcoordY-w.prevTexcoordY),w.moved=Math.abs(w.deltaX)>0||Math.abs(w.deltaY)>0}function ci(w){w.down=!1}function _s(w){let L=n.width/n.height;return L<1&&(w*=L),w}function zi(w){let L=n.width/n.height;return L>1&&(w/=L),w}function ge(){let w=cl(Math.random(),1,1);return w.r*=.15,w.g*=.15,w.b*=.15,w}function cl(w,L,U){let et,Tt,Mt,Nt,Ft,Qt,An,Jn;switch(Nt=Math.floor(w*6),Ft=w*6-Nt,Qt=U*(1-L),An=U*(1-Ft*L),Jn=U*(1-(1-Ft)*L),Nt%6){case 0:et=U,Tt=Jn,Mt=Qt;break;case 1:et=An,Tt=U,Mt=Qt;break;case 2:et=Qt,Tt=U,Mt=Jn;break;case 3:et=Qt,Tt=An,Mt=U;break;case 4:et=Jn,Tt=Qt,Mt=U;break;case 5:et=U,Tt=Qt,Mt=An;break}return{r:et,g:Tt,b:Mt}}function hl(w){return{r:w.r/255,g:w.g/255,b:w.b/255}}function hi(w,L,U){let et=U-L;return(w-L)%et+L}function Bn(w){let L=c.drawingBufferWidth/c.drawingBufferHeight;L<1&&(L=1/L);let U=Math.round(w),et=Math.round(w*L);return c.drawingBufferWidth>c.drawingBufferHeight?{width:et,height:U}:{width:U,height:et}}function du(w,L,U){return{x:L/w.width,y:U/w.height}}function hn(w){let L=window.devicePixelRatio||1;return Math.floor(w*L)}function fl(w){if(w.length==0)return 0;let L=0;for(let U=0;U<w.length;U++)L=(L<<5)-L+w.charCodeAt(U),L|=0;return L}return{splat:gs,config:s,canvas:n}}function Qx(l){const s=Zx(l).splat,r=[],u=500,h=5,c=.3;function p(){const S=Date.now()-u;for(;r.length>0&&r[0]<S;)r.shift()}function m(){p();const _=r.length;if(_<=h)return 1;const S=_-h,T=h*2;return 1-Math.min(S/T,1)*(1-c)}function d(_){const S=Math.random(),E=v(S,_,1);E.r*=.15,E.g*=.15,E.b*=.15;const x=m(),V=(8+_*4)*x;return E.r*=V,E.g*=V,E.b*=V,E}function v(_,S,T){let b,E,x,C,V,H,K,O;switch(C=Math.floor(_*6),V=_*6-C,H=T*(1-S),K=T*(1-V*S),O=T*(1-(1-V)*S),C%6){case 0:b=T,E=O,x=H;break;case 1:b=K,E=T,x=H;break;case 2:b=H,E=T,x=O;break;case 3:b=H,E=K,x=T;break;case 4:b=O,E=H,x=T;break;case 5:b=T,E=H,x=K;break}return{r:b,g:E,b:x}}return{triggerSplat:_=>{if(!s)return;r.push(Date.now());const S=Math.random(),T=Math.random(),b=1e3*(Math.random()-.5),E=1e3*(Math.random()-.5),x=d(_);s(S,T,b,E,x)},destroy:()=>{}}}const q0=_t.forwardRef(({className:l},n)=>{const s=_t.useRef(null),r=_t.useRef(null);return _t.useImperativeHandle(n,()=>({triggerSplat:u=>{r.current&&r.current.triggerSplat(u)}})),_t.useEffect(()=>(s.current&&requestAnimationFrame(()=>{r.current=Qx(s.current)}),()=>{r.current&&r.current.destroy()}),[]),Z.jsx("canvas",{ref:s,className:l,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})});q0.displayName="FluidCanvas";const Og={MAJOR_SECOND:2,MINOR_SIXTH:8},Px={MAJOR:[0,2,4,5,7,9,11],NATURAL_MINOR:[0,2,3,5,7,8,10],HARMONIC_MINOR:[0,2,3,5,7,8,11],PENTATONIC_MAJOR:[0,2,4,7,9],PENTATONIC_MINOR:[0,3,5,7,10],BLUES:[0,3,5,6,7,10],CHROMATIC:[0,1,2,3,4,5,6,7,8,9,10,11]},Wx={MAJOR_TRIAD:[0,4,7],MINOR_TRIAD:[0,3,7],DIMINISHED:[0,3,6],AUGMENTED:[0,4,8],MAJOR_SEVENTH:[0,4,7,11],DOMINANT_SEVENTH:[0,4,7,10],MINOR_SEVENTH:[0,3,7,10]},Kx={I_V_vi_IV:[0,7,9,5],I_IV_V:[0,5,7],ii_V_I:[2,7,0],I_vi_IV_V:[0,9,5,7],vi_IV_I_V:[9,5,0,7]},In={HISTORY:32,IOI_WIN:16,VEL_WIN:16,CHORD_WINDOW:250,EMA_ALPHA:.1,BOOST_POS:.15,BOOST_NEG:.02},zh=(l,n,s)=>Math.max(n,Math.min(s,l)),wo=(l,n,s)=>zh((l-n)/(s-n),0,1);class Jx{constructor(){this.reset()}reset(){this.noteHistory=[],this.timeHistory=[],this.rhythmPattern=[],this.velHistory=[],this.chordBuffer=[],this.chordBufferTime=0,this.chordHistory=[],this.scaleContext=null,this.tempo=null,this.ema=null,this.musicalityScore=0,this.metrics={melodicCoherence:0,harmonicProgression:0,rhythmicConsistency:0,scaleAdherence:0,phraseStructure:0,dynamicVariation:0}}processNote(n,s,r=.5){return this.noteHistory.push(n),this.timeHistory.push(s),this.noteHistory.length>In.HISTORY&&(this.noteHistory.shift(),this.timeHistory.shift()),this.updateRhythmicConsistency(s),this.updateMelodicCoherence(),this.updateScaleAdherence(),this.updateHarmonicProgression(),this.updatePhraseStructure(),this.updateDynamicVariation(r),this.calculateMusicalityScore(),{score:this.musicalityScore,metrics:{...this.metrics},excitement:this.calculateExcitementBoost()}}updateRhythmicConsistency(n){if(this.timeHistory.length<2)return;const s=n-this.timeHistory[this.timeHistory.length-2];this.rhythmPattern.push(s),this.rhythmPattern.length>In.IOI_WIN&&this.rhythmPattern.shift();const r=this.rhythmPattern.reduce((c,p)=>c+p,0)/this.rhythmPattern.length,u=this.rhythmPattern.reduce((c,p)=>c+(p-r)**2,0)/this.rhythmPattern.length,h=Math.sqrt(u)/r;this.metrics.rhythmicConsistency=1-wo(h,.05,.35),this.tempo=6e4/r}updateMelodicCoherence(){if(this.noteHistory.length<2)return;const n=this.noteHistory.slice(-8),s=n.slice(1).map((d,v)=>Math.abs(d-n[v]));if(s.length===0)return;const r=s.filter(d=>d<=Og.MAJOR_SECOND).length,u=s.filter(d=>d>=Og.MINOR_SIXTH).length,h=new Set(s).size/s.length,c=r/s.length,p=u?wo(u,0,4):0,m=1-h;this.metrics.melodicCoherence=zh(.6*c+.3*m-.3*p,0,1)}updateScaleAdherence(){if(this.noteHistory.length===0)return;const n=Array(12).fill(0);this.noteHistory.slice(-In.HISTORY).forEach(r=>n[r%12]++);let s={name:null,fit:0};for(const[r,u]of Object.entries(Px)){const h=u.reduce((c,p)=>c+n[p],0);h>s.fit&&(s={name:r,fit:h})}this.scaleContext=s.name,this.metrics.scaleAdherence=s.fit/this.noteHistory.length}detectChord(n){for(const[s,r]of Object.entries(Wx))for(const u of n)if(r.every(h=>n.has((u+h)%12)))return{name:s,root:u};return null}updateHarmonicProgression(){const n=this.timeHistory.at(-1),s=this.noteHistory.at(-1);if(n-this.chordBufferTime>In.CHORD_WINDOW){if(this.chordBuffer.length){const h=new Set(this.chordBuffer.map(p=>p%12)),c=this.detectChord(h);this.chordHistory.push(c)}this.chordBuffer=[s],this.chordBufferTime=n}else this.chordBuffer.push(s);const r=this.chordHistory.slice(-4).map(h=>h?h.root:null);let u=0;for(const h of Object.values(Kx)){const c=h.slice(0,r.length);if(JSON.stringify(c)===JSON.stringify(r)){u=r.length/h.length;break}}this.metrics.harmonicProgression=u}updatePhraseStructure(){if(!this.tempo||this.rhythmPattern.length<4)return;const n=this.rhythmPattern.reduce((h,c)=>h+c,0)/this.rhythmPattern.length,s=this.rhythmPattern.slice(-8).filter(h=>h>1.5*n),r=s.length?s[s.length-1]:0,u=4*(6e4/this.tempo);this.metrics.phraseStructure=1-wo(Math.abs(r-u),0,u)}updateDynamicVariation(n){this.velHistory.push(n),this.velHistory.length>In.VEL_WIN&&this.velHistory.shift();const s=this.velHistory.reduce((h,c)=>h+c,0)/this.velHistory.length,r=this.velHistory.reduce((h,c)=>h+(c-s)**2,0)/this.velHistory.length,u=Math.sqrt(r)/s;this.metrics.dynamicVariation=1-wo(Math.abs(u-.25),.2,.35)}calculateMusicalityScore(){const s=Object.entries({melodicCoherence:.25,harmonicProgression:.25,rhythmicConsistency:.2,scaleAdherence:.15,phraseStructure:.1,dynamicVariation:.05}).reduce((r,[u,h])=>r+h*this.metrics[u],0);this.musicalityScore=Math.round(s*100)}calculateExcitementBoost(){this.ema===null&&(this.ema=this.musicalityScore),this.ema=In.EMA_ALPHA*this.musicalityScore+(1-In.EMA_ALPHA)*this.ema;const n=this.musicalityScore-this.ema,s=zh(n/100,-1,1);return s>0?s*In.BOOST_POS:s*In.BOOST_NEG}}const Cg=["C4","E4","G4","B4","C5","B4","G4","E4"],Dg=["D4","F4","A4","C5","D5","C5","A4","F4"],No=(l,n)=>Array(n).fill(l).flat(),$x=[...No(Cg,4),...No(Dg,4),...No(Cg,4),...No(Dg,4)],j0=[{name:"Autoplayer Demo Song",sequence:$x}];function tA(l,n,s){const[r,u]=_t.useState(!1),h=_t.useRef([]),c=_t.useRef(new Set),p=()=>{h.current.forEach(v=>clearTimeout(v)),h.current=[]},m=_t.useCallback(()=>{c.current.forEach(v=>{const _=s.find(S=>S.note===v);_&&n.current&&n.current(_)}),c.current.clear(),p(),u(!1)},[s,n]),d=_t.useCallback((v=0,_=!0)=>{if(r)return;const S=j0[v];if(!S)return;c.current.clear(),u(!0);const T=400;S.sequence.forEach((b,E)=>{const x=setTimeout(()=>{const V=s.find(H=>H.note===b);V&&l.current&&(l.current(V,.8),c.current.add(b))},E*T),C=setTimeout(()=>{const V=s.find(H=>H.note===b);if(V&&n.current&&(n.current(V),c.current.delete(b)),E===S.sequence.length-1)if(_){const H=setTimeout(()=>{h.current.forEach(K=>clearTimeout(K)),h.current=[],c.current.clear(),u(!1),setTimeout(()=>d(v,_),0)},500);h.current.push(H)}else{const H=setTimeout(()=>{u(!1)},100);h.current.push(H)}},E*T+T*.9);h.current.push(x,C)})},[r,s,l,n]);return _t.useEffect(()=>()=>{c.current.forEach(v=>{const _=s.find(S=>S.note===v);_&&n.current&&n.current(_)}),c.current.clear(),p()},[s,n]),{autoPlaying:r,playSong:d,stopSong:m}}function eA({visible:l,autoPlaying:n,playSong:s,stopSong:r}){return l?Z.jsxs("div",{className:"fixed left-1/2 transform -translate-x-1/2 top-20 bg-gray-900 bg-opacity-90 text-white p-4 rounded-lg z-40 text-sm font-mono",children:[Z.jsx("h3",{className:"font-bold mb-3",children:"Autoplayer"}),j0.map((u,h)=>Z.jsxs("div",{className:"flex items-center mb-2",children:[Z.jsx("span",{className:"mr-4",children:u.name}),n?Z.jsx("button",{onClick:r,className:"bg-red-600 hover:bg-red-700 px-3 py-1 rounded",children:"Stop"}):Z.jsx("button",{onClick:()=>s(h,!0),className:"bg-green-600 hover:bg-green-700 px-3 py-1 rounded",children:"Play (Loop)"})]},h)),Z.jsx("div",{className:"text-xs text-gray-400 mt-2",children:"Shift + ; to close | Shift + M to play demo song (loops)"})]}):null}const wa=[{id:"welcome",content:Z.jsxs("div",{className:"space-y-4",children:[Z.jsx("p",{className:"text-4xl font-light",children:"Welcome to Musicolour"}),Z.jsx("p",{className:"text-xl text-gray-300",children:"A demo is playing to show you how it works"})]})},{id:"behavior1",content:Z.jsxs("p",{className:"text-3xl font-light leading-relaxed",children:["The better you play,",Z.jsx("br",{}),"the more colorful it gets"]})},{id:"behavior2",content:Z.jsxs("div",{className:"space-y-4",children:[Z.jsx("p",{className:"text-2xl font-light",children:"The bar shows the machine's excitement"}),Z.jsxs("div",{className:"flex items-center gap-4 text-xl",children:[Z.jsx("span",{className:"text-green-400",children:"Green"}),Z.jsx("span",{className:"text-gray-400",children:"="}),Z.jsx("span",{children:"You're playing something good"})]}),Z.jsxs("div",{className:"flex items-center gap-4 text-xl",children:[Z.jsx("span",{className:"text-red-400",children:"Red"}),Z.jsx("span",{className:"text-gray-400",children:"="}),Z.jsx("span",{children:"Try something different"})]})]})},{id:"feedback",content:Z.jsxs("p",{className:"text-3xl font-light leading-relaxed",children:["It learns from your rhythm",Z.jsx("br",{}),"and responds with movement"]})},{id:"conversation",content:Z.jsxs("p",{className:"text-3xl font-light leading-relaxed",children:["You're having a ",Z.jsx("a",{href:"https://en.wikipedia.org/wiki/Conversation_theory",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-300",children:"conversation"}),Z.jsx("br",{}),"with a machine through music"]})},{id:"shortcuts",title:"Quick shortcuts",content:Z.jsxs("div",{className:"space-y-2 text-lg",children:[Z.jsxs("div",{className:"flex items-center gap-3",children:[Z.jsx("kbd",{className:"px-2 py-1 bg-white bg-opacity-20 rounded text-base font-mono",children:"Shift + K"}),Z.jsx("span",{children:"Toggle keyboard"})]}),Z.jsxs("div",{className:"flex items-center gap-3",children:[Z.jsx("kbd",{className:"px-2 py-1 bg-white bg-opacity-20 rounded text-base font-mono",children:"Shift + M"}),Z.jsx("span",{children:"Replay tutorial"})]}),Z.jsxs("div",{className:"flex items-center gap-3",children:[Z.jsx("kbd",{className:"px-2 py-1 bg-white bg-opacity-20 rounded text-base font-mono",children:"Shift + L"}),Z.jsx("span",{children:"Model parameters"})]}),Z.jsxs("div",{className:"flex items-center gap-3",children:[Z.jsx("kbd",{className:"px-2 py-1 bg-white bg-opacity-20 rounded text-base font-mono",children:"Shift + P"}),Z.jsx("span",{children:"Load MIDI file"})]})]})},{id:"credits",title:"Credits",content:Z.jsxs("div",{className:"space-y-3 text-xl",children:[Z.jsxs("div",{className:"text-gray-300",children:[Z.jsx("span",{className:"text-white",children:"Built by"})," Gui Dvid"]}),Z.jsxs("div",{className:"text-gray-300",children:[Z.jsx("span",{className:"text-white",children:"Improved by"})," Igor Rocha"]}),Z.jsxs("div",{className:"text-gray-300",children:[Z.jsx("span",{className:"text-white",children:"Fluids by"})," Pavel Dobryakov"]}),Z.jsxs("div",{className:"text-gray-300",children:[Z.jsx("span",{className:"text-white",children:"Inspired by"})," Gordon Pask"]})]})}],Oo=wa.find(l=>l.id==="shortcuts");function nA({onComplete:l,onSkip:n}){const[s,r]=_t.useState(0),[u,h]=_t.useState(!1),[c,p]=_t.useState(!0),m=_t.useRef(Date.now()),d=_t.useRef(!1),v=()=>{try{localStorage.setItem("musicolour-tutorial-seen","true")}catch(S){console.error("Failed to save tutorial state:",S)}};if(_t.useEffect(()=>{const S=setTimeout(()=>{h(!0)},100),b=setInterval(()=>{const E=Date.now()-m.current,x=wa.length*7300;if(E>=x&&!d.current){d.current=!0,p(!1),v(),l&&l();return}const C=Math.floor(E/7300),V=E%7300;C<wa.length&&(r(C),h(V<7e3))},50);return()=>{clearTimeout(S),clearInterval(b)}},[]),!c||s>=wa.length)return null;const _=wa[s];return Z.jsxs(Z.Fragment,{children:[Z.jsx("button",{onClick:()=>{v(),n()},className:"fixed top-8 right-8 text-white text-4xl hover:text-gray-300 transition-all duration-200 hover:scale-110",style:{zIndex:1e5,backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"12px",fontFamily:"Arial, sans-serif",lineHeight:"1",textShadow:"0 2px 10px rgba(0, 0, 0, 0.5)"},"aria-label":"Skip tutorial",children:""}),Z.jsx("div",{className:`fixed text-white transition-all duration-500 ${u?"opacity-100 transform translate-y-0":"opacity-0 transform -translate-y-4"}`,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',zIndex:99999,top:"50%",left:"50%",transform:`translate(-50%, -50%) ${u?"translateY(0)":"translateY(-16px)"}`,padding:"48px",maxWidth:"800px",textAlign:"center",textShadow:"0 2px 20px rgba(0, 0, 0, 0.8), 0 1px 3px rgba(0, 0, 0, 0.9)"},children:Z.jsxs("div",{children:[_.title&&Z.jsx("h3",{className:"text-xl font-medium mb-6 text-gray-300 uppercase tracking-wider",children:_.title}),_.content,Z.jsx("div",{className:"flex justify-center gap-3 mt-16",children:wa.map((S,T)=>Z.jsx("div",{className:`h-1 rounded-full transition-all duration-500 ${T===s?"bg-white w-12":T<s?"bg-white bg-opacity-40 w-3":"bg-white bg-opacity-20 w-3"}`},T))})]})})]})}function iA({showParams:l,showDebug:n}){const[s,r]=_t.useState(!1),[u,h]=_t.useState(!1);return l||n?null:Z.jsxs(Z.Fragment,{children:[Z.jsx("div",{className:"fixed top-0 right-0 w-24 h-24",style:{zIndex:99},onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1)}),Z.jsx("button",{onClick:()=>r(!s),onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),className:`fixed top-8 right-8 text-white text-4xl transition-all duration-200 hover:scale-110 ${u?"opacity-100":"opacity-0"} hover:text-gray-300`,style:{zIndex:100,backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"12px",fontFamily:"Arial, sans-serif",lineHeight:"1",textShadow:"0 2px 10px rgba(0, 0, 0, 0.5)",fontSize:"32px",pointerEvents:u?"auto":"none"},"aria-label":"Show keyboard shortcuts",children:"i"}),s&&Oo&&Z.jsxs(Z.Fragment,{children:[Z.jsx("div",{className:"fixed inset-0",style:{zIndex:98},onClick:()=>r(!1)}),Z.jsx("div",{className:"fixed text-white",style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',zIndex:99,top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"48px",maxWidth:"800px",textAlign:"center",textShadow:"0 2px 20px rgba(0, 0, 0, 0.8), 0 1px 3px rgba(0, 0, 0, 0.9)",opacity:1,animation:"fadeInNoMove 0.3s ease-out"},children:Z.jsxs("div",{children:[Oo.title&&Z.jsx("h3",{className:"text-xl font-medium mb-6 text-gray-300 uppercase tracking-wider",children:Oo.title}),Oo.content]})})]})]})}wx();const sA=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],aA=36,rA=61,lA={C4:"KeyQ","C#4":"Digit2",D4:"KeyW","D#4":"Digit3",E4:"KeyE",F4:"KeyR","F#4":"Digit5",G4:"KeyT","G#4":"Digit6",A4:"KeyY","A#4":"Digit7",B4:"KeyU",C5:"KeyI","C#5":"Digit9",D5:"KeyO","D#5":"Digit0",E5:"KeyP"},oA=()=>{const l=[];for(let n=0;n<rA;n++){const s=aA+n,r=Math.floor(s/12)-1,u=sA[s%12],h=`${u}${r}`,c=u.includes("#");l.push({note:h,type:c?"black":"white",keyCode:lA[h]||"",color:c?"#444":"#ccc"})}return l},si=oA();function Rg({keyData:l,isPressed:n,onPress:s,onRelease:r,midiEnabled:u}){const h=l.type==="black",c=u?24:36,p=u?14:24,m=u?140:180,d=u?90:120;return Z.jsxs("div",{className:`piano-key cursor-pointer transition-all duration-75 select-none relative flex flex-col justify-end items-center pb-1 shadow-md hover:shadow-lg ${h?"z-20":""}`,onMouseDown:s,onMouseUp:r,onMouseLeave:r,style:{width:h?`${p}px`:`${c}px`,height:h?`${d}px`:`${m}px`,backgroundColor:h?n?"#333":"#111":n?"#eee":"#fff",color:h?"#fff":"#000",border:h?"1px solid #000":"1px solid #ccc",borderBottomColor:l.color,borderBottomWidth:n?"4px":"2px",boxShadow:h?"0 2px 6px rgba(0,0,0,0.8), inset 0 1px 0 rgba(255,255,255,0.1)":"0 2px 6px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.8)"},children:[Z.jsx("div",{className:`${u?"text-[8px]":"text-xs"} font-mono opacity-70 font-bold select-none`,children:l.note}),l.keyCode&&Z.jsx("div",{className:`${u?"text-[8px]":"text-[10px]"} opacity-50 font-bold select-none`,children:l.keyCode.replace("Key","").replace("Digit","")})]})}function uA({excitement:l=0}){const[n,s]=_t.useState(l),[r,u]=_t.useState(l),h=_t.useRef(Date.now()),c=_t.useRef(Date.now()),p=_t.useRef(l),m=.3;_t.useEffect(()=>{u(l),l>p.current&&(c.current=Date.now()),p.current=l},[l]),_t.useEffect(()=>{let T;const b=()=>{const E=Date.now(),x=(E-h.current)/1e3;h.current=E,s(C=>{const V=r-C;if(Math.abs(V)<.001)return r;const H=m*x,K=Math.sign(V)*Math.min(Math.abs(V),H);return Math.max(0,Math.min(1,C+K))}),T=requestAnimationFrame(b)};return T=requestAnimationFrame(b),()=>{T&&cancelAnimationFrame(T)}},[r]);const d=n*100;let v="rgba(0, 0, 0, 0.3)";const _=r-n,S=Date.now()-c.current;return n<.01?v="rgba(100, 100, 100, 0.2)":S<300?v="rgba(0, 255, 0, 0.5)":_<0&&S>350?v="rgba(255, 0, 0, 0.3)":v="rgba(0, 0, 0, 0.2)",Z.jsx("div",{className:"fixed left-0 top-0 h-full z-20",style:{width:"8px"},children:Z.jsxs("div",{className:"relative w-full h-full bg-black bg-opacity-30",children:[Z.jsx("div",{className:"absolute top-0 left-0 right-0",style:{height:`${100-d}%`,backgroundColor:v,transition:"background-color 0.5s ease-out",borderRadius:"999px"}}),Z.jsx("div",{className:"absolute bottom-0 left-0 right-0",style:{height:`${d}%`,backgroundColor:"white",borderRadius:"999px"}})]})})}function cA({onKeyPress:l,onKeyRelease:n,pressedKeys:s,midiEnabled:r}){const u=r?24:36,h=r?14:24,c=r?si:si.filter(d=>d.keyCode!==""),p=c.filter(d=>d.type==="white"),m=c.filter(d=>d.type==="black");return Z.jsx("div",{className:"piano-container flex justify-center items-end bg-transparent overflow-visible",children:Z.jsxs("div",{className:"relative inline-flex",style:{transform:"perspective(800px) rotateX(5deg)",transformStyle:"preserve-3d"},children:[p.map(d=>Z.jsx(Rg,{keyData:d,isPressed:s.has(d.note),onPress:()=>l(d),onRelease:()=>n(d),midiEnabled:r},d.note)),Z.jsx("div",{className:"absolute top-0 left-0",style:{pointerEvents:"none"},children:m.map(d=>{const v=c.findIndex(T=>T.note===d.note),S=c.slice(0,v).filter(T=>T.type==="white").length*u-h/2;return Z.jsx("div",{style:{left:`${S}px`,pointerEvents:"auto"},className:"absolute top-0 z-20",children:Z.jsx(Rg,{keyData:d,isPressed:s.has(d.note),onPress:()=>l(d),onRelease:()=>n(d),midiEnabled:r})},d.note)})})]})})}function hA(){const[l,n]=_t.useState(new Set),s=_t.useRef(null),r=_t.useRef(new Jx),[u,h]=_t.useState(!1),[c,p]=_t.useState(!1),[m,d]=_t.useState(!0),[v,_]=_t.useState(!1),[S,T]=_t.useState(!1),[b,E]=_t.useState(!1),x=_t.useRef(null),C=_t.useRef(null),[V,H]=_t.useState(!1),[K,O]=_t.useState({...In}),q=(ot,ct)=>{In[ot]=ct,O(X=>({...X,[ot]:ct})),r.current&&(r.current.ema=null)},[Y,k]=_t.useState(!1),[st,nt]=_t.useState([]),[tt,Q]=_t.useState(!1),ft=_t.useRef(null),ht=_t.useRef(null),vt=_t.useRef(null),[R,F]=_t.useState({excitement:0,lastKeyPressTime:null,musicalityScore:0,musicalityMetrics:{melodicCoherence:0,harmonicProgression:0,rhythmicConsistency:0,scaleAdherence:0,phraseStructure:0,dynamicVariation:0}}),rt=_t.useRef(R);_t.useEffect(()=>{rt.current=R},[R]);const lt=_t.useRef(null),A=_t.useRef(!1),j=_t.useRef(new Set),W=async ot=>{const ct=await ot.arrayBuffer(),X=new Uint8Array(ct);if(String.fromCharCode(...X.slice(0,4))!=="MThd")throw new Error("Invalid MIDI file");const yt=X[8]<<8|X[9],Ut=X[10]<<8|X[11],Rt=X[12]<<8|X[13];console.log("MIDI format:",yt,"tracks:",Ut,"division:",Rt);const Yt=[];let Fe=Rt&32767,ue=5e5,gt=14;for(;gt<X.length-4;)if(X[gt]===77&&X[gt+1]===84&&X[gt+2]===114&&X[gt+3]===107){gt+=4;const It=X[gt]<<24|X[gt+1]<<16|X[gt+2]<<8|X[gt+3];gt+=4;const $t=gt+It;let cn=0,ps=0;for(;gt<$t&&gt<X.length;){let ms=0,Pn;do{if(gt>=X.length)break;Pn=X[gt++],ms=ms<<7|Pn&127}while(Pn&128);if(cn+=ms,gt>=X.length)break;let Wt=X[gt];if(Wt<128?Wt=ps:(ps=Wt,gt++),(Wt&240)===144&&gt+1<X.length){const Ke=X[gt++],xn=X[gt++];if(xn>0){const Wn=cn/Fe*(ue/1e3);Yt.push({note:Ke,time:Math.round(Wn),velocity:xn/127,channel:Wt&15})}}else if((Wt&240)===128&&gt+1<X.length)gt+=2;else if((Wt&240)>=128&&(Wt&240)<=224)(Wt&240)===192||(Wt&240)===208?gt+=1:gt+=2;else if(Wt===255&&gt+1<X.length){const Ke=X[gt++];if(gt>=X.length)break;const xn=X[gt++];Ke===81&&xn===3&&gt+2<X.length&&(ue=X[gt]<<16|X[gt+1]<<8|X[gt+2]),gt+=xn}else if(Wt===240||Wt===247){for(;gt<X.length&&X[gt]!==247;)gt++;gt<X.length&&gt++}else gt++}}else gt++;if(console.log("Found",Yt.length,"notes"),Yt.length===0){console.log("Trying alternate parsing method...");for(let It=0;It<X.length-2;It++)(X[It]&240)===144&&X[It+2]>0&&Yt.push({note:X[It+1],time:Yt.length*100,velocity:X[It+2]/127,channel:X[It]&15});console.log("Alternate method found",Yt.length,"notes")}return Yt.sort((It,$t)=>It.time-$t.time)},it=async ot=>{const ct=ot.target.files?.[0];if(ct){try{console.log("Loading MIDI file:",ct.name);const X=await W(ct);if(console.log("Parsed notes:",X.length,"notes"),X.length>0&&console.log("First few notes:",X.slice(0,5)),X.length===0){console.warn("No notes found in MIDI file"),alert("No notes found in the MIDI file. Please try a different file.");return}qe(),window.midiFileCleanup&&(window.midiFileCleanup.forEach(bt=>bt()),window.midiFileCleanup=[]),setTimeout(()=>{at(X)},100)}catch(X){console.error("Error loading MIDI file:",X),alert("Error loading MIDI file: "+X.message)}ot.target.value=""}},at=ot=>{if(ot.length===0)return;console.log("Starting MIDI playback with",ot.length,"notes");let ct=0;const X=Date.now();let bt=[];const yt=()=>{if(ct>=ot.length){console.log("MIDI playback completed, looping..."),ct=0,at(ot);return}const Rt=ot[ct],Yt=Date.now()-X,Fe=Math.max(0,Rt.time-Yt),ue=setTimeout(()=>{const gt=dt(Rt.note);if(gt){const It=si.find($t=>$t.note===gt);if(It&&Zt.current){Zt.current(It);const $t=100+Rt.velocity*200;setTimeout(()=>{oe.current&&oe.current(It)},$t)}}ct++,yt()},Fe);bt.push(ue)},Ut=()=>{bt.forEach(Rt=>clearTimeout(Rt)),bt=[]};window.midiFileCleanup||(window.midiFileCleanup=[]),window.midiFileCleanup.push(Ut),yt()},dt=ot=>{const ct=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],X=Math.floor(ot/12)-1,bt=ot%12;return`${ct[bt]}${X}`};_t.useEffect(()=>{const ot=new _f(Ba,{maxPolyphony:16,oscillator:{type:"triangle"},envelope:{attack:.02,decay:.4,sustain:.4,release:1}}).toDestination();ot.volume.value=-16,lt.current=ot;const ct=new rl({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:"https://tonejs.github.io/audio/salamander/",onload:()=>{ct.volume.value=-16,lt.current&&lt.current.dispose(),lt.current=ct}}).toDestination();return()=>{lt.current&&lt.current.dispose(),ot.dispose(),ct.dispose()}},[]),_t.useEffect(()=>{const ot=X=>{if(X.code==="KeyD"&&X.shiftKey){h(yt=>!yt);return}if(X.code==="KeyK"&&X.shiftKey){d(yt=>!yt);return}if(X.code==="KeyL"&&X.shiftKey){p(yt=>!yt);return}if(X.code==="Semicolon"&&X.shiftKey){_(yt=>!yt);return}if(X.code==="KeyM"&&X.shiftKey){H(!0),d(!0),Ce(0,!1);return}if(X.code==="KeyP"&&X.shiftKey){X.preventDefault(),vt.current?.click();return}const bt=si.find(yt=>yt.keyCode===X.code);bt&&!l.has(bt.note)&&Dt(bt)},ct=X=>{const bt=si.find(yt=>yt.keyCode===X.code);bt&&ut(bt)};return window.addEventListener("keydown",ot),window.addEventListener("keyup",ct),()=>{window.removeEventListener("keydown",ot),window.removeEventListener("keyup",ct)}});const mt=_t.useCallback((ot,ct=.5)=>{const X=Date.now(),bt=r.current.processNote(ot,X,ct);F(yt=>{const Ut=bt.excitement,Rt=Math.max(0,Math.min(1,yt.excitement+Ut));return{...yt,excitement:Rt,lastKeyPressTime:X,musicalityScore:bt.score,musicalityMetrics:bt.metrics}})},[]);_t.useEffect(()=>{const ot=setInterval(()=>{F(ct=>{const yt=Math.max(0,ct.excitement-33333333333333335e-21);return{...ct,excitement:yt}})},16);return()=>clearInterval(ot)},[]);const Dt=_t.useCallback((ot,ct=null)=>{if(l.has(ot.note))return;n(yt=>new Set([...yt,ot.note])),lt.current&&lt.current.triggerAttack(ot.note);const X=si.findIndex(yt=>yt.note===ot.note),bt=ct||.5+Math.random()*.5;if(mt(X,bt),s.current){const yt=rt.current;let Ut=1;yt.excitement>.9?Ut=8:yt.excitement>.75?Ut=4:yt.excitement>.5?Ut=3:yt.excitement>.25&&(Ut=2);for(let Rt=0;Rt<Ut;Rt++)s.current.triggerSplat(yt.excitement)}else console.warn("fluidCanvasRef.current is null")},[l,mt]),ut=_t.useCallback(ot=>{n(ct=>{const X=new Set(ct);return X.delete(ot.note),X}),lt.current&&lt.current.triggerRelease(ot.note)},[]),Zt=_t.useRef(Dt),oe=_t.useRef(ut);_t.useEffect(()=>{Zt.current=Dt},[Dt]),_t.useEffect(()=>{oe.current=ut},[ut]),_t.useEffect(()=>((async()=>{try{if(navigator.requestMIDIAccess){const ct=await navigator.requestMIDIAccess();ft.current=ct;const X=yt=>{const[Ut,Rt,Yt]=yt.data,Fe=Ut&240;if(Fe===144&&Yt>0){const ue=dt(Rt);if(ue){j.current.delete(ue);const gt=si.find(It=>It.note===ue);gt&&Zt.current&&Zt.current(gt,Yt/127)}}else if(Fe===128||Fe===144&&Yt===0){const ue=dt(Rt);if(!ue)return;if(A.current)j.current.add(ue);else{const gt=si.find(It=>It.note===ue);gt&&oe.current&&oe.current(gt)}}else Fe===176&&Rt===64&&(Yt>=64?A.current=!0:(A.current=!1,j.current.forEach(gt=>{const It=si.find($t=>$t.note===gt);It&&oe.current&&oe.current(It)}),j.current.clear()))},bt=[];for(const yt of ct.inputs.values())bt.push(yt.name),yt.onmidimessage=X;nt(bt),k(bt.length>0),bt.length>0&&(Q(!0),ht.current&&clearTimeout(ht.current),ht.current=setTimeout(()=>{Q(!1)},5e3)),ct.onstatechange=yt=>{if(console.log("MIDI device state changed:",yt.port.name,yt.port.state),yt.port.type==="input"&&yt.port.state==="connected"){const Rt=yt.port;Rt&&(Rt.onmidimessage=X)}const Ut=Array.from(ct.inputs.values()).map(Rt=>Rt.name);nt(Ut),k(Ut.length>0)}}else console.log("Web MIDI API not supported")}catch(ct){console.error("Failed to initialize MIDI:",ct)}})(),()=>{if(ft.current)for(const ct of ft.current.inputs.values())ct.onmidimessage=null}),[]);const{autoPlaying:Ye,playSong:Ce,stopSong:qe}=tA(Zt,oe,si),Vn=_t.useRef(Ce);_t.useEffect(()=>{Vn.current=Ce},[Ce]),_t.useEffect(()=>{if(!(localStorage.getItem("musicolour-tutorial-seen")==="true")){H(!0),d(!0);const ct=setTimeout(()=>{Vn.current(0,!1)},2e3);return()=>clearTimeout(ct)}},[]),_t.useEffect(()=>()=>{qe()},[qe]);const pt=_t.useCallback(()=>{x.current&&clearTimeout(x.current),T(!0)},[]),At=_t.useCallback(()=>{x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{T(!1)},3e3)},[]);return _t.useEffect(()=>{m?(E(!1),C.current&&clearTimeout(C.current)):(C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{E(!0),T(!0),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{T(!1)},3e3)},1e3))},[m]),_t.useEffect(()=>()=>{x.current&&clearTimeout(x.current),C.current&&clearTimeout(C.current),ht.current&&clearTimeout(ht.current)},[]),_t.useEffect(()=>{const ot="MUSICOLOUR";let ct=-2;const X=()=>{const yt=ot.toLowerCase().split("");for(let Ut=0;Ut<yt.length;Ut++)(Ut===ct||Ut===ct+1)&&(yt[Ut]=yt[Ut].toUpperCase());document.title=yt.join(""),ct++,ct>ot.length&&(ct=-2)};document.title=ot;const bt=setInterval(X,1e3);return()=>{clearInterval(bt),document.title="MUSICOLOUR"}},[]),Z.jsxs("div",{className:"w-full h-screen bg-black relative",children:[Z.jsxs("div",{className:"absolute top-6 left-20 z-10 text-white",children:[Z.jsx("h1",{className:"text-3xl font-semibold tracking-tight mb-2",children:"MUSICOLOUR"}),Z.jsxs("h3",{className:"font-light tracking-tight",children:["By ",Z.jsx("a",{href:"https://www.linkedin.com/in/gdavidss/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-300",children:"Gui Dvid"}),". Inspired by ",Z.jsx("a",{href:"https://en.wikipedia.org/wiki/Gordon_Pask",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-300",children:"Gordon Pask"}),"."]}),Z.jsxs("div",{className:"text-xs text-gray-300 mt-1",children:["Made for the ",Z.jsx("span",{className:"italic",children:Z.jsx("a",{href:"https://partiful.com/e/KAyicRaedj3ORP1WfCsk",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-300",children:"San Francisco Cybernetics Symposium"})})]})]}),Z.jsx(uA,{excitement:R.excitement}),Y&&Z.jsxs("div",{className:`fixed right-4 top-4 bg-black bg-opacity-70 text-white p-2 rounded-lg z-30 text-xs font-mono transition-opacity duration-1000 ${tt?"opacity-100":"opacity-0 pointer-events-none"}`,children:[Z.jsxs("div",{className:"flex items-center",children:[Z.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),Z.jsx("span",{children:"MIDI Connected"})]}),st.length>0&&Z.jsx("div",{className:"text-gray-400 mt-1",children:st.join(", ")})]}),u&&Z.jsxs("div",{className:`fixed right-4 ${tt?"top-24":"top-4"} bg-black bg-opacity-70 text-white p-4 rounded-lg z-30 text-xs font-mono transition-all duration-300`,children:[Z.jsx("h3",{className:"font-bold mb-2",children:"Musicality Metrics"}),Z.jsxs("div",{children:["Score: ",(R.musicalityScore||0).toFixed(3)]}),Object.entries(R.musicalityMetrics).map(([ot,ct])=>Z.jsxs("div",{children:[ot,": ",(ct||0).toFixed(3)]},ot))]}),c&&Z.jsxs("div",{className:"fixed right-4 top-4 bg-gray-800 bg-opacity-90 text-white p-4 pb-2 rounded-lg z-40 text-xs font-mono w-64 max-h-[90vh] overflow-y-auto overflow-x-clip",children:[Z.jsx("h3",{className:"font-bold mb-3 text-sm mt-2",children:"Model Parameters"}),Object.entries(K).map(([ot,ct])=>{const X={HISTORY:{min:8,max:64,step:1},IOI_WIN:{min:4,max:32,step:1},VEL_WIN:{min:4,max:32,step:1},CHORD_WINDOW:{min:50,max:1e3,step:50},EMA_ALPHA:{min:.01,max:.5,step:.01},BOOST_POS:{min:.01,max:.2,step:.005},BOOST_NEG:{min:.005,max:.1,step:.005}}[ot];if(!X)return null;const bt={HISTORY:"Memory Length",IOI_WIN:"Note Timing Window",VEL_WIN:"Velocity Window",CHORD_WINDOW:"Chord Detection Time",EMA_ALPHA:"Smoothing Factor",BOOST_POS:"Excitement Boost",BOOST_NEG:"Decay Rate"},yt={HISTORY:"How many notes the system remembers",IOI_WIN:"Time window for rhythm detection",VEL_WIN:"Sensitivity to volume changes",CHORD_WINDOW:"Time to detect chords",EMA_ALPHA:"How quickly system adapts (lower=slower)",BOOST_POS:"How much excitement increases",BOOST_NEG:"How fast excitement fades"};return Z.jsxs("div",{className:"mb-4 relative",children:[Z.jsxs("label",{className:"flex justify-between items-center mb-1 group",children:[Z.jsxs("span",{className:"cursor-help flex items-center gap-1 relative group/title",children:[bt[ot]||ot,Z.jsx("span",{className:"text-gray-500 text-xs",children:""}),Z.jsx("div",{className:"absolute left-0 bottom-full mb-1 opacity-0 group-hover/title:opacity-100 transition-opacity duration-200 z-50 pointer-events-none",children:Z.jsxs("div",{className:"bg-black text-gray-200 text-xs rounded px-3 py-2 shadow-xl border border-gray-600 w-56 whitespace-normal",children:[yt[ot],Z.jsx("div",{className:"absolute top-full left-4 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-black"})]})})]}),Z.jsx("span",{className:"ml-2 text-right",children:ot==="CHORD_WINDOW"?`${ct}ms`:ot==="HISTORY"?`${ct} notes`:typeof ct=="number"?ct.toFixed(2):ct})]}),Z.jsx("input",{type:"range",className:"w-full",value:ct,min:X.min,max:X.max,step:X.step,onChange:Ut=>{const Rt=parseFloat(Ut.target.value);["EMA_ALPHA","BOOST_POS","BOOST_NEG"].includes(ot)?q(ot,Rt):q(ot,Math.round(Rt))}})]},ot)})]}),Z.jsx(eA,{visible:v,autoPlaying:Ye,playSong:Ce,stopSong:qe}),V&&Z.jsx(nA,{onComplete:()=>{H(!1),d(!1)},onSkip:()=>{H(!1),d(!1),qe(),window.midiFileCleanup&&(window.midiFileCleanup.forEach(ot=>ot()),window.midiFileCleanup=[])}},"tutorial-cards"),!V&&Z.jsx(iA,{showParams:c,showDebug:u}),Z.jsx("div",{className:"absolute inset-0",style:{overflow:"hidden"},children:Z.jsx(q0,{ref:s,className:""})}),Z.jsx("div",{className:`fixed bottom-0 left-0 right-0 z-20 transition-transform duration-1000 overflow-visible ${m?"translate-y-0":"translate-y-full"}`,children:Z.jsxs("div",{className:"p-4 overflow-visible",children:[Z.jsx("div",{className:"flex justify-center mb-2",children:Z.jsxs("button",{onClick:()=>{d(!m)},className:"bg-black bg-opacity-50 text-white w-10 h-6 rounded border border-white border-opacity-20 hover:bg-opacity-70 transition-all duration-200 flex items-center justify-center relative group",children:[Z.jsx("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"currentColor",children:Z.jsx("path",{d:"M8 12l-4-4h8z"})}),m&&Z.jsx("span",{className:"absolute bottom-full mb-2 px-2 py-1 bg-black bg-opacity-80 text-white text-xs rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:"Shift + K"})]})}),Z.jsx(cA,{onKeyPress:Dt,onKeyRelease:ut,pressedKeys:l,midiEnabled:Y})]})}),!m&&b&&Z.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-32 z-20",onMouseEnter:pt,onMouseLeave:At}),!m&&b&&Z.jsx("div",{className:"fixed bottom-4 left-0 right-0 flex justify-center z-30",onMouseEnter:pt,onMouseLeave:At,children:Z.jsxs("button",{onClick:()=>d(!0),className:`bg-black bg-opacity-50 text-white w-10 h-6 rounded border border-white border-opacity-20 hover:bg-opacity-70 flex items-center justify-center relative group transition-all duration-300 ${S?"opacity-100":"opacity-0 pointer-events-none"}`,children:[Z.jsx("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"currentColor",children:Z.jsx("path",{d:"M8 4l4 4H4z"})}),Z.jsx("span",{className:"absolute bottom-full mb-2 px-2 py-1 bg-black bg-opacity-80 text-white text-xs rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:"Shift + K"})]})}),Z.jsx("input",{ref:vt,type:"file",accept:".mid,.midi",onChange:it,style:{display:"none"}})]})}function fA(){return Z.jsx(hA,{})}ey.createRoot(document.getElementById("root")).render(Z.jsx(_t.StrictMode,{children:Z.jsx(fA,{})}));
